import{_ as r,c as e,o,aM as t}from"./chunks/framework.DvFTVADX.js";const u=JSON.parse('{"title":"项目管理","description":"","frontmatter":{"title":"项目管理","author":{"name":"Yan Shicheng","link":"https://www.ikubeops.com"},"date":"2026-01-17T10:00:00.000Z","permalink":"/nova/projectManager","categories":["kube-nova"],"tags":["kube-nova"]},"headers":[],"relativePath":"nova/projectManager.md","filePath":"01.指南/10.使用/07.项目管理.md","lastUpdated":null}'),n={name:"nova/projectManager.md"};function s(l,a,i,p,h,g){return o(),e("div",null,a[0]||(a[0]=[t(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /01.指南/10.使用/07.项目管理.md for this page in Markdown format</div><h1 id="项目管理" tabindex="-1">项目管理 <a class="header-anchor" href="#项目管理" aria-label="Permalink to &quot;项目管理&quot;">​</a></h1><p>✨ <strong>特性:</strong></p><ul><li>多租户隔离: 基于项目的资源隔离与权限管理</li><li>多集群资源池: 一个项目可绑定多个集群的资源配额</li><li>灵活配额管理: 支持 CPU、内存、GPU、存储、Pod 等多维度配额</li><li>超分配比例: 支持资源超分配，提高资源利用率</li><li>Kubernetes 资源限制: 细粒度控制各类 K8s 资源对象数量</li></ul><h2 id="核心概念" tabindex="-1">核心概念 <a class="header-anchor" href="#核心概念" aria-label="Permalink to &quot;核心概念&quot;">​</a></h2><p>在 Kube Nova 中，<strong>项目（Project）</strong> 是多租户隔离的核心单位。理解项目与集群资源的关系是使用平台的基础。</p><h3 id="项目与资源池的关系" tabindex="-1">项目与资源池的关系 <a class="header-anchor" href="#项目与资源池的关系" aria-label="Permalink to &quot;项目与资源池的关系&quot;">​</a></h3><p><strong>项目</strong> 是一个逻辑隔离单元，代表一个租户、团队或业务线。每个项目可以关联多个集群的资源配额，这种关联关系在 Kube Nova 中称为 <strong>资源池（Resource Pool）</strong>。</p><p>资源池定义了项目在某个特定集群上可以使用的资源上限。只有当项目拥有某个集群的资源池后，项目管理者才能在该集群上创建工作空间（Namespace）。</p><p>这种设计的核心优势在于：集群管理员可以将集群资源按需分配给不同项目，实现资源的精细化管理和成本分摊；同时，项目管理者只能在被授权的集群范围内操作，确保了多租户环境下的安全隔离。</p><h3 id="资源层级关系" tabindex="-1">资源层级关系 <a class="header-anchor" href="#资源层级关系" aria-label="Permalink to &quot;资源层级关系&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>平台 (Kube Nova)</span></span>
<span class="line"><span>  └── 集群 (Cluster)</span></span>
<span class="line"><span>        └── 资源池 (Resource Pool) ──关联──► 项目 (Project)</span></span>
<span class="line"><span>              └── 工作空间 (Workspace / Namespace)</span></span>
<span class="line"><span>                    └── 工作负载 (Workload)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr><h2 id="项目管理-1" tabindex="-1">项目管理 <a class="header-anchor" href="#项目管理-1" aria-label="Permalink to &quot;项目管理&quot;">​</a></h2><p>项目管理模块用于创建、编辑、删除和查看项目信息。</p><p><strong>操作路径</strong>：项目中心 → 项目管理</p><h3 id="项目列表" tabindex="-1">项目列表 <a class="header-anchor" href="#项目列表" aria-label="Permalink to &quot;项目列表&quot;">​</a></h3><p>项目列表展示所有已创建的项目，包括以下信息：</p><p><strong>项目名称</strong> 显示项目的显示名称，便于识别和管理。</p><p><strong>项目标识</strong> 系统自动生成的唯一标识符（UUID 格式），用于 API 调用和内部关联。</p><p><strong>描述</strong> 项目的用途说明和备注信息。</p><p><strong>管理员</strong> 显示项目管理员数量，点击可查看管理员列表。</p><p><strong>资源池</strong> 显示项目关联的集群资源池数量，数字链接可跳转至资源池详情。</p><p><strong>创建时间</strong> 项目的创建时间戳。</p><p><strong>操作</strong> 包括成员管理、详情查看、编辑和删除功能。</p><h3 id="新建项目" tabindex="-1">新建项目 <a class="header-anchor" href="#新建项目" aria-label="Permalink to &quot;新建项目&quot;">​</a></h3><p>点击「+ 新建项目」按钮创建新项目。</p><p><strong>项目名称</strong>（必填）：输入项目的显示名称，建议使用有意义的名称便于识别，例如 <code>云原生项目</code>、<code>大模型平台</code>、<code>微服务项目</code> 等。</p><p><strong>项目描述</strong>（可选）：描述项目的用途、负责团队、业务范围等信息，最多 500 字符。</p><p><strong>项目管理员</strong>（可选）：指定项目的管理员用户，管理员拥有项目内的最高权限，包括资源池分配、工作空间创建、成员管理等。</p><h3 id="默认项目" tabindex="-1">默认项目 <a class="header-anchor" href="#默认项目" aria-label="Permalink to &quot;默认项目&quot;">​</a></h3><p>系统内置一个「默认项目」，该项目具有特殊属性：未署名项目会默认到此项目下。默认项目不可删除，但可以修改其配置。建议不要将生产业务部署在默认项目中，应为每个业务线创建独立项目。</p><h3 id="同步全部数据" tabindex="-1">同步全部数据 <a class="header-anchor" href="#同步全部数据" aria-label="Permalink to &quot;同步全部数据&quot;">​</a></h3><p>点击「同步全部数据」按钮可将所有项目及其资源池的最新状态同步到平台，确保数据一致性。当发现资源池数据与实际集群状态不符时，可使用此功能进行同步。</p><hr><h2 id="资源池管理" tabindex="-1">资源池管理 <a class="header-anchor" href="#资源池管理" aria-label="Permalink to &quot;资源池管理&quot;">​</a></h2><p>资源池是项目与集群之间的桥梁，定义了项目在特定集群上的资源配额。</p><p><strong>操作路径</strong>：项目中心 → 资源池</p><h3 id="分配资源池" tabindex="-1">分配资源池 <a class="header-anchor" href="#分配资源池" aria-label="Permalink to &quot;分配资源池&quot;">​</a></h3><p>点击「+ 分配资源池」按钮为项目分配新的集群资源。</p><h4 id="步骤一-选择集群" tabindex="-1">步骤一：选择集群 <a class="header-anchor" href="#步骤一-选择集群" aria-label="Permalink to &quot;步骤一：选择集群&quot;">​</a></h4><p>在集群选择区域，输入集群名称进行搜索或点击「浏览全部」查看所有可用集群。只有已添加到平台且状态正常的集群才会出现在列表中。</p><p>选择目标集群后，系统会显示该集群的基本信息（名称、UUID）。一个集群可以被分配给多个项目，但每个项目在同一集群上只能有一个资源池。</p><h4 id="步骤二-费用配置" tabindex="-1">步骤二：费用配置 <a class="header-anchor" href="#步骤二-费用配置" aria-label="Permalink to &quot;步骤二：费用配置&quot;">​</a></h4><p>费用配置决定了该资源池的计费方案，用于成本核算和费用分摊。</p><p><strong>计费方案</strong> 从下拉列表选择预设的计费方案：</p><ul><li><strong>标准计费</strong>（系统内置）：使用平台默认价格体系</li><li><strong>不计费</strong>（系统内置）：该资源池不产生费用</li><li><strong>自定义计费</strong>：如果已在费用管理模块创建自定义计费方案，可在此选择</li></ul><p><strong>计费开始时间</strong> 设置该资源池开始计费的时间点。留空则从资源池创建时刻开始计费。</p><p><strong>价格预览</strong> 展示所选计费方案的具体价格：</p><ul><li>CPU: ¥0.0500/核/时</li><li>内存: ¥0.0150/GiB/时</li><li>存储: ¥0.0010/GiB/时</li><li>GPU: ¥15.0000/卡/时</li><li>Pod: ¥0.0020/个/时</li><li>管理费: ¥3.1000/时</li></ul><h4 id="步骤三-资源配额配置" tabindex="-1">步骤三：资源配额配置 <a class="header-anchor" href="#步骤三-资源配额配置" aria-label="Permalink to &quot;步骤三：资源配额配置&quot;">​</a></h4><p>资源配额配置是资源池的核心设置，决定了项目在该集群上可使用的资源上限。</p><p>页面顶部的「集群资源概览」区域实时显示目标集群的资源总量和已分配情况，帮助管理员了解可分配空间：</p><ul><li><strong>CPU 资源</strong>：</li><li><strong>内存资源</strong>：</li><li><strong>存储资源</strong>：</li><li><strong>GPU 资源</strong>：</li></ul><h5 id="cpu-配额" tabindex="-1">CPU 配额 <a class="header-anchor" href="#cpu-配额" aria-label="Permalink to &quot;CPU 配额&quot;">​</a></h5><p><strong>限制容量</strong> 设置项目可使用的 CPU 核数上限。单位可选择「核」或「毫核」。</p><p><strong>超分比例</strong> 资源超分配系数，范围 1.0x - 10.0x。例如设置为 4x 时，如果限制容量为 10 核，则项目实际可申请的 CPU requests 总量为 40 核。</p><p><strong>实际容量</strong> 系统自动计算：实际容量 = 限制容量 × 超分比例。这是项目在该集群上可申请的 CPU requests 总和上限。</p><p>超分配机制的设计理念：容器的 CPU requests 通常是预留值，实际使用量往往低于申请量。通过合理的超分比例，可以提高集群资源利用率，但需要注意避免超分过高导致资源竞争。</p><h5 id="内存配额" tabindex="-1">内存配额 <a class="header-anchor" href="#内存配额" aria-label="Permalink to &quot;内存配额&quot;">​</a></h5><p><strong>限制容量</strong> 设置项目可使用的内存上限。单位可选择 Gi（GiB）、Mi（MiB）等。</p><p><strong>超分比例</strong> 内存资源的超分配系数，建议比 CPU 更保守（如 1.5x - 3x），因为内存超分可能导致 OOM（Out of Memory）问题。</p><p><strong>实际容量</strong> 系统自动计算的内存 requests 总和上限。</p><h5 id="存储配额" tabindex="-1">存储配额 <a class="header-anchor" href="#存储配额" aria-label="Permalink to &quot;存储配额&quot;">​</a></h5><p><strong>存储容量限制</strong> 设置项目可使用的临时存储（ephemeral storage）上限。单位可选择 Gi、Mi 等。</p><div class="note custom-block github-alert"><p class="custom-block-title">存储配额说明</p><p>此处配置的是 Kubernetes 临时存储（ephemeral-storage）配额，主要用于控制容器的 emptyDir、日志、容器层写入等临时数据。持久化存储（PVC）的配额通过 PVC 数量限制来控制。</p></div><h5 id="gpu-配额" tabindex="-1">GPU 配额 <a class="header-anchor" href="#gpu-配额" aria-label="Permalink to &quot;GPU 配额&quot;">​</a></h5><p><strong>GPU 数量</strong> 设置项目可使用的 GPU 卡数上限。如果目标集群没有 GPU 资源，此项将显示为禁用状态。</p><p><strong>超分比例</strong> GPU 资源的超分配系数。由于 GPU 资源昂贵且通常用于计算密集型任务，建议谨慎设置超分比例。</p><h5 id="pod-配额" tabindex="-1">Pod 配额 <a class="header-anchor" href="#pod-配额" aria-label="Permalink to &quot;Pod 配额&quot;">​</a></h5><p><strong>Pod 数量限制</strong> 设置项目可创建的 Pod 总数上限。这是一个重要的安全配额，可防止单个项目创建过多 Pod 影响集群稳定性。</p><h5 id="高级配置-kubernetes-资源限制" tabindex="-1">高级配置：Kubernetes 资源限制 <a class="header-anchor" href="#高级配置-kubernetes-资源限制" aria-label="Permalink to &quot;高级配置：Kubernetes 资源限制&quot;">​</a></h5><p>展开「高级配置」区域可设置各类 Kubernetes 资源对象的数量限制：</p><p><strong>配置类资源</strong></p><ul><li><strong>ConfigMap</strong>：配置映射数量限制，默认 100</li><li><strong>Secret</strong>：密钥数量限制，默认 100</li></ul><p><strong>存储类资源</strong></p><ul><li><strong>PVC</strong>：持久化存储卷声明数量限制，默认 100</li></ul><p><strong>网络类资源</strong></p><ul><li><strong>Service</strong>：服务数量限制，默认 100</li><li><strong>Ingress</strong>：入口资源数量限制，默认 50</li><li><strong>LoadBalancer</strong>：负载均衡器数量限制，默认 10（云环境中 LB 通常有额外成本）</li><li><strong>NodePort</strong>：NodePort 服务数量限制，默认 100</li></ul><p><strong>工作负载类资源</strong></p><ul><li><strong>Deployment</strong>：部署数量限制，默认 100</li><li><strong>StatefulSet</strong>：有状态集数量限制，默认 50</li><li><strong>DaemonSet</strong>：守护进程集数量限制，默认 10</li><li><strong>Job</strong>：任务数量限制，默认 100</li><li><strong>CronJob</strong>：定时任务数量限制，默认 50</li></ul><p><strong>存储类配置</strong></p><ul><li><strong>临时存储</strong>：设置临时存储的总量限制（GiB）</li></ul><p>这些限制通过 Kubernetes 的 ResourceQuota 机制实现，当项目内的资源使用达到限制时，新的资源创建请求将被拒绝。</p><h4 id="步骤四-确认分配" tabindex="-1">步骤四：确认分配 <a class="header-anchor" href="#步骤四-确认分配" aria-label="Permalink to &quot;步骤四：确认分配&quot;">​</a></h4><p>确认所有配置无误后，点击「分配资源」按钮完成资源池创建。创建成功后，项目管理者即可在该集群上创建工作空间。</p><hr><h2 id="资源池操作" tabindex="-1">资源池操作 <a class="header-anchor" href="#资源池操作" aria-label="Permalink to &quot;资源池操作&quot;">​</a></h2><h3 id="编辑资源池" tabindex="-1">编辑资源池 <a class="header-anchor" href="#编辑资源池" aria-label="Permalink to &quot;编辑资源池&quot;">​</a></h3><p>在资源池卡片上点击更多菜单（⋮），选择「编辑」可修改资源池的配额设置。编辑时需注意：</p><p><strong>配额增加</strong> 可随时进行，不影响已有工作负载。</p><p><strong>配额减少</strong> 如果新配额小于当前已使用量，修改将被拒绝。需要先清理资源使用后再降低配额。</p><p><strong>计费方案变更</strong> 变更计费方案将影响后续的费用计算，历史费用不受影响。</p><h3 id="删除资源池" tabindex="-1">删除资源池 <a class="header-anchor" href="#删除资源池" aria-label="Permalink to &quot;删除资源池&quot;">​</a></h3><p>选择「删除」可移除项目与集群的关联关系。删除前请注意：</p><p><strong>前置条件</strong> 只有当资源池下没有工作空间（Namespace）时才能删除。如果存在工作空间，需要先删除所有工作空间。</p><p><strong>数据影响</strong> 删除资源池后，该项目将无法再在对应集群上创建资源。已产生的历史费用记录不会被删除。</p><p><strong>恢复方式</strong> 如需恢复，可重新为项目分配该集群的资源池。</p><hr><h2 id="工作空间管理" tabindex="-1">工作空间管理 <a class="header-anchor" href="#工作空间管理" aria-label="Permalink to &quot;工作空间管理&quot;">​</a></h2><p>工作空间是 Kubernetes Namespace 在 Kube Nova 中的概念映射，是项目内资源隔离的基本单位。</p><h3 id="创建工作空间的前提条件" tabindex="-1">创建工作空间的前提条件 <a class="header-anchor" href="#创建工作空间的前提条件" aria-label="Permalink to &quot;创建工作空间的前提条件&quot;">​</a></h3><p>要在某个集群上创建工作空间，必须满足以下条件：</p><ol><li><strong>项目已分配该集群的资源池</strong>：项目必须拥有目标集群的资源配额。</li><li><strong>资源配额充足</strong>：资源池中需有足够的剩余配额。</li><li><strong>用户权限</strong>：操作用户需具有项目管理员或相应的创建权限。</li></ol><h3 id="工作空间与资源池的关系" tabindex="-1">工作空间与资源池的关系 <a class="header-anchor" href="#工作空间与资源池的关系" aria-label="Permalink to &quot;工作空间与资源池的关系&quot;">​</a></h3><p>一个资源池可以包含多个工作空间，所有工作空间共享资源池的配额。这种设计允许项目管理者灵活地组织和隔离不同的应用或环境。</p><p>例如，一个「微服务项目」在某集群的资源池配额为 40 CPU、30 GiB 内存，项目管理者可以创建：</p><ul><li><code>microservice-prod</code>：生产环境工作空间</li><li><code>microservice-staging</code>：预发布环境工作空间</li><li><code>microservice-dev</code>：开发环境工作空间</li></ul><p>三个工作空间共享该资源池的 40 CPU、30 GiB 内存配额。</p><hr><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><h3 id="项目规划建议" tabindex="-1">项目规划建议 <a class="header-anchor" href="#项目规划建议" aria-label="Permalink to &quot;项目规划建议&quot;">​</a></h3><p><strong>按业务线划分项目</strong> 建议每个独立的业务线或产品创建独立项目，便于资源管理、成本核算和权限控制。</p><p><strong>避免项目粒度过细</strong> 项目数量过多会增加管理复杂度，建议根据组织架构和业务边界合理划分。</p><p><strong>明确项目管理员职责</strong> 为每个项目指定明确的管理员，负责资源池申请、工作空间管理和成员管理。</p><h3 id="资源配额设置建议" tabindex="-1">资源配额设置建议 <a class="header-anchor" href="#资源配额设置建议" aria-label="Permalink to &quot;资源配额设置建议&quot;">​</a></h3><p><strong>根据实际需求设置配额</strong> 不要一次性分配过多资源，可根据业务发展逐步增加配额。</p><p><strong>合理设置超分比例</strong></p><ul><li>CPU 超分比例建议 2x - 4x，适用于 Web 服务等 CPU 使用波动较大的场景</li><li>内存超分比例建议 1x - 2x，内存超分风险较高，需谨慎</li><li>GPU 超分比例建议 1x，GPU 任务通常需要独占使用</li></ul><p><strong>预留缓冲空间</strong> 配额设置时预留 10% - 20% 的缓冲空间，应对突发流量或紧急扩容需求。</p><p><strong>定期审查配额使用</strong> 定期检查资源池的配额使用率，对于长期低使用率的资源池考虑回收或重新分配。</p>`,121)]))}const c=r(n,[["render",s]]);export{u as __pageData,c as default};
