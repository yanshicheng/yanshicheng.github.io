(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(u&&u(e);p.length;)p.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),n=i(i.s=t[0]))}return n}var r={},o={1:0},a=[];function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t=o[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=o[n]=[e,r]}));e.push(t[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(n){return i.p+"assets/js/"+({}[n]||n)+"."+{2:"3e576c84",3:"54b040a5",4:"7b5de6ae",5:"a4edadfa",6:"38b51ba3",7:"5f97d280",8:"f9a959dd",9:"8d4c65ae",10:"629a24c0",11:"c6c3f665",12:"740f53fb",13:"eb2156d1",14:"c030ad4a",15:"2849772b",16:"5730be72",17:"6bb4d7d1",18:"00d9bff5",19:"dfa3593d",20:"aeaa192e",21:"8c18908b",22:"2c3bba86",23:"acc6a830",24:"8bc85191",25:"fe10ea4c",26:"d93473bf",27:"178d3a65",28:"a3005ae1",29:"4dfc98b4",30:"d434609d",31:"e451eb8d",32:"90c9e75a",33:"d28d715a",34:"b0ee9706",35:"31c6edef",36:"7a4290f9",37:"be852255",38:"55f8d6b2",39:"66beb064",40:"26d244d2",41:"065fd559",42:"619efcfd",43:"0c61546e",44:"7bc12009",45:"eee015f7",46:"ff6d2497",47:"ee68f6e1",48:"aecb8d93",49:"e2afdb5b",50:"101e28ba",51:"5137341b",52:"13502e23",53:"5fe6f75e",54:"5696bc5c",55:"bed2c041",56:"c13079ee"}[n]+".js"}(n);var c=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var t=o[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,t[1](c)}o[n]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=n,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(t,r,function(e){return n[e]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/",i.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([107,0]),t()}([function(n,e,t){"use strict";var r=function(n){return n&&n.Math===Math&&n};n.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},function(n,e,t){"use strict";var r="object"==typeof document&&document.all;n.exports=void 0===r&&void 0!==r?function(n){return"function"==typeof n||n===r}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var r=t(26),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);n.exports=r?i:function(n){return function(){return a.apply(n,arguments)}}},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";function r(n,e,t,r,o,a,i,s){var c,l="function"==typeof n?n.options:n;if(e&&(l.render=e,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(n,e){return c.call(e),u(n,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:n,options:l}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){"use strict";var r=t(1);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(69),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();n.exports=a},function(n,e,t){"use strict";var r=t(2),o=t(31),a=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return a(o(n),e)}},function(n,e,t){var r=t(165),o=t(168);n.exports=function(n,e){var t=o(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return a})),t.d(e,"j",(function(){return i})),t.d(e,"g",(function(){return c})),t.d(e,"h",(function(){return l})),t.d(e,"i",(function(){return u})),t.d(e,"c",(function(){return d})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return h})),t.d(e,"m",(function(){return f})),t.d(e,"d",(function(){return v})),t.d(e,"k",(function(){return g})),t.d(e,"n",(function(){return y})),t.d(e,"a",(function(){return b}));t(13);const r=/#.*$/,o=/\.(md|html)$/,a=/\/$/,i=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(o,"")}function c(n){return i.test(n)}function l(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function d(n){if(c(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",o=s(n);return a.test(o)?n:o+".html"+t}function p(n,e){const t=n.hash,o=function(n){const e=n&&n.match(r);if(e)return e[0]}(e);if(o&&t!==o)return!1;return s(n.path)===s(e)}function h(n,e,t){if(c(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const o=e.split("/");t&&o[o.length-1]||o.pop();const a=n.replace(/^\//,"").split("/");for(let n=0;n<a.length;n++){const e=a[n];".."===e?o.pop():"."!==e&&o.push(e)}""!==o[0]&&o.unshift("");return o.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:d(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function f(n,e,t,r){const{pages:o,themeConfig:a}=t,i=r&&a.locales&&a.locales[r]||a;if("auto"===(n.frontmatter.sidebar||i.sidebar||a.sidebar))return m(n);const s=i.sidebar||a.sidebar;if(s){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return"auto"===r?m(n):r?r.map(n=>function n(e,t,r,o=1){if("string"==typeof e)return h(t,e,r);if(Array.isArray(e))return Object.assign(h(t,e[0],r),{title:e[1]});{o>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const a=e.children||[];return 0===a.length&&e.path?Object.assign(h(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:a.map(e=>n(e,t,r,o+1)),collapsable:!1!==e.collapsable}}}(n,o,t)):[]}return[]}function m(n){const e=v(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function v(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function g(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function y(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function _(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function b(n,e){return _(e)-_(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";var r=t(25),o=t(31),a=t(32),i=t(144),s=t(146);r({target:"Array",proto:!0,arity:1,forced:t(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=o(this),t=a(e),r=arguments.length;s(t+r);for(var c=0;c<r;c++)e[t]=arguments[c],t++;return i(e,t),t}})},function(n,e,t){var r=t(16),o=t(150),a=t(151),i=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":i&&i in Object(n)?o(n):a(n)}},function(n,e,t){"use strict";var r=t(5),o=t(17),a=t(34);n.exports=r?function(n,e,t){return o.f(n,e,a(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(8).Symbol;n.exports=r},function(n,e,t){"use strict";var r=t(5),o=t(64),a=t(102),i=t(47),s=t(55),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=r?a?function(n,e,t){if(i(n),e=s(e),i(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=u(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return l(n,e,t)}:l:function(n,e,t){if(i(n),e=s(e),i(t),o)try{return l(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){"use strict";var r=t(2),o=r({}.toString),a=r("".slice);n.exports=function(n){return a(o(n),8,-1)}},function(n,e,t){var r=t(155),o=t(156),a=t(157),i=t(158),s=t(159);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(71);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(10)(Object,"create");n.exports=r},function(n,e,t){var r=t(177);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(45);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r,o;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(o="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(n,e,t){return n<e?e:n>t?t:n}function a(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=o(n,r.minimum,1),t.status=1===n?null:n;var c=t.render(!e),l=c.querySelector(r.barSelector),u=r.speed,d=r.easing;return c.offsetWidth,i((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(l,function(n,e,t){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+a(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(n)+"%,0)"}:{"margin-left":a(n)+"%"}).transition="all "+e+"ms "+t,o}(n,u,d)),1===n?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var o,i=e.querySelector(r.barSelector),c=n?"-100":a(t.status||0),u=document.querySelector(r.parent);return s(i,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),r.showSpinner||(o=e.querySelector(r.spinnerSelector))&&p(o),u!=document.body&&l(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var i=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,o=n.length,a=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=n[o]+a)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,o,a=arguments;if(2==a.length)for(t in e)void 0!==(o=e[t])&&e.hasOwnProperty(t)&&r(n,t,o);else r(n,a[1],a[2])}}();function c(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function l(n,e){var t=d(n),r=t+e;c(t,e)||(n.className=r.substring(1))}function u(n,e){var t,r=d(n);c(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=o)},function(n,e,t){"use strict";var r=t(0),o=t(53).f,a=t(15),i=t(98),s=t(37),c=t(65),l=t(126);n.exports=function(n,e){var t,u,d,p,h,f=n.target,m=n.global,v=n.stat;if(t=m?r:v?r[f]||s(f,{}):r[f]&&r[f].prototype)for(u in e){if(p=e[u],d=n.dontCallGetSet?(h=o(t,u))&&h.value:t[u],!l(m?u:f+(v?".":"#")+u,n.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(n.sham||d&&d.sham)&&a(p,"sham",!0),i(t,u,p,n)}}},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";var r=t(49),o=t(35);n.exports=function(n){return r(o(n))}},function(n,e,t){"use strict";var r=t(0),o=t(1),a=function(n){return o(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?a(r[n]):r[n]&&r[n][e]}},function(n,e,t){"use strict";var r=t(1),o=t(113),a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(o(n)+" is not a function")}},function(n,e,t){"use strict";var r=t(0),o=t(61),a=t(9),i=t(63),s=t(59),c=t(58),l=r.Symbol,u=o("wks"),d=c?l.for||l:l&&l.withoutSetter||i;n.exports=function(n){return a(u,n)||(u[n]=s&&a(l,n)?l[n]:d("Symbol."+n)),u[n]}},function(n,e,t){"use strict";var r=t(35),o=Object;n.exports=function(n){return o(r(n))}},function(n,e,t){"use strict";var r=t(124);n.exports=function(n){return r(n.length)}},function(n,e,t){"use strict";var r=t(26),o=Function.prototype.call;n.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var r=t(54),o=TypeError;n.exports=function(n){if(r(n))throw new o("Can't call method on "+n);return n}},function(n,e,t){"use strict";var r=t(62),o=t(0),a=t(37),i=n.exports=o["__core-js_shared__"]||a("__core-js_shared__",{});(i.versions||(i.versions=[])).push({version:"3.37.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";var r=t(0),o=Object.defineProperty;n.exports=function(n,e){try{o(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(149),o=t(12),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(n){return o(n)&&i.call(n,"callee")&&!s.call(n,"callee")};n.exports=c},function(n,e,t){var r=t(10)(t(8),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(169),o=t(176),a=t(178),i=t(179),s=t(180);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(6),o=t(45),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!o(n))||(i.test(n)||!a.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(14),o=t(12);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";var r=t(7),o=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(o(n)+" is not an object")}},function(n,e,t){"use strict";var r=t(25),o=t(0),a=t(130),i=t(131),s=o.WebAssembly,c=7!==new Error("e",{cause:7}).cause,l=function(n,e){var t={};t[n]=i(n,e,c),r({global:!0,constructor:!0,arity:1,forced:c},t)},u=function(n,e){if(s&&s[n]){var t={};t[n]=i("WebAssembly."+n,e,c),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},t)}};l("Error",(function(n){return function(e){return a(n,this,arguments)}})),l("EvalError",(function(n){return function(e){return a(n,this,arguments)}})),l("RangeError",(function(n){return function(e){return a(n,this,arguments)}})),l("ReferenceError",(function(n){return function(e){return a(n,this,arguments)}})),l("SyntaxError",(function(n){return function(e){return a(n,this,arguments)}})),l("TypeError",(function(n){return function(e){return a(n,this,arguments)}})),l("URIError",(function(n){return function(e){return a(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return a(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return a(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return a(n,this,arguments)}}))},function(n,e,t){"use strict";var r=t(2),o=t(3),a=t(18),i=Object,s=r("".split);n.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(n){return"String"===a(n)?s(n,""):i(n)}:i},function(n,e,t){"use strict";n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,h=function(){return l.Date.now()};function f(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function m(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(f(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=f(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=o.test(n);return s||a.test(n)?i(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,o,a,i,s,c,l=0,u=!1,v=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(e){var t=r,a=o;return r=o=void 0,l=e,i=n.apply(a,t)}function _(n){return l=n,s=setTimeout(x,e),u?y(n):i}function b(n){var t=n-c;return void 0===c||t>=e||t<0||v&&n-l>=a}function x(){var n=h();if(b(n))return k(n);s=setTimeout(x,function(n){var t=e-(n-c);return v?p(t,a-(n-l)):t}(n))}function k(n){return s=void 0,g&&r?y(n):(r=o=void 0,i)}function w(){var n=h(),t=b(n);if(r=arguments,o=this,c=n,t){if(void 0===s)return _(c);if(v)return s=setTimeout(x,e),y(c)}return void 0===s&&(s=setTimeout(x,e)),i}return e=m(e)||0,f(t)&&(u=!!t.leading,a=(v="maxWait"in t)?d(m(t.maxWait)||0,e):a,g="trailing"in t?!!t.trailing:g),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},w.flush=function(){return void 0===s?i:k(h())},w}},function(n,e,t){"use strict";var r=t(5),o=t(33),a=t(109),i=t(34),s=t(27),c=t(55),l=t(9),u=t(64),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(n,e){if(n=s(n),e=c(e),u)try{return d(n,e)}catch(n){}if(l(n,e))return i(!o(a.f,n,e),n[e])}},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var r=t(110),o=t(56);n.exports=function(n){var e=r(n,"string");return o(e)?e:e+""}},function(n,e,t){"use strict";var r=t(28),o=t(1),a=t(57),i=t(58),s=Object;n.exports=i?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return o(e)&&a(e.prototype,s(n))}},function(n,e,t){"use strict";var r=t(2);n.exports=r({}.isPrototypeOf)},function(n,e,t){"use strict";var r=t(59);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var r=t(60),o=t(3),a=t(0).String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var n=Symbol("symbol detection");return!a(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){"use strict";var r,o,a=t(0),i=t(111),s=a.process,c=a.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),n.exports=o},function(n,e,t){"use strict";var r=t(36);n.exports=function(n,e){return r[n]||(r[n]=e||{})}},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";var r=t(2),o=0,a=Math.random(),i=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+i(++o+a,36)}},function(n,e,t){"use strict";var r=t(5),o=t(3),a=t(101);n.exports=!r&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var r=t(9),o=t(119),a=t(53),i=t(17);n.exports=function(n,e,t){for(var s=o(e),c=i.f,l=a.f,u=0;u<s.length;u++){var d=s[u];r(n,d)||t&&r(t,d)||c(n,d,l(e,d))}}},function(n,e,t){"use strict";var r=t(123);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){"use strict";var r=t(132),o=t(7),a=t(35),i=t(133);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return a(t),i(r),o(t)?(e?n(t,r):t.__proto__=r,t):t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(19),o=t(160),a=t(161),i=t(162),s=t(163),c=t(164);function l(n){var e=this.__data__=new r(n);this.size=e.size}l.prototype.clear=o,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,n.exports=l},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(14),o=t(40);n.exports=function(n){if(!o(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(181),o=t(12);n.exports=function n(e,t,a,i,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:r(e,t,a,i,n,s))}},function(n,e,t){var r=t(76),o=t(184),a=t(77);n.exports=function(n,e,t,i,s,c){var l=1&t,u=n.length,d=e.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(n),h=c.get(e);if(p&&h)return p==e&&h==n;var f=-1,m=!0,v=2&t?new r:void 0;for(c.set(n,e),c.set(e,n);++f<u;){var g=n[f],y=e[f];if(i)var _=l?i(y,g,f,e,n,c):i(g,y,f,n,e,c);if(void 0!==_){if(_)continue;m=!1;break}if(v){if(!o(e,(function(n,e){if(!a(v,e)&&(g===n||s(g,n,t,i,c)))return v.push(e)}))){m=!1;break}}else if(g!==y&&!s(g,y,t,i,c)){m=!1;break}}return c.delete(n),c.delete(e),m}},function(n,e,t){var r=t(41),o=t(182),a=t(183);function i(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,n.exports=i},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(194),o=t(200),a=t(82);n.exports=function(n){return a(n)?r(n):o(n)}},function(n,e,t){(function(n){var r=t(8),o=t(196),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,s=i&&i.exports===a?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;n.exports=c}).call(this,t(51)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(197),o=t(198),a=t(199),i=a&&a.isTypedArray,s=i?o(i):r;n.exports=s},function(n,e,t){var r=t(72),o=t(43);n.exports=function(n){return null!=n&&o(n.length)&&!r(n)}},function(n,e,t){var r=t(10)(t(8),"Set");n.exports=r},function(n,e,t){var r=t(40);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(87),o=t(23);n.exports=function(n,e){for(var t=0,a=(e=r(e,n)).length;null!=n&&t<a;)n=n[o(e[t++])];return t&&t==a?n:void 0}},function(n,e,t){var r=t(6),o=t(44),a=t(211),i=t(214);n.exports=function(n,e){return r(n)?n:o(n,e)?[n]:a(i(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(147),o=t(152),a=t(223),i=t(231),s=t(240),c=t(106),l=a((function(n){var e=c(n);return s(e)&&(e=void 0),i(r(n,1,s,!0),o(e,2))}));n.exports=l},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,o=r.exec(t);if(!o)return t;var a="",i=0,s=0;for(i=o.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==i&&(a+=t.substring(s,i)),s=i+1,a+=e}return s!==i?a+t.substring(s,i):a}},function(n,e,t){var r;"undefined"!=typeof self&&self,r=function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=7)}([function(n,e,t){n.exports=!t(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(n,e){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,e){n.exports=function(n,e,t,r,o){var a,i=n=n||{},s=typeof n.default;"object"!==s&&"function"!==s||(a=n,i=n.default);var c,l="function"==typeof i?i.options:i;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),r&&(l._scopeId=r),o?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},l._ssrRegister=c):t&&(c=t),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(n,e){return c.call(e),d(n,e)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:i,options:l}}},function(n,e){var t=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(n,e){var t=n.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},function(n,e,t){var r=t(23),o=t(24),a=t(26),i=Object.defineProperty;e.f=t(0)?Object.defineProperty:function(n,e,t){if(r(n),e=a(e,!0),r(t),o)try{return i(n,e,t)}catch(n){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(n[e]=t.value),n}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r,o,a;o=[e,t(8),t(11)],void 0===(a="function"==typeof(r=function(n,e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Tabs=n.Tab=void 0;var r=a(e),o=a(t);function a(n){return n&&n.__esModule?n:{default:n}}n.default={install:function(n){n.component("tab",r.default),n.component("tabs",o.default)}},n.Tab=r.default,n.Tabs=o.default})?r.apply(e,o):r)||(n.exports=a)},function(n,e,t){var r=t(2)(t(9),t(10),null,null,null);n.exports=r.exports},function(n,e,t){var r,o,a;o=[e],void 0===(a="function"==typeof(r=function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:{id:{default:null},name:{required:!0},prefix:{default:""},suffix:{default:""},isDisabled:{default:!1}},data:function(){return{isActive:!1,isVisible:!0}},computed:{header:function(){return this.prefix+this.name+this.suffix},computedId:function(){return this.id?this.id:this.name.toLowerCase().replace(/ /g,"-")},hash:function(){return this.isDisabled?"#":"#"+this.computedId}}}})?r.apply(e,o):r)||(n.exports=a)},function(n,e){n.exports={render:function(){var n=this.$createElement;return(this._self._c||n)("section",{directives:[{name:"show",rawName:"v-show",value:this.isActive,expression:"isActive"}],staticClass:"tabs-component-panel",attrs:{"aria-hidden":!this.isActive,id:this.computedId,role:"tabpanel"}},[this._t("default")],2)},staticRenderFns:[]}},function(n,e,t){var r=t(2)(t(12),t(29),null,null,null);n.exports=r.exports},function(n,e,t){var r,o,a;o=[e,t(13)],void 0===(a="function"==typeof(r=function(n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t,r=(t=e)&&t.__esModule?t:{default:t};n.default={props:{cacheLifetime:{default:5},options:{type:Object,required:!1,default:function(){return{useUrlFragment:!0,defaultTabHash:null}}}},data:function(){return{tabs:[],activeTabHash:"",activeTabIndex:0,lastActiveTabHash:""}},computed:{storageKey:function(){return"vue-tabs-component.cache."+window.location.host+window.location.pathname}},created:function(){this.tabs=this.$children},mounted:function(){var n=this;if(window.addEventListener("hashchange",(function(){return n.selectTab(window.location.hash)})),this.findTab(window.location.hash))this.selectTab(window.location.hash);else{var e=r.default.get(this.storageKey);this.findTab(e)?this.selectTab(e):null!==this.options.defaultTabHash&&this.findTab("#"+this.options.defaultTabHash)?this.selectTab("#"+this.options.defaultTabHash):this.tabs.length&&this.selectTab(this.tabs[0].hash)}},methods:{findTab:function(n){return this.tabs.find((function(e){return e.hash===n}))},selectTab:function(n,e){e&&!this.options.useUrlFragment&&e.preventDefault();var t=this.findTab(n);t&&(t.isDisabled?e.preventDefault():this.lastActiveTabHash!==t.hash?(this.tabs.forEach((function(n){n.isActive=n.hash===t.hash})),this.$emit("changed",{tab:t}),this.activeTabHash=t.hash,this.activeTabIndex=this.getTabIndex(n),this.lastActiveTabHash=this.activeTabHash=t.hash,r.default.set(this.storageKey,t.hash,this.cacheLifetime)):this.$emit("clicked",{tab:t}))},setTabVisible:function(n,e){var t=this.findTab(n);t&&(t.isVisible=e,t.isActive&&(t.isActive=e,this.tabs.every((function(n,e,t){return!n.isVisible||(n.isActive=!0,!1)}))))},getTabIndex:function(n){var e=this.findTab(n);return this.tabs.indexOf(e)},getTabHash:function(n){var e=this,t=this.tabs.find((function(t){return e.tabs.indexOf(t)===n}));if(t)return t.hash},getActiveTab:function(){return this.findTab(this.activeTabHash)},getActiveTabIndex:function(){return this.getTabIndex(this.activeTabHash)}}}})?r.apply(e,o):r)||(n.exports=a)},function(n,e,t){var r,o,a;o=[e,t(14),t(15)],void 0===(a="function"==typeof(r=function(n,e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e),o=a(t);function a(n){return n&&n.__esModule?n:{default:n}}var i=function(){function n(){(0,r.default)(this,n)}return(0,o.default)(n,[{key:"get",value:function(n){var e=JSON.parse(localStorage.getItem(n));return e?new Date(e.expires)<new Date?(localStorage.removeItem(n),null):e.value:null}},{key:"set",value:function(n,e,t){var r=(new Date).getTime(),o=new Date(r+6e4*t);localStorage.setItem(n,JSON.stringify({value:e,expires:o}))}}]),n}();n.default=new i})?r.apply(e,o):r)||(n.exports=a)},function(n,e,t){"use strict";e.__esModule=!0,e.default=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}},function(n,e,t){"use strict";e.__esModule=!0;var r,o=t(16),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}()},function(n,e,t){n.exports={default:t(17),__esModule:!0}},function(n,e,t){t(18);var r=t(4).Object;n.exports=function(n,e,t){return r.defineProperty(n,e,t)}},function(n,e,t){var r=t(19);r(r.S+r.F*!t(0),"Object",{defineProperty:t(5).f})},function(n,e,t){var r=t(3),o=t(4),a=t(20),i=t(22),s=t(28),c=function(n,e,t){var l,u,d,p=n&c.F,h=n&c.G,f=n&c.S,m=n&c.P,v=n&c.B,g=n&c.W,y=h?o:o[e]||(o[e]={}),_=y.prototype,b=h?r:f?r[e]:(r[e]||{}).prototype;for(l in h&&(t=e),t)(u=!p&&b&&void 0!==b[l])&&s(y,l)||(d=u?b[l]:t[l],y[l]=h&&"function"!=typeof b[l]?t[l]:v&&u?a(d,r):g&&b[l]==d?function(n){var e=function(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)};return e.prototype=n.prototype,e}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[l]=d,n&c.R&&_&&!_[l]&&i(_,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,n.exports=c},function(n,e,t){var r=t(21);n.exports=function(n,e,t){if(r(n),void 0===e)return n;switch(t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,r){return n.call(e,t,r)};case 3:return function(t,r,o){return n.call(e,t,r,o)}}return function(){return n.apply(e,arguments)}}},function(n,e){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,e,t){var r=t(5),o=t(27);n.exports=t(0)?function(n,e,t){return r.f(n,e,o(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(1);n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},function(n,e,t){n.exports=!t(0)&&!t(6)((function(){return 7!=Object.defineProperty(t(25)("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(1),o=t(3).document,a=r(o)&&r(o.createElement);n.exports=function(n){return a?o.createElement(n):{}}},function(n,e,t){var r=t(1);n.exports=function(n,e){if(!r(n))return n;var t,o;if(e&&"function"==typeof(t=n.toString)&&!r(o=t.call(n)))return o;if("function"==typeof(t=n.valueOf)&&!r(o=t.call(n)))return o;if(!e&&"function"==typeof(t=n.toString)&&!r(o=t.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){var t={}.hasOwnProperty;n.exports=function(n,e){return t.call(n,e)}},function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"tabs-component"},[t("ul",{staticClass:"tabs-component-tabs",attrs:{role:"tablist"}},n._l(n.tabs,(function(e,r){return t("li",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"tab.isVisible"}],key:r,staticClass:"tabs-component-tab",class:{"is-active":e.isActive,"is-disabled":e.isDisabled},attrs:{role:"presentation"}},[t("a",{staticClass:"tabs-component-tab-a",attrs:{"aria-controls":e.hash,"aria-selected":e.isActive,href:e.hash,role:"tab"},domProps:{innerHTML:n._s(e.header)},on:{click:function(t){n.selectTab(e.hash,t)}}})])}))),n._v(" "),t("div",{staticClass:"tabs-component-panels"},[n._t("default")],2)])},staticRenderFns:[]}}])},n.exports=r()},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},o=(t(243),t(4)),a=Object(o.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=a.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},o=(t(244),t(4)),a=Object(o.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=a.exports},function(n,e,t){"use strict";var r=t(1),o=t(17),a=t(103),i=t(37);n.exports=function(n,e,t,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:e;if(r(t)&&a(t,l,s),s.global)c?n[e]=t:i(e,t);else{try{s.unsafe?n[e]&&(c=!0):delete n[e]}catch(n){}c?n[e]=t:o.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r=t(138),o=String;n.exports=function(n){if("Symbol"===r(n))throw new TypeError("Cannot convert a Symbol value to a string");return o(n)}},function(n,e,t){"use strict";var r=t(0),o=t(7),a=r.document,i=o(a)&&o(a.createElement);n.exports=function(n){return i?a.createElement(n):{}}},function(n,e,t){"use strict";var r=t(5),o=t(3);n.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var r=t(2),o=t(3),a=t(1),i=t(9),s=t(5),c=t(115).CONFIGURABLE,l=t(116),u=t(117),d=u.enforce,p=u.get,h=String,f=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),y=s&&!o((function(){return 8!==f((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=n.exports=function(n,e,t){"Symbol("===m(h(e),0,7)&&(e="["+v(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!i(n,"name")||c&&n.name!==e)&&(s?f(n,"name",{value:e,configurable:!0}):n.name=e),y&&t&&i(t,"arity")&&n.length!==t.arity&&f(n,"length",{value:t.arity});try{t&&i(t,"constructor")&&t.constructor?s&&f(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=d(n);return i(r,"source")||(r.source=g(_,"string"==typeof e?e:"")),n};Function.prototype.toString=b((function(){return a(this)&&p(this).source||l(this)}),"toString")},function(n,e,t){"use strict";var r=t(61),o=t(63),a=r("keys");n.exports=function(n){return a[n]||(a[n]=o(n))}},function(n,e,t){"use strict";var r=t(2),o=t(9),a=t(27),i=t(121).indexOf,s=t(50),c=r([].push);n.exports=function(n,e){var t,r=a(n),l=0,u=[];for(t in r)!o(s,t)&&o(r,t)&&c(u,t);for(;e.length>l;)o(r,t=e[l++])&&(~i(u,t)||c(u,t));return u}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(250)},function(n,e,t){"use strict";var r=t(25),o=t(127).left,a=t(128),i=t(60);r({target:"Array",proto:!0,forced:!t(129)&&i>79&&i<83||!a("reduce")},{reduce:function(n){var e=arguments.length;return o(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);e.f=a?function(n){var e=o(this,n);return!!e&&e.enumerable}:r},function(n,e,t){"use strict";var r=t(33),o=t(7),a=t(56),i=t(112),s=t(114),c=t(30),l=TypeError,u=c("toPrimitive");n.exports=function(n,e){if(!o(n)||a(n))return n;var t,c=i(n,u);if(c){if(void 0===e&&(e="default"),t=r(c,n,e),!o(t)||a(t))return t;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e,t){"use strict";n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){"use strict";var r=t(29),o=t(54);n.exports=function(n,e){var t=n[e];return o(t)?void 0:r(t)}},function(n,e,t){"use strict";var r=String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var r=t(33),o=t(1),a=t(7),i=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&o(t=n.toString)&&!a(s=r(t,n)))return s;if(o(t=n.valueOf)&&!a(s=r(t,n)))return s;if("string"!==e&&o(t=n.toString)&&!a(s=r(t,n)))return s;throw new i("Can't convert object to primitive value")}},function(n,e,t){"use strict";var r=t(5),o=t(9),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&i(a,"name").configurable);n.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},function(n,e,t){"use strict";var r=t(2),o=t(1),a=t(36),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(n){return i(n)}),n.exports=a.inspectSource},function(n,e,t){"use strict";var r,o,a,i=t(118),s=t(0),c=t(7),l=t(15),u=t(9),d=t(36),p=t(104),h=t(50),f=s.TypeError,m=s.WeakMap;if(i||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(n,e){if(v.has(n))throw new f("Object already initialized");return e.facade=n,v.set(n,e),e},o=function(n){return v.get(n)||{}},a=function(n){return v.has(n)}}else{var g=p("state");h[g]=!0,r=function(n,e){if(u(n,g))throw new f("Object already initialized");return e.facade=n,l(n,g,e),e},o=function(n){return u(n,g)?n[g]:{}},a=function(n){return u(n,g)}}n.exports={set:r,get:o,has:a,enforce:function(n){return a(n)?o(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=o(e)).type!==n)throw new f("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(0),o=t(1),a=r.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},function(n,e,t){"use strict";var r=t(28),o=t(2),a=t(120),i=t(125),s=t(47),c=o([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=a.f(s(n)),t=i.f;return t?c(e,t(n)):e}},function(n,e,t){"use strict";var r=t(105),o=t(99).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,o)}},function(n,e,t){"use strict";var r=t(27),o=t(122),a=t(32),i=function(n){return function(e,t,i){var s=r(e),c=a(s);if(0===c)return!n&&-1;var l,u=o(i,c);if(n&&t!=t){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((n||u in s)&&s[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:i(!0),indexOf:i(!1)}},function(n,e,t){"use strict";var r=t(66),o=Math.max,a=Math.min;n.exports=function(n,e){var t=r(n);return t<0?o(t+e,0):a(t,e)}},function(n,e,t){"use strict";var r=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?o:r)(e)}},function(n,e,t){"use strict";var r=t(66),o=Math.min;n.exports=function(n){var e=r(n);return e>0?o(e,9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var r=t(3),o=t(1),a=/#|\.prototype\./,i=function(n,e){var t=c[s(n)];return t===u||t!==l&&(o(e)?r(e):!!e)},s=i.normalize=function(n){return String(n).replace(a,".").toLowerCase()},c=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";n.exports=i},function(n,e,t){"use strict";var r=t(29),o=t(31),a=t(49),i=t(32),s=TypeError,c="Reduce of empty array with no initial value",l=function(n){return function(e,t,l,u){var d=o(e),p=a(d),h=i(d);if(r(t),0===h&&l<2)throw new s(c);var f=n?h-1:0,m=n?-1:1;if(l<2)for(;;){if(f in p){u=p[f],f+=m;break}if(f+=m,n?f<0:h<=f)throw new s(c)}for(;n?f>=0:h>f;f+=m)f in p&&(u=t(u,p[f],f,d));return u}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var r=t(0),o=t(18);n.exports="process"===o(r.process)},function(n,e,t){"use strict";var r=t(26),o=Function.prototype,a=o.apply,i=o.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},function(n,e,t){"use strict";var r=t(28),o=t(9),a=t(15),i=t(57),s=t(67),c=t(65),l=t(135),u=t(136),d=t(137),p=t(140),h=t(141),f=t(5),m=t(62);n.exports=function(n,e,t,v){var g=v?2:1,y=n.split("."),_=y[y.length-1],b=r.apply(null,y);if(b){var x=b.prototype;if(!m&&o(x,"cause")&&delete x.cause,!t)return b;var k=r("Error"),w=e((function(n,e){var t=d(v?e:n,void 0),r=v?new b(n):new b;return void 0!==t&&a(r,"message",t),h(r,w,r.stack,2),this&&i(x,this)&&u(r,this,w),arguments.length>g&&p(r,arguments[g]),r}));if(w.prototype=x,"Error"!==_?s?s(w,k):c(w,k,{name:!0}):f&&"stackTraceLimit"in b&&(l(w,b,"stackTraceLimit"),l(w,b,"prepareStackTrace")),c(w,b),!m)try{x.name!==_&&a(x,"name",_),x.constructor=w}catch(n){}return w}}},function(n,e,t){"use strict";var r=t(2),o=t(29);n.exports=function(n,e,t){try{return r(o(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var r=t(134),o=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a("Can't set "+o(n)+" as a prototype")}},function(n,e,t){"use strict";var r=t(7);n.exports=function(n){return r(n)||null===n}},function(n,e,t){"use strict";var r=t(17).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(1),o=t(7),a=t(67);n.exports=function(n,e,t){var i,s;return a&&r(i=e.constructor)&&i!==t&&o(s=i.prototype)&&s!==t.prototype&&a(n,s),n}},function(n,e,t){"use strict";var r=t(100);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){"use strict";var r=t(139),o=t(1),a=t(18),i=t(30)("toStringTag"),s=Object,c="Arguments"===a(function(){return arguments}());n.exports=r?a:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),i))?t:c?a(e):"Object"===(r=a(e))&&o(e.callee)?"Arguments":r}},function(n,e,t){"use strict";var r={};r[t(30)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){"use strict";var r=t(7),o=t(15);n.exports=function(n,e){r(e)&&"cause"in e&&o(n,"cause",e.cause)}},function(n,e,t){"use strict";var r=t(15),o=t(142),a=t(143),i=Error.captureStackTrace;n.exports=function(n,e,t,s){a&&(i?i(n,e):r(n,"stack",o(t,s)))}},function(n,e,t){"use strict";var r=t(2),o=Error,a=r("".replace),i=String(new o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);n.exports=function(n,e){if(c&&"string"==typeof n&&!o.prepareStackTrace)for(;e--;)n=a(n,s,"");return n}},function(n,e,t){"use strict";var r=t(3),o=t(34);n.exports=!r((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",o(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(5),o=t(145),a=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(o(n)&&!i(n,"length").writable)throw new a("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var r=t(18);n.exports=Array.isArray||function(n){return"Array"===r(n)}},function(n,e,t){"use strict";var r=TypeError;n.exports=function(n){if(n>9007199254740991)throw r("Maximum allowed index exceeded");return n}},function(n,e,t){var r=t(68),o=t(148);n.exports=function n(e,t,a,i,s){var c=-1,l=e.length;for(a||(a=o),s||(s=[]);++c<l;){var u=e[c];t>0&&a(u)?t>1?n(u,t-1,a,i,s):r(s,u):i||(s[s.length]=u)}return s}},function(n,e,t){var r=t(16),o=t(38),a=t(6),i=r?r.isConcatSpreadable:void 0;n.exports=function(n){return a(n)||o(n)||!!(i&&n&&n[i])}},function(n,e,t){var r=t(14),o=t(12);n.exports=function(n){return o(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(16),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=a.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var o=i.call(n);return r&&(e?n[s]=t:delete n[s]),o}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(153),o=t(209),a=t(46),i=t(6),s=t(220);n.exports=function(n){return"function"==typeof n?n:null==n?a:"object"==typeof n?i(n)?o(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(154),o=t(208),a=t(85);n.exports=function(n){var e=o(n);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(70),o=t(74);n.exports=function(n,e,t,a){var i=t.length,s=i,c=!a;if(null==n)return!s;for(n=Object(n);i--;){var l=t[i];if(c&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++i<s;){var u=(l=t[i])[0],d=n[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in n))return!1}else{var h=new r;if(a)var f=a(d,p,u,n,e,h);if(!(void 0===f?o(p,d,3,a,h):f))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(20),o=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():o.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(20);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(20);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(20);n.exports=function(n,e){var t=this.__data__,o=r(t,n);return o<0?(++this.size,t.push([n,e])):t[o][1]=e,this}},function(n,e,t){var r=t(19);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(19),o=t(39),a=t(41);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var i=t.__data__;if(!o||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new a(i)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(72),o=t(166),a=t(40),i=t(73),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!a(n)||o(n))&&(r(n)?p:s).test(i(n))}},function(n,e,t){var r,o=t(167),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!a&&a in n}},function(n,e,t){var r=t(8)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(170),o=t(19),a=t(39);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(n,e,t){var r=t(171),o=t(172),a=t(173),i=t(174),s=t(175);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(21);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(21),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(21),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:o.call(e,n)}},function(n,e,t){var r=t(21);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(22);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(22);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(22);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(22);n.exports=function(n,e){var t=r(this,n),o=t.size;return t.set(n,e),this.size+=t.size==o?0:1,this}},function(n,e,t){var r=t(70),o=t(75),a=t(185),i=t(188),s=t(204),c=t(6),l=t(79),u=t(81),d="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,h,f,m){var v=c(n),g=c(e),y=v?"[object Array]":s(n),_=g?"[object Array]":s(e),b=(y="[object Arguments]"==y?d:y)==d,x=(_="[object Arguments]"==_?d:_)==d,k=y==_;if(k&&l(n)){if(!l(e))return!1;v=!0,b=!1}if(k&&!b)return m||(m=new r),v||u(n)?o(n,e,t,h,f,m):a(n,e,y,t,h,f,m);if(!(1&t)){var w=b&&p.call(n,"__wrapped__"),T=x&&p.call(e,"__wrapped__");if(w||T){var E=w?n.value():n,C=T?e.value():e;return m||(m=new r),f(E,C,t,h,m)}}return!!k&&(m||(m=new r),i(n,e,t,h,f,m))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(16),o=t(186),a=t(71),i=t(75),s=t(187),c=t(42),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;n.exports=function(n,e,t,r,l,d,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!d(new o(n),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=c),n.size!=e.size&&!f)return!1;var m=p.get(n);if(m)return m==e;r|=2,p.set(n,e);var v=i(h(n),h(e),r,l,d,p);return p.delete(n),v;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var r=t(8).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(189),o=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,a,i,s){var c=1&t,l=r(n),u=l.length;if(u!=r(e).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in e:o.call(e,p)))return!1}var h=s.get(n),f=s.get(e);if(h&&f)return h==e&&f==n;var m=!0;s.set(n,e),s.set(e,n);for(var v=c;++d<u;){var g=n[p=l[d]],y=e[p];if(a)var _=c?a(y,g,p,e,n,s):a(g,y,p,n,e,s);if(!(void 0===_?g===y||i(g,y,t,a,s):_)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var b=n.constructor,x=e.constructor;b==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(n),s.delete(e),m}},function(n,e,t){var r=t(190),o=t(191),a=t(78);n.exports=function(n){return r(n,a,o)}},function(n,e,t){var r=t(68),o=t(6);n.exports=function(n,e,t){var a=e(n);return o(n)?a:r(a,t(n))}},function(n,e,t){var r=t(192),o=t(193),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(n){return null==n?[]:(n=Object(n),r(i(n),(function(e){return a.call(n,e)})))}:o;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=0,a=[];++t<r;){var i=n[t];e(i,t,n)&&(a[o++]=i)}return a}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(195),o=t(38),a=t(6),i=t(79),s=t(80),c=t(81),l=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=a(n),u=!t&&o(n),d=!t&&!u&&i(n),p=!t&&!u&&!d&&c(n),h=t||u||d||p,f=h?r(n.length,String):[],m=f.length;for(var v in n)!e&&!l.call(n,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||f.push(v);return f}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(14),o=t(43),a=t(12),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(n){return a(n)&&o(n.length)&&!!i[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(69),o=e&&!e.nodeType&&e,a=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=a&&a.exports===o&&r.process,s=function(){try{var n=a&&a.require&&a.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(n){}}();n.exports=s}).call(this,t(51)(n))},function(n,e,t){var r=t(201),o=t(202),a=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return o(n);var e=[];for(var t in Object(n))a.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(203)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(205),o=t(39),a=t(206),i=t(83),s=t(207),c=t(14),l=t(73),u=l(r),d=l(o),p=l(a),h=l(i),f=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||a&&"[object Promise]"!=m(a.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(n){var e=c(n),t="[object Object]"==e?n.constructor:void 0,r=t?l(t):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return e}),n.exports=m},function(n,e,t){var r=t(10)(t(8),"DataView");n.exports=r},function(n,e,t){var r=t(10)(t(8),"Promise");n.exports=r},function(n,e,t){var r=t(10)(t(8),"WeakMap");n.exports=r},function(n,e,t){var r=t(84),o=t(78);n.exports=function(n){for(var e=o(n),t=e.length;t--;){var a=e[t],i=n[a];e[t]=[a,i,r(i)]}return e}},function(n,e,t){var r=t(74),o=t(210),a=t(217),i=t(44),s=t(84),c=t(85),l=t(23);n.exports=function(n,e){return i(n)&&s(e)?c(l(n),e):function(t){var i=o(t,n);return void 0===i&&i===e?a(t,n):r(e,i,3)}}},function(n,e,t){var r=t(86);n.exports=function(n,e,t){var o=null==n?void 0:r(n,e);return void 0===o?t:o}},function(n,e,t){var r=t(212),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(o,(function(n,t,r,o){e.push(r?o.replace(a,"$1"):t||n)})),e}));n.exports=i},function(n,e,t){var r=t(213);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(41);function o(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var i=n.apply(this,r);return t.cache=a.set(o,i)||a,i};return t.cache=new(o.Cache||r),t}o.Cache=r,n.exports=o},function(n,e,t){var r=t(215);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(16),o=t(216),a=t(6),i=t(45),s=r?r.prototype:void 0,c=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(a(e))return o(e,n)+"";if(i(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}},function(n,e,t){var r=t(218),o=t(219);n.exports=function(n,e){return null!=n&&o(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(87),o=t(38),a=t(6),i=t(80),s=t(43),c=t(23);n.exports=function(n,e,t){for(var l=-1,u=(e=r(e,n)).length,d=!1;++l<u;){var p=c(e[l]);if(!(d=null!=n&&t(n,p)))break;n=n[p]}return d||++l!=u?d:!!(u=null==n?0:n.length)&&s(u)&&i(p,u)&&(a(n)||o(n))}},function(n,e,t){var r=t(221),o=t(222),a=t(44),i=t(23);n.exports=function(n){return a(n)?r(i(n)):o(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(86);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(46),o=t(224),a=t(226);n.exports=function(n,e){return a(o(n,e,r),n+"")}},function(n,e,t){var r=t(225),o=Math.max;n.exports=function(n,e,t){return e=o(void 0===e?n.length-1:e,0),function(){for(var a=arguments,i=-1,s=o(a.length-e,0),c=Array(s);++i<s;)c[i]=a[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=a[i];return l[e]=t(c),r(n,this,l)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(227),o=t(230)(r);n.exports=o},function(n,e,t){var r=t(228),o=t(229),a=t(46),i=o?function(n,e){return o(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;n.exports=i},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(10),o=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var o=t(),a=16-(o-r);if(r=o,a>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(76),o=t(232),a=t(237),i=t(77),s=t(238),c=t(42);n.exports=function(n,e,t){var l=-1,u=o,d=n.length,p=!0,h=[],f=h;if(t)p=!1,u=a;else if(d>=200){var m=e?null:s(n);if(m)return c(m);p=!1,u=i,f=new r}else f=e?[]:h;n:for(;++l<d;){var v=n[l],g=e?e(v):v;if(v=t||0!==v?v:0,p&&g==g){for(var y=f.length;y--;)if(f[y]===g)continue n;e&&f.push(g),h.push(v)}else u(f,g,t)||(f!==h&&f.push(g),h.push(v))}return h}},function(n,e,t){var r=t(233);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(234),o=t(235),a=t(236);n.exports=function(n,e,t){return e==e?a(n,e,t):r(n,o,t)}},function(n,e){n.exports=function(n,e,t,r){for(var o=n.length,a=t+(r?1:-1);r?a--:++a<o;)if(e(n[a],a,n))return a;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,o=null==n?0:n.length;++r<o;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(83),o=t(239),a=t(42),i=r&&1/a(new r([,-0]))[1]==1/0?function(n){return new r(n)}:o;n.exports=i},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(82),o=t(12);n.exports=function(n){return o(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(88)},function(n,e,t){"use strict";t(89)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t(92)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),o=Array.isArray;function a(n){return null==n}function i(n){return null!=n}function s(n){return!0===n}function c(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function l(n){return"function"==typeof n}function u(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function p(n){return"[object Object]"===d.call(n)}function h(n){return"[object RegExp]"===d.call(n)}function f(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function m(n){return i(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function v(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===d?JSON.stringify(n,g,2):String(n)}function g(n,e){return e&&e.__v_isRef?e.value:e}function y(n){var e=parseFloat(n);return isNaN(e)?n:e}function _(n,e){for(var t=Object.create(null),r=n.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}_("slot,component",!0);var b=_("key,ref,slot,slot-scope,is");function x(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var k=Object.prototype.hasOwnProperty;function w(n,e){return k.call(n,e)}function T(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var E=/-(\w)/g,C=T((function(n){return n.replace(E,(function(n,e){return e?e.toUpperCase():""}))})),S=T((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),P=/\B([A-Z])/g,O=T((function(n){return n.replace(P,"-$1").toLowerCase()}));var R=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function A(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function j(n,e){for(var t in e)n[t]=e[t];return n}function D(n){for(var e={},t=0;t<n.length;t++)n[t]&&j(e,n[t]);return e}function I(n,e,t){}var $=function(n,e,t){return!1},U=function(n){return n};function L(n,e){if(n===e)return!0;var t=u(n),r=u(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var o=Array.isArray(n),a=Array.isArray(e);if(o&&a)return n.length===e.length&&n.every((function(n,t){return L(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(o||a)return!1;var i=Object.keys(n),s=Object.keys(e);return i.length===s.length&&i.every((function(t){return L(n[t],e[t])}))}catch(n){return!1}}function M(n,e){for(var t=0;t<n.length;t++)if(L(n[t],e))return t;return-1}function N(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function H(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var z=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$,isReservedAttr:$,isUnknownElement:$,getTagNamespace:I,parsePlatformTagName:U,mustUseProp:$,async:!0,_lifecycleHooks:B},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function W(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(q.source,".$_\\d]"));var Y="__proto__"in{},G="undefined"!=typeof window,K=G&&window.navigator.userAgent.toLowerCase(),Q=K&&/msie|trident/.test(K),X=K&&K.indexOf("msie 9.0")>0,J=K&&K.indexOf("edge/")>0;K&&K.indexOf("android");var nn=K&&/iphone|ipad|ipod|ios/.test(K);K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K);var en,tn=K&&K.match(/firefox\/(\d+)/),rn={}.watch,on=!1;if(G)try{var an={};Object.defineProperty(an,"passive",{get:function(){on=!0}}),window.addEventListener("test-passive",null,an)}catch(n){}var sn=function(){return void 0===en&&(en=!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),en},cn=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var un,dn="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);un="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function hn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var fn=function(){function n(n,e,t,r,o,a,i,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=o,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=i,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),mn=function(n){void 0===n&&(n="");var e=new fn;return e.text=n,e.isComment=!0,e};function vn(n){return new fn(void 0,void 0,void 0,String(n))}function gn(n){var e=new fn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}"function"==typeof SuppressedError&&SuppressedError;var yn=0,_n=[],bn=function(){function n(){this._pending=!1,this.id=yn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,_n.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();bn.target=null;var xn=[];function kn(n){xn.push(n),bn.target=n}function wn(){xn.pop(),bn.target=xn[xn.length-1]}var Tn=Array.prototype,En=Object.create(Tn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=Tn[n];W(En,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,a=e.apply(this,t),i=this.__ob__;switch(n){case"push":case"unshift":o=t;break;case"splice":o=t.slice(2)}return o&&i.observeArray(o),i.dep.notify(),a}))}));var Cn=Object.getOwnPropertyNames(En),Sn={},Pn=!0;function On(n){Pn=n}var Rn={notify:I,depend:I,addSub:I,removeSub:I},An=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?Rn:new bn,this.vmCount=0,W(n,"__ob__",this),o(n)){if(!t)if(Y)n.__proto__=En;else for(var r=0,a=Cn.length;r<a;r++){W(n,s=Cn[r],En[s])}e||this.observeArray(n)}else{var i=Object.keys(n);for(r=0;r<i.length;r++){var s;Dn(n,s=i[r],Sn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)jn(n[e],!1,this.mock)},n}();function jn(n,e,t){return n&&w(n,"__ob__")&&n.__ob__ instanceof An?n.__ob__:!Pn||!t&&sn()||!o(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Hn(n)||n instanceof fn?void 0:new An(n,e,t)}function Dn(n,e,t,r,a,i,s){void 0===s&&(s=!1);var c=new bn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var u=l&&l.get,d=l&&l.set;u&&!d||t!==Sn&&2!==arguments.length||(t=n[e]);var p=a?t&&t.__ob__:jn(t,!1,i);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(n):t;return bn.target&&(c.depend(),p&&(p.dep.depend(),o(e)&&Un(e))),Hn(e)&&!a?e.value:e},set:function(e){var r=u?u.call(n):t;if(H(r,e)){if(d)d.call(n,e);else{if(u)return;if(!a&&Hn(r)&&!Hn(e))return void(r.value=e);t=e}p=a?e&&e.__ob__:jn(e,!1,i),c.notify()}}}),c}}function In(n,e,t){if(!Nn(n)){var r=n.__ob__;return o(n)&&f(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&jn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(Dn(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function $n(n,e){if(o(n)&&f(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Nn(n)||w(n,e)&&(delete n[e],t&&t.dep.notify())}}function Un(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Un(e)}function Ln(n){return Mn(n,!0),W(n,"__v_isShallow",!0),n}function Mn(n,e){if(!Nn(n)){jn(n,e,sn());0}}function Nn(n){return!(!n||!n.__v_isReadonly)}function Hn(n){return!(!n||!0!==n.__v_isRef)}function zn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Hn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Hn(r)&&!Hn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Bn;var Fn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Bn,!n&&Bn&&(this.index=(Bn.scopes||(Bn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Bn;try{return Bn=this,n()}finally{Bn=e}}else 0},n.prototype.on=function(){Bn=this},n.prototype.off=function(){Bn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function qn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Vn=T((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Wn(n,e){function t(){var n=t.fns;if(!o(n))return Pe(n,null,arguments,e,"v-on handler");for(var r=n.slice(),a=0;a<r.length;a++)Pe(r[a],null,arguments,e,"v-on handler")}return t.fns=n,t}function Zn(n,e,t,r,o,i){var c,l,u,d;for(c in n)l=n[c],u=e[c],d=Vn(c),a(l)||(a(u)?(a(l.fns)&&(l=n[c]=Wn(l,i)),s(d.once)&&(l=n[c]=o(d.name,l,d.capture)),t(d.name,l,d.capture,d.passive,d.params)):l!==u&&(u.fns=l,n[c]=u));for(c in e)a(n[c])&&r((d=Vn(c)).name,e[c],d.capture)}function Yn(n,e,t){var r;n instanceof fn&&(n=n.data.hook||(n.data.hook={}));var o=n[e];function c(){t.apply(this,arguments),x(r.fns,c)}a(o)?r=Wn([c]):i(o.fns)&&s(o.merged)?(r=o).fns.push(c):r=Wn([o,c]),r.merged=!0,n[e]=r}function Gn(n,e,t,r,o){if(i(e)){if(w(e,t))return n[t]=e[t],o||delete e[t],!0;if(w(e,r))return n[t]=e[r],o||delete e[r],!0}return!1}function Kn(n){return c(n)?[vn(n)]:o(n)?function n(e,t){var r,l,u,d,p=[];for(r=0;r<e.length;r++)a(l=e[r])||"boolean"==typeof l||(u=p.length-1,d=p[u],o(l)?l.length>0&&(Qn((l=n(l,"".concat(t||"","_").concat(r)))[0])&&Qn(d)&&(p[u]=vn(d.text+l[0].text),l.shift()),p.push.apply(p,l)):c(l)?Qn(d)?p[u]=vn(d.text+l):""!==l&&p.push(vn(l)):Qn(l)&&Qn(d)?p[u]=vn(d.text+l.text):(s(e._isVList)&&i(l.tag)&&a(l.key)&&i(t)&&(l.key="__vlist".concat(t,"_").concat(r,"__")),p.push(l)));return p}(n):void 0}function Qn(n){return i(n)&&i(n.text)&&!1===n.isComment}function Xn(n,e){var t,r,a,s,c=null;if(o(n)||"string"==typeof n)for(c=new Array(n.length),t=0,r=n.length;t<r;t++)c[t]=e(n[t],t);else if("number"==typeof n)for(c=new Array(n),t=0;t<n;t++)c[t]=e(t+1,t);else if(u(n))if(dn&&n[Symbol.iterator]){c=[];for(var l=n[Symbol.iterator](),d=l.next();!d.done;)c.push(e(d.value,c.length)),d=l.next()}else for(a=Object.keys(n),c=new Array(a.length),t=0,r=a.length;t<r;t++)s=a[t],c[t]=e(n[s],s,t);return i(c)||(c=[]),c._isVList=!0,c}function Jn(n,e,t,r){var o,a=this.$scopedSlots[n];a?(t=t||{},r&&(t=j(j({},r),t)),o=a(t)||(l(e)?e():e)):o=this.$slots[n]||(l(e)?e():e);var i=t&&t.slot;return i?this.$createElement("template",{slot:i},o):o}function ne(n){return At(this.$options,"filters",n,!0)||U}function ee(n,e){return o(n)?-1===n.indexOf(e):n!==e}function te(n,e,t,r,o){var a=F.keyCodes[e]||t;return o&&r&&!F.keyCodes[e]?ee(o,r):a?ee(a,n):r?O(r)!==e:void 0===n}function re(n,e,t,r,a){if(t)if(u(t)){o(t)&&(t=D(t));var i=void 0,s=function(o){if("class"===o||"style"===o||b(o))i=n;else{var s=n.attrs&&n.attrs.type;i=r||F.mustUseProp(e,s,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var c=C(o),l=O(o);c in i||l in i||(i[o]=t[o],a&&((n.on||(n.on={}))["update:".concat(o)]=function(n){t[o]=n}))};for(var c in t)s(c)}else;return n}function oe(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function ae(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(o(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&se(n[r],"".concat(e,"_").concat(r),t);else se(n,e,t)}function se(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function ce(n,e){if(e)if(p(e)){var t=n.on=n.on?j({},n.on):{};for(var r in e){var o=t[r],a=e[r];t[r]=o?[].concat(o,a):a}}else;return n}function le(n,e,t,r){e=e||{$stable:!t};for(var a=0;a<n.length;a++){var i=n[a];o(i)?le(i,e,t):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function ue(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function de(n,e){return"string"==typeof n?e+n:n}function pe(n){n._o=ae,n._n=y,n._s=v,n._l=Xn,n._t=Jn,n._q=L,n._i=M,n._m=oe,n._f=ne,n._k=te,n._b=re,n._v=vn,n._e=mn,n._u=le,n._g=ce,n._d=ue,n._p=de}function he(n,e){if(!n||!n.length)return{};for(var t={},r=0,o=n.length;r<o;r++){var a=n[r],i=a.data;if(i&&i.attrs&&i.attrs.slot&&delete i.attrs.slot,a.context!==e&&a.fnContext!==e||!i||null==i.slot)(t.default||(t.default=[])).push(a);else{var s=i.slot,c=t[s]||(t[s]=[]);"template"===a.tag?c.push.apply(c,a.children||[]):c.push(a)}}for(var l in t)t[l].every(fe)&&delete t[l];return t}function fe(n){return n.isComment&&!n.asyncFactory||" "===n.text}function me(n){return n.isComment&&n.asyncFactory}function ve(n,e,t,o){var a,i=Object.keys(t).length>0,s=e?!!e.$stable:!i,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&o&&o!==r&&c===o.$key&&!i&&!o.$hasNormal)return o;for(var l in a={},e)e[l]&&"$"!==l[0]&&(a[l]=ge(n,t,l,e[l]))}else a={};for(var u in t)u in a||(a[u]=ye(t,u));return e&&Object.isExtensible(e)&&(e._normalized=a),W(a,"$stable",s),W(a,"$key",c),W(a,"$hasNormal",i),a}function ge(n,e,t,r){var a=function(){var e=pn;hn(n);var t=arguments.length?r.apply(null,arguments):r({}),a=(t=t&&"object"==typeof t&&!o(t)?[t]:Kn(t))&&t[0];return hn(e),t&&(!a||1===t.length&&a.isComment&&!me(a))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:a,enumerable:!0,configurable:!0}),a}function ye(n,e){return function(){return n[e]}}function _e(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};W(e,"_v_attr_proxy",!0),be(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||be(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||ke(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:R(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return zn(n,e,t)}))}}}function be(n,e,t,r,o){var a=!1;for(var i in e)i in n?e[i]!==t[i]&&(a=!0):(a=!0,xe(n,i,r,o));for(var i in n)i in e||(a=!0,delete n[i]);return a}function xe(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function ke(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var we=null;function Te(n,e){return(n.__esModule||dn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),u(n)?e.extend(n):n}function Ee(n){if(o(n))for(var e=0;e<n.length;e++){var t=n[e];if(i(t)&&(i(t.componentOptions)||me(t)))return t}}function Ce(n,e,t,r,d,p){return(o(t)||c(t))&&(d=r,r=t,t=void 0),s(p)&&(d=2),function(n,e,t,r,c){if(i(t)&&i(t.__ob__))return mn();i(t)&&i(t.is)&&(e=t.is);if(!e)return mn();0;o(r)&&l(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===c?r=Kn(r):1===c&&(r=function(n){for(var e=0;e<n.length;e++)if(o(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var d,p;if("string"==typeof e){var h=void 0;p=n.$vnode&&n.$vnode.ns||F.getTagNamespace(e),d=F.isReservedTag(e)?new fn(F.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!i(h=At(n.$options,"components",e))?new fn(e,t,r,void 0,void 0,n):xt(h,t,n,r,e)}else d=xt(e,t,n,r);return o(d)?d:i(d)?(i(p)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(i(e.children))for(var o=0,c=e.children.length;o<c;o++){var l=e.children[o];i(l.tag)&&(a(l.ns)||s(r)&&"svg"!==l.tag)&&n(l,t,r)}}(d,p),i(t)&&function(n){u(n.style)&&Fe(n.style);u(n.class)&&Fe(n.class)}(t),d):mn()}(n,e,t,r,d)}function Se(n,e,t){kn();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var a=0;a<o.length;a++)try{if(!1===o[a].call(r,n,e,t))return}catch(n){Oe(n,r,"errorCaptured hook")}}Oe(n,e,t)}finally{wn()}}function Pe(n,e,t,r,o){var a;try{(a=t?n.apply(e,t):n.call(e))&&!a._isVue&&m(a)&&!a._handled&&(a.catch((function(n){return Se(n,r,o+" (Promise/async)")})),a._handled=!0)}catch(n){Se(n,r,o)}return a}function Oe(n,e,t){if(F.errorHandler)try{return F.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Re(e,null,"config.errorHandler")}Re(n,e,t)}function Re(n,e,t){if(!G||"undefined"==typeof console)throw n;console.error(n)}var Ae,je=!1,De=[],Ie=!1;function $e(){Ie=!1;var n=De.slice(0);De.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var Ue=Promise.resolve();Ae=function(){Ue.then($e),nn&&setTimeout(I)},je=!0}else if(Q||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ae="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate($e)}:function(){setTimeout($e,0)};else{var Le=1,Me=new MutationObserver($e),Ne=document.createTextNode(String(Le));Me.observe(Ne,{characterData:!0}),Ae=function(){Le=(Le+1)%2,Ne.data=String(Le)},je=!0}function He(n,e){var t;if(De.push((function(){if(n)try{n.call(e)}catch(n){Se(n,e,"nextTick")}else t&&t(e)})),Ie||(Ie=!0,Ae()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function ze(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var r=n.$options;r[e]=St(r[e],t)}(t,n,e)}}ze("beforeMount"),ze("mounted"),ze("beforeUpdate"),ze("updated"),ze("beforeDestroy"),ze("destroyed"),ze("activated"),ze("deactivated"),ze("serverPrefetch"),ze("renderTracked"),ze("renderTriggered"),ze("errorCaptured");var Be=new un;function Fe(n){return function n(e,t){var r,a,i=o(e);if(!i&&!u(e)||e.__v_skip||Object.isFrozen(e)||e instanceof fn)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(i)for(r=e.length;r--;)n(e[r],t);else if(Hn(e))n(e.value,t);else for(a=Object.keys(e),r=a.length;r--;)n(e[a[r]],t)}(n,Be),Be.clear(),n}var qe,Ve=0,We=function(){function n(n,e,t,r,o){var a,i;a=this,void 0===(i=Bn&&!Bn._vm?Bn:n?n._scope:void 0)&&(i=Bn),i&&i.active&&i.effects.push(a),(this.vm=n)&&o&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Ve,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new un,this.newDepIds=new un,this.expression="",l(e)?this.getter=e:(this.getter=function(n){if(!Z.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;kn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Se(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Fe(n),wn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ht(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||u(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Pe(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&x(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Ze(n,e){qe.$on(n,e)}function Ye(n,e){qe.$off(n,e)}function Ge(n,e){var t=qe;return function r(){var o=e.apply(null,arguments);null!==o&&t.$off(n,r)}}function Ke(n,e,t){qe=n,Zn(e,t||{},Ze,Ye,Ge,n),qe=void 0}var Qe=null;function Xe(n){var e=Qe;return Qe=n,function(){Qe=e}}function Je(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function nt(n,e){if(e){if(n._directInactive=!1,Je(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)nt(n.$children[t]);et(n,"activated")}}function et(n,e,t,r){void 0===r&&(r=!0),kn();var o=pn,a=Bn;r&&hn(n);var i=n.$options[e],s="".concat(e," hook");if(i)for(var c=0,l=i.length;c<l;c++)Pe(i[c],n,t||null,n,s);n._hasHookEvent&&n.$emit("hook:"+e),r&&(hn(o),a&&a.on()),wn()}var tt=[],rt=[],ot={},at=!1,it=!1,st=0;var ct=0,lt=Date.now;if(G&&!Q){var ut=window.performance;ut&&"function"==typeof ut.now&&lt()>document.createEvent("Event").timeStamp&&(lt=function(){return ut.now()})}var dt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function pt(){var n,e;for(ct=lt(),it=!0,tt.sort(dt),st=0;st<tt.length;st++)(n=tt[st]).before&&n.before(),e=n.id,ot[e]=null,n.run();var t=rt.slice(),r=tt.slice();st=tt.length=rt.length=0,ot={},at=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,nt(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&et(r,"updated")}}(r),function(){for(var n=0;n<_n.length;n++){var e=_n[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}_n.length=0}(),cn&&F.devtools&&cn.emit("flush")}function ht(n){var e=n.id;if(null==ot[e]&&(n!==bn.target||!n.noRecurse)){if(ot[e]=!0,it){for(var t=tt.length-1;t>st&&tt[t].id>n.id;)t--;tt.splice(t+1,0,n)}else tt.push(n);at||(at=!0,He(pt))}}function ft(n,e){if(n){for(var t=Object.create(null),r=dn?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var a=r[o];if("__ob__"!==a){var i=n[a].from;if(i in e._provided)t[a]=e._provided[i];else if("default"in n[a]){var s=n[a].default;t[a]=l(s)?s.call(e):s}else 0}}return t}}function mt(n,e,t,a,i){var c,l=this,u=i.options;w(a,"_uid")?(c=Object.create(a))._original=a:(c=a,a=a._original);var d=s(u._compiled),p=!d;this.data=n,this.props=e,this.children=t,this.parent=a,this.listeners=n.on||r,this.injections=ft(u.inject,a),this.slots=function(){return l.$slots||ve(a,n.scopedSlots,l.$slots=he(t,a)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ve(a,n.scopedSlots,this.slots())}}),d&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ve(a,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(n,e,t,r){var i=Ce(c,n,e,t,r,p);return i&&!o(i)&&(i.fnScopeId=u._scopeId,i.fnContext=a),i}:this._c=function(n,e,t,r){return Ce(c,n,e,t,r,p)}}function vt(n,e,t,r,o){var a=gn(n);return a.fnContext=t,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function gt(n,e){for(var t in e)n[C(t)]=e[t]}function yt(n){return n.name||n.__name||n._componentTag}pe(mt.prototype);var _t={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;_t.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;i(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Qe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,o,a){var i=o.data.scopedSlots,s=n.$scopedSlots,c=!!(i&&!i.$stable||s!==r&&!s.$stable||i&&n.$scopedSlots.$key!==i.$key||!i&&n.$scopedSlots.$key),l=!!(a||n.$options._renderChildren||c),u=n.$vnode;n.$options._parentVnode=o,n.$vnode=o,n._vnode&&(n._vnode.parent=o),n.$options._renderChildren=a;var d=o.data.attrs||r;n._attrsProxy&&be(n._attrsProxy,d,u.data&&u.data.attrs||r,n,"$attrs")&&(l=!0),n.$attrs=d,t=t||r;var p=n.$options._parentListeners;if(n._listenersProxy&&be(n._listenersProxy,t,p||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Ke(n,t,p),e&&n.$options.props){On(!1);for(var h=n._props,f=n.$options._propKeys||[],m=0;m<f.length;m++){var v=f[m],g=n.$options.props;h[v]=jt(v,g,e,n)}On(!0),n.$options.propsData=e}l&&(n.$slots=he(a,o.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,et(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,rt.push(e)):nt(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Je(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);et(e,"deactivated")}}(e,!0):e.$destroy())}},bt=Object.keys(_t);function xt(n,e,t,c,l){if(!a(n)){var d=t.$options._base;if(u(n)&&(n=d.extend(n)),"function"==typeof n){var p;if(a(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&i(n.errorComp))return n.errorComp;if(i(n.resolved))return n.resolved;var t=we;if(t&&i(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&i(n.loadingComp))return n.loadingComp;if(t&&!i(n.owners)){var r=n.owners=[t],o=!0,c=null,l=null;t.$on("hook:destroyed",(function(){return x(r,t)}));var d=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=N((function(t){n.resolved=Te(t,e),o?r.length=0:d(!0)})),h=N((function(e){i(n.errorComp)&&(n.error=!0,d(!0))})),f=n(p,h);return u(f)&&(m(f)?a(n.resolved)&&f.then(p,h):m(f.component)&&(f.component.then(p,h),i(f.error)&&(n.errorComp=Te(f.error,e)),i(f.loading)&&(n.loadingComp=Te(f.loading,e),0===f.delay?n.loading=!0:c=setTimeout((function(){c=null,a(n.resolved)&&a(n.error)&&(n.loading=!0,d(!1))}),f.delay||200)),i(f.timeout)&&(l=setTimeout((function(){l=null,a(n.resolved)&&h(null)}),f.timeout)))),o=!1,n.loading?n.loadingComp:n.resolved}}(p=n,d)))return function(n,e,t,r,o){var a=mn();return a.asyncFactory=n,a.asyncMeta={data:e,context:t,children:r,tag:o},a}(p,e,t,c,l);e=e||{},Wt(n),i(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var a=e.on||(e.on={}),s=a[r],c=e.model.callback;i(s)?(o(s)?-1===s.indexOf(c):s!==c)&&(a[r]=[c].concat(s)):a[r]=c}(n.options,e);var h=function(n,e,t){var r=e.options.props;if(!a(r)){var o={},s=n.attrs,c=n.props;if(i(s)||i(c))for(var l in r){var u=O(l);Gn(o,c,l,u,!0)||Gn(o,s,l,u,!1)}return o}}(e,n);if(s(n.options.functional))return function(n,e,t,a,s){var c=n.options,l={},u=c.props;if(i(u))for(var d in u)l[d]=jt(d,u,e||r);else i(t.attrs)&&gt(l,t.attrs),i(t.props)&&gt(l,t.props);var p=new mt(t,l,s,a,n),h=c.render.call(null,p._c,p);if(h instanceof fn)return vt(h,t,p.parent,c,p);if(o(h)){for(var f=Kn(h)||[],m=new Array(f.length),v=0;v<f.length;v++)m[v]=vt(f[v],t,p.parent,c,p);return m}}(n,h,e,t,c);var f=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<bt.length;t++){var r=bt[t],o=e[r],a=_t[r];o===a||o&&o._merged||(e[r]=o?kt(a,o):a)}}(e);var g=yt(n.options)||l;return new fn("vue-component-".concat(n.cid).concat(g?"-".concat(g):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:h,listeners:f,tag:l,children:c},p)}}}function kt(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var wt=I,Tt=F.optionMergeStrategies;function Et(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,o,a,i=dn?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)"__ob__"!==(r=i[s])&&(o=n[r],a=e[r],t&&w(n,r)?o!==a&&p(o)&&p(a)&&Et(o,a):In(n,r,a));return n}function Ct(n,e,t){return t?function(){var r=l(e)?e.call(t,t):e,o=l(n)?n.call(t,t):n;return r?Et(r,o):o}:e?n?function(){return Et(l(e)?e.call(this,this):e,l(n)?n.call(this,this):n)}:e:n}function St(n,e){var t=e?n?n.concat(e):o(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Pt(n,e,t,r){var o=Object.create(n||null);return e?j(o,e):o}Tt.data=function(n,e,t){return t?Ct(n,e,t):e&&"function"!=typeof e?n:Ct(n,e)},B.forEach((function(n){Tt[n]=St})),z.forEach((function(n){Tt[n+"s"]=Pt})),Tt.watch=function(n,e,t,r){if(n===rn&&(n=void 0),e===rn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var a={};for(var i in j(a,n),e){var s=a[i],c=e[i];s&&!o(s)&&(s=[s]),a[i]=s?s.concat(c):o(c)?c:[c]}return a},Tt.props=Tt.methods=Tt.inject=Tt.computed=function(n,e,t,r){if(!n)return e;var o=Object.create(null);return j(o,n),e&&j(o,e),o},Tt.provide=function(n,e){return n?function(){var t=Object.create(null);return Et(t,l(n)?n.call(this):n),e&&Et(t,l(e)?e.call(this):e,!1),t}:e};var Ot=function(n,e){return void 0===e?n:e};function Rt(n,e,t){if(l(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,a,i={};if(o(t))for(r=t.length;r--;)"string"==typeof(a=t[r])&&(i[C(a)]={type:null});else if(p(t))for(var s in t)a=t[s],i[C(s)]=p(a)?a:{type:a};else 0;n.props=i}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(o(t))for(var a=0;a<t.length;a++)r[t[a]]={from:t[a]};else if(p(t))for(var i in t){var s=t[i];r[i]=p(s)?j({from:i},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];l(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Rt(n,e.extends,t)),e.mixins))for(var r=0,a=e.mixins.length;r<a;r++)n=Rt(n,e.mixins[r],t);var i,s={};for(i in n)c(i);for(i in e)w(n,i)||c(i);function c(r){var o=Tt[r]||Ot;s[r]=o(n[r],e[r],t,r)}return s}function At(n,e,t,r){if("string"==typeof t){var o=n[e];if(w(o,t))return o[t];var a=C(t);if(w(o,a))return o[a];var i=S(a);return w(o,i)?o[i]:o[t]||o[a]||o[i]}}function jt(n,e,t,r){var o=e[n],a=!w(t,n),i=t[n],s=Ut(Boolean,o.type);if(s>-1)if(a&&!w(o,"default"))i=!1;else if(""===i||i===O(n)){var c=Ut(String,o.type);(c<0||s<c)&&(i=!0)}if(void 0===i){i=function(n,e,t){if(!w(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return l(r)&&"Function"!==It(e.type)?r.call(n):r}(r,o,n);var u=Pn;On(!0),jn(i),On(u)}return i}var Dt=/^\s*function (\w+)/;function It(n){var e=n&&n.toString().match(Dt);return e?e[1]:""}function $t(n,e){return It(n)===It(e)}function Ut(n,e){if(!o(e))return $t(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if($t(e[t],n))return t;return-1}var Lt={enumerable:!0,configurable:!0,get:I,set:I};function Mt(n,e,t){Lt.get=function(){return this[e][t]},Lt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Lt)}function Nt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=Ln({}),o=n.$options._propKeys=[];n.$parent&&On(!1);var a=function(a){o.push(a);var i=jt(a,e,t,n);Dn(r,a,i,void 0,!0),a in n||Mt(n,"_props",a)};for(var i in e)a(i);On(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=_e(n);hn(n),kn();var o=Pe(t,null,[n._props||Ln({}),r],n,"setup");if(wn(),hn(),l(o))e.render=o;else if(u(o))if(n._setupState=o,o.__sfc){var a=n._setupProxy={};for(var i in o)"__sfc"!==i&&zn(a,o,i)}else for(var i in o)V(i)||zn(n,o,i);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?I:R(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=l(e)?function(n,e){kn();try{return n.call(e,e)}catch(n){return Se(n,e,"data()"),{}}finally{wn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,o=(n.$options.methods,t.length);for(;o--;){var a=t[o];0,r&&w(r,a)||V(a)||Mt(n,"_data",a)}var i=jn(e);i&&i.vmCount++}(n);else{var t=jn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=sn();for(var o in e){var a=e[o],i=l(a)?a:a.get;0,r||(t[o]=new We(n,i||I,I,Ht)),o in n||zt(n,o,a)}}(n,e.computed),e.watch&&e.watch!==rn&&function(n,e){for(var t in e){var r=e[t];if(o(r))for(var a=0;a<r.length;a++)qt(n,t,r[a]);else qt(n,t,r)}}(n,e.watch)}var Ht={lazy:!0};function zt(n,e,t){var r=!sn();l(t)?(Lt.get=r?Bt(e):Ft(t),Lt.set=I):(Lt.get=t.get?r&&!1!==t.cache?Bt(e):Ft(t.get):I,Lt.set=t.set||I),Object.defineProperty(n,e,Lt)}function Bt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),bn.target&&e.depend(),e.value}}function Ft(n){return function(){return n.call(this,this)}}function qt(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var Vt=0;function Wt(n){var e=n.options;if(n.super){var t=Wt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var o in t)t[o]!==r[o]&&(e||(e={}),e[o]=t[o]);return e}(n);r&&j(n.extendOptions,r),(e=n.options=Rt(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Zt(n){this._init(n)}function Yt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,o=n._Ctor||(n._Ctor={});if(o[r])return o[r];var a=yt(n)||yt(t.options);var i=function(n){this._init(n)};return(i.prototype=Object.create(t.prototype)).constructor=i,i.cid=e++,i.options=Rt(t.options,n),i.super=t,i.options.props&&function(n){var e=n.options.props;for(var t in e)Mt(n.prototype,"_props",t)}(i),i.options.computed&&function(n){var e=n.options.computed;for(var t in e)zt(n.prototype,t,e[t])}(i),i.extend=t.extend,i.mixin=t.mixin,i.use=t.use,z.forEach((function(n){i[n]=t[n]})),a&&(i.options.components[a]=i),i.superOptions=t.options,i.extendOptions=n,i.sealedOptions=j({},i.options),o[r]=i,i}}function Gt(n){return n&&(yt(n.Ctor.options)||n.tag)}function Kt(n,e){return o(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!h(n)&&n.test(e)}function Qt(n,e){var t=n.cache,r=n.keys,o=n._vnode,a=n.$vnode;for(var i in t){var s=t[i];if(s){var c=s.name;c&&!e(c)&&Xt(t,i,r,o)}}a.componentOptions.children=void 0}function Xt(n,e,t,r){var o=n[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),n[e]=null,x(t,e)}Zt.prototype._init=function(n){var e=this;e._uid=Vt++,e._isVue=!0,e.__v_skip=!0,e._scope=new Fn(!0),e._scope.parent=void 0,e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var o=r.componentOptions;t.propsData=o.propsData,t._parentListeners=o.listeners,t._renderChildren=o.children,t._componentTag=o.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Rt(Wt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ke(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,o=t&&t.context;n.$slots=he(e._renderChildren,o),n.$scopedSlots=t?ve(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,o){return Ce(n,e,t,r,o,!1)},n.$createElement=function(e,t,r,o){return Ce(n,e,t,r,o,!0)};var a=t&&t.data;Dn(n,"$attrs",a&&a.attrs||r,null,!0),Dn(n,"$listeners",e._parentListeners||r,null,!0)}(e),et(e,"beforeCreate",void 0,!1),function(n){var e=ft(n.$options.inject,n);e&&(On(!1),Object.keys(e).forEach((function(t){Dn(n,t,e[t])})),On(!0))}(e),Nt(e),function(n){var e=n.$options.provide;if(e){var t=l(e)?e.call(n):e;if(!u(t))return;for(var r=qn(n),o=dn?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++){var i=o[a];Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))}}}(e),et(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=In,n.prototype.$delete=$n,n.prototype.$watch=function(n,e,t){if(p(e))return qt(this,n,e,t);(t=t||{}).user=!0;var r=new We(this,n,e,t);if(t.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');kn(),Pe(e,this,[r.value],this,o),wn()}return function(){r.teardown()}}}(Zt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(o(n))for(var a=0,i=n.length;a<i;a++)r.$on(n[a],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(o(n)){for(var r=0,a=n.length;r<a;r++)t.$off(n[r],e);return t}var i,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var c=s.length;c--;)if((i=s[c])===e||i.fn===e){s.splice(c,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?A(t):t;for(var r=A(arguments,1),o='event handler for "'.concat(n,'"'),a=0,i=t.length;a<i;a++)Pe(t[a],e,r,e,o)}return e}}(Zt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,o=t._vnode,a=Xe(t);t._vnode=n,t.$el=o?t.__patch__(o,n):t.__patch__(t.$el,n,e,!1),a(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var i=t;i&&i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode;)i.$parent.$el=i.$el,i=i.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){et(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||x(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),et(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Zt),function(n){pe(n.prototype),n.prototype.$nextTick=function(n){return He(n,this)},n.prototype._render=function(){var n=this,e=n.$options,t=e.render,r=e._parentVnode;r&&n._isMounted&&(n.$scopedSlots=ve(n.$parent,r.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&ke(n._slotsProxy,n.$scopedSlots)),n.$vnode=r;var a,i=pn,s=we;try{hn(n),we=n,a=t.call(n._renderProxy,n.$createElement)}catch(e){Se(e,n,"render"),a=n._vnode}finally{we=s,hn(i)}return o(a)&&1===a.length&&(a=a[0]),a instanceof fn||(a=mn()),a.parent=r,a}}(Zt);var Jt=[String,RegExp,Array],nr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Jt,exclude:Jt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var o=t.tag,a=t.componentInstance,i=t.componentOptions;n[r]={name:Gt(i),tag:o,componentInstance:a},e.push(r),this.max&&e.length>parseInt(this.max)&&Xt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Xt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Qt(n,(function(n){return Kt(e,n)}))})),this.$watch("exclude",(function(e){Qt(n,(function(n){return!Kt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ee(n),t=e&&e.componentOptions;if(t){var r=Gt(t),o=this.include,a=this.exclude;if(o&&(!r||!Kt(o,r))||a&&r&&Kt(a,r))return e;var i=this.cache,s=this.keys,c=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;i[c]?(e.componentInstance=i[c].componentInstance,x(s,c),s.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return F}};Object.defineProperty(n,"config",e),n.util={warn:wt,extend:j,mergeOptions:Rt,defineReactive:Dn},n.set=In,n.delete=$n,n.nextTick=He,n.observable=function(n){return jn(n),n},n.options=Object.create(null),z.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,j(n.options.components,nr),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=A(arguments,1);return t.unshift(this),l(n.install)?n.install.apply(n,t):l(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Rt(this.options,n),this}}(n),Yt(n),function(n){z.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&l(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Zt),Object.defineProperty(Zt.prototype,"$isServer",{get:sn}),Object.defineProperty(Zt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Zt,"FunctionalRenderContext",{value:mt}),Zt.version="2.7.16";var er=_("style,class"),tr=_("input,textarea,option,select,progress"),rr=_("contenteditable,draggable,spellcheck"),or=_("events,caret,typing,plaintext-only"),ar=_("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",sr=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},cr=function(n){return sr(n)?n.slice(6,n.length):""},lr=function(n){return null==n||!1===n};function ur(n){for(var e=n.data,t=n,r=n;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=dr(r.data,e));for(;i(t=t.parent);)t&&t.data&&(e=dr(e,t.data));return function(n,e){if(i(n)||i(e))return pr(n,hr(e));return""}(e.staticClass,e.class)}function dr(n,e){return{staticClass:pr(n.staticClass,e.staticClass),class:i(n.class)?[n.class,e.class]:e.class}}function pr(n,e){return n?e?n+" "+e:n:e||""}function hr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,o=n.length;r<o;r++)i(e=hr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):u(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var fr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},mr=_("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),vr=_("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),gr=function(n){return mr(n)||vr(n)};var yr=Object.create(null);var _r=_("text,number,password,search,email,tel,url");var br=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(fr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),xr={create:function(n,e){kr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(kr(n,!0),kr(e))},destroy:function(n){kr(n,!0)}};function kr(n,e){var t=n.data.ref;if(i(t)){var r=n.context,a=n.componentInstance||n.elm,s=e?null:a,c=e?void 0:a;if(l(t))Pe(t,r,[s],r,"template ref function");else{var u=n.data.refInFor,d="string"==typeof t||"number"==typeof t,p=Hn(t),h=r.$refs;if(d||p)if(u){var f=d?h[t]:t.value;e?o(f)&&x(f,a):o(f)?f.includes(a)||f.push(a):d?(h[t]=[a],wr(r,t,h[t])):t.value=[a]}else if(d){if(e&&h[t]!==a)return;h[t]=c,wr(r,t,s)}else if(p){if(e&&t.value!==a)return;t.value=s}else 0}}}function wr(n,e,t){var r=n._setupState;r&&w(r,e)&&(Hn(r[e])?r[e].value=t:r[e]=t)}var Tr=new fn("",{},[]),Er=["create","activate","update","remove","destroy"];function Cr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&i(n.data)===i(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=i(t=n.data)&&i(t=t.attrs)&&t.type,o=i(t=e.data)&&i(t=t.attrs)&&t.type;return r===o||_r(r)&&_r(o)}(n,e)||s(n.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function Sr(n,e,t){var r,o,a={};for(r=e;r<=t;++r)i(o=n[r].key)&&(a[o]=r);return a}var Pr={create:Or,update:Or,destroy:function(n){Or(n,Tr)}};function Or(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,o,a=n===Tr,i=e===Tr,s=Ar(n.data.directives,n.context),c=Ar(e.data.directives,e.context),l=[],u=[];for(t in c)r=s[t],o=c[t],r?(o.oldValue=r.value,o.oldArg=r.arg,Dr(o,"update",e,n),o.def&&o.def.componentUpdated&&u.push(o)):(Dr(o,"bind",e,n),o.def&&o.def.inserted&&l.push(o));if(l.length){var d=function(){for(var t=0;t<l.length;t++)Dr(l[t],"inserted",e,n)};a?Yn(e,"insert",d):d()}u.length&&Yn(e,"postpatch",(function(){for(var t=0;t<u.length;t++)Dr(u[t],"componentUpdated",e,n)}));if(!a)for(t in s)c[t]||Dr(s[t],"unbind",n,n,i)}(n,e)}var Rr=Object.create(null);function Ar(n,e){var t,r,o=Object.create(null);if(!n)return o;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=Rr),o[jr(r)]=r,e._setupState&&e._setupState.__sfc){var a=r.def||At(e,"_setupState","v-"+r.name);r.def="function"==typeof a?{bind:a,update:a}:a}r.def=r.def||At(e.$options,"directives",r.name)}return o}function jr(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Dr(n,e,t,r,o){var a=n.def&&n.def[e];if(a)try{a(t.elm,n,t,r,o)}catch(r){Se(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Ir=[xr,Pr];function $r(n,e){var t=e.componentOptions;if(!(i(t)&&!1===t.Ctor.options.inheritAttrs||a(n.data.attrs)&&a(e.data.attrs))){var r,o,c=e.elm,l=n.data.attrs||{},u=e.data.attrs||{};for(r in(i(u.__ob__)||s(u._v_attr_proxy))&&(u=e.data.attrs=j({},u)),u)o=u[r],l[r]!==o&&Ur(c,r,o,e.data.pre);for(r in(Q||J)&&u.value!==l.value&&Ur(c,"value",u.value),l)a(u[r])&&(sr(r)?c.removeAttributeNS(ir,cr(r)):rr(r)||c.removeAttribute(r))}}function Ur(n,e,t,r){r||n.tagName.indexOf("-")>-1?Lr(n,e,t):ar(e)?lr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):rr(e)?n.setAttribute(e,function(n,e){return lr(e)||"false"===e?"false":"contenteditable"===n&&or(e)?e:"true"}(e,t)):sr(e)?lr(t)?n.removeAttributeNS(ir,cr(e)):n.setAttributeNS(ir,e,t):Lr(n,e,t)}function Lr(n,e,t){if(lr(t))n.removeAttribute(e);else{if(Q&&!X&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Mr={create:$r,update:$r};function Nr(n,e){var t=e.elm,r=e.data,o=n.data;if(!(a(r.staticClass)&&a(r.class)&&(a(o)||a(o.staticClass)&&a(o.class)))){var s=ur(e),c=t._transitionClasses;i(c)&&(s=pr(s,hr(c))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Hr,zr={create:Nr,update:Nr};function Br(n,e,t){var r=Hr;return function o(){var a=e.apply(null,arguments);null!==a&&Vr(n,o,t,r)}}var Fr=je&&!(tn&&Number(tn[1])<=53);function qr(n,e,t,r){if(Fr){var o=ct,a=e;e=a._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=o||n.timeStamp<=0||n.target.ownerDocument!==document)return a.apply(this,arguments)}}Hr.addEventListener(n,e,on?{capture:t,passive:r}:t)}function Vr(n,e,t,r){(r||Hr).removeEventListener(n,e._wrapper||e,t)}function Wr(n,e){if(!a(n.data.on)||!a(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Hr=e.elm||n.elm,function(n){if(i(n.__r)){var e=Q?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}i(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Zn(t,r,qr,Vr,Br,e.context),Hr=void 0}}var Zr,Yr={create:Wr,update:Wr,destroy:function(n){return Wr(n,Tr)}};function Gr(n,e){if(!a(n.data.domProps)||!a(e.data.domProps)){var t,r,o=e.elm,c=n.data.domProps||{},l=e.data.domProps||{};for(t in(i(l.__ob__)||s(l._v_attr_proxy))&&(l=e.data.domProps=j({},l)),c)t in l||(o[t]="");for(t in l){if(r=l[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===c[t])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===t&&"PROGRESS"!==o.tagName){o._value=r;var u=a(r)?"":String(r);Kr(o,u)&&(o.value=u)}else if("innerHTML"===t&&vr(o.tagName)&&a(o.innerHTML)){(Zr=Zr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var d=Zr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}else if(r!==c[t])try{o[t]=r}catch(n){}}}}function Kr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(i(r)){if(r.number)return y(t)!==y(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Qr={create:Gr,update:Gr},Xr=T((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Jr(n){var e=no(n.style);return n.staticStyle?j(n.staticStyle,e):e}function no(n){return Array.isArray(n)?D(n):"string"==typeof n?Xr(n):n}var eo,to=/^--/,ro=/\s*!important$/,oo=function(n,e,t){if(to.test(e))n.style.setProperty(e,t);else if(ro.test(t))n.style.setProperty(O(e),t.replace(ro,""),"important");else{var r=io(e);if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n.style[r]=t[o];else n.style[r]=t}},ao=["Webkit","Moz","ms"],io=T((function(n){if(eo=eo||document.createElement("div").style,"filter"!==(n=C(n))&&n in eo)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ao.length;t++){var r=ao[t]+e;if(r in eo)return r}}));function so(n,e){var t=e.data,r=n.data;if(!(a(t.staticStyle)&&a(t.style)&&a(r.staticStyle)&&a(r.style))){var o,s,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},d=l||u,p=no(e.data.style)||{};e.data.normalizedStyle=i(p.__ob__)?j({},p):p;var h=function(n,e){var t,r={};if(e)for(var o=n;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(t=Jr(o.data))&&j(r,t);(t=Jr(n.data))&&j(r,t);for(var a=n;a=a.parent;)a.data&&(t=Jr(a.data))&&j(r,t);return r}(e,!0);for(s in d)a(h[s])&&oo(c,s,"");for(s in h)o=h[s],oo(c,s,null==o?"":o)}}var co={create:so,update:so},lo=/\s+/;function uo(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(lo).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function po(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(lo).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function ho(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&j(e,fo(n.name||"v")),j(e,n),e}return"string"==typeof n?fo(n):void 0}}var fo=T((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),mo=G&&!X,vo="transition",go="transitionend",yo="animation",_o="animationend";mo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(vo="WebkitTransition",go="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(yo="WebkitAnimation",_o="webkitAnimationEnd"));var bo=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function xo(n){bo((function(){bo(n)}))}function ko(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),uo(n,e))}function wo(n,e){n._transitionClasses&&x(n._transitionClasses,e),po(n,e)}function To(n,e,t){var r=Co(n,e),o=r.type,a=r.timeout,i=r.propCount;if(!o)return t();var s="transition"===o?go:_o,c=0,l=function(){n.removeEventListener(s,u),t()},u=function(e){e.target===n&&++c>=i&&l()};setTimeout((function(){c<i&&l()}),a+1),n.addEventListener(s,u)}var Eo=/\b(transform|all)(,|$)/;function Co(n,e){var t,r=window.getComputedStyle(n),o=(r[vo+"Delay"]||"").split(", "),a=(r[vo+"Duration"]||"").split(", "),i=So(o,a),s=(r[yo+"Delay"]||"").split(", "),c=(r[yo+"Duration"]||"").split(", "),l=So(s,c),u=0,d=0;return"transition"===e?i>0&&(t="transition",u=i,d=a.length):"animation"===e?l>0&&(t="animation",u=l,d=c.length):d=(t=(u=Math.max(i,l))>0?i>l?"transition":"animation":null)?"transition"===t?a.length:c.length:0,{type:t,timeout:u,propCount:d,hasTransform:"transition"===t&&Eo.test(r[vo+"Property"])}}function So(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Po(e)+Po(n[t])})))}function Po(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Oo(n,e){var t=n.elm;i(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=ho(n.data.transition);if(!a(r)&&!i(t._enterCb)&&1===t.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,d=r.enterToClass,p=r.enterActiveClass,h=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,v=r.beforeEnter,g=r.enter,_=r.afterEnter,b=r.enterCancelled,x=r.beforeAppear,k=r.appear,w=r.afterAppear,T=r.appearCancelled,E=r.duration,C=Qe,S=Qe.$vnode;S&&S.parent;)C=S.context,S=S.parent;var P=!C._isMounted||!n.isRootInsert;if(!P||k||""===k){var O=P&&h?h:c,R=P&&m?m:p,A=P&&f?f:d,j=P&&x||v,D=P&&l(k)?k:g,I=P&&w||_,$=P&&T||b,U=y(u(E)?E.enter:E);0;var L=!1!==o&&!X,M=jo(D),H=t._enterCb=N((function(){L&&(wo(t,A),wo(t,R)),H.cancelled?(L&&wo(t,O),$&&$(t)):I&&I(t),t._enterCb=null}));n.data.show||Yn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),D&&D(t,H)})),j&&j(t),L&&(ko(t,O),ko(t,R),xo((function(){wo(t,O),H.cancelled||(ko(t,A),M||(Ao(U)?setTimeout(H,U):To(t,s,H)))}))),n.data.show&&(e&&e(),D&&D(t,H)),L||M||H()}}}function Ro(n,e){var t=n.elm;i(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=ho(n.data.transition);if(a(r)||1!==t.nodeType)return e();if(!i(t._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,l=r.leaveToClass,d=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,f=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,g=r.duration,_=!1!==o&&!X,b=jo(h),x=y(u(g)?g.leave:g);0;var k=t._leaveCb=N((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),_&&(wo(t,l),wo(t,d)),k.cancelled?(_&&wo(t,c),m&&m(t)):(e(),f&&f(t)),t._leaveCb=null}));v?v(w):w()}function w(){k.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),_&&(ko(t,c),ko(t,d),xo((function(){wo(t,c),k.cancelled||(ko(t,l),b||(Ao(x)?setTimeout(k,x):To(t,s,k)))}))),h&&h(t,k),_||b||k())}}function Ao(n){return"number"==typeof n&&!isNaN(n)}function jo(n){if(a(n))return!1;var e=n.fns;return i(e)?jo(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Do(n,e){!0!==e.data.show&&Oo(e)}var Io=function(n){var e,t,r={},l=n.modules,u=n.nodeOps;for(e=0;e<Er.length;++e)for(r[Er[e]]=[],t=0;t<l.length;++t)i(l[t][Er[e]])&&r[Er[e]].push(l[t][Er[e]]);function d(n){var e=u.parentNode(n);i(e)&&u.removeChild(e,n)}function p(n,e,t,o,a,c,l){if(i(n.elm)&&i(c)&&(n=c[l]=gn(n)),n.isRootInsert=!a,!function(n,e,t,o){var a=n.data;if(i(a)){var c=i(n.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(n,!1),i(n.componentInstance))return h(n,e),f(t,n.elm,o),s(c)&&function(n,e,t,o){var a,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,i(a=s.data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Tr,s);e.push(s);break}f(t,n.elm,o)}(n,e,t,o),!0}}(n,e,t,o)){var d=n.data,p=n.children,v=n.tag;i(v)?(n.elm=n.ns?u.createElementNS(n.ns,v):u.createElement(v,n),y(n),m(n,p,e),i(d)&&g(n,e),f(t,n.elm,o)):s(n.isComment)?(n.elm=u.createComment(n.text),f(t,n.elm,o)):(n.elm=u.createTextNode(n.text),f(t,n.elm,o))}}function h(n,e){i(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,v(n)?(g(n,e),y(n)):(kr(n),e.push(n))}function f(n,e,t){i(n)&&(i(t)?u.parentNode(t)===n&&u.insertBefore(n,e,t):u.appendChild(n,e))}function m(n,e,t){if(o(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else c(n.text)&&u.appendChild(n.elm,u.createTextNode(String(n.text)))}function v(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return i(n.tag)}function g(n,t){for(var o=0;o<r.create.length;++o)r.create[o](Tr,n);i(e=n.data.hook)&&(i(e.create)&&e.create(Tr,n),i(e.insert)&&t.push(n))}function y(n){var e;if(i(e=n.fnScopeId))u.setStyleScope(n.elm,e);else for(var t=n;t;)i(e=t.context)&&i(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e),t=t.parent;i(e=Qe)&&e!==n.context&&e!==n.fnContext&&i(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e)}function b(n,e,t,r,o,a){for(;r<=o;++r)p(t[r],a,n,e,!1,t,r)}function x(n){var e,t,o=n.data;if(i(o))for(i(e=o.hook)&&i(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(i(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function k(n,e,t){for(;e<=t;++e){var r=n[e];i(r)&&(i(r.tag)?(w(r),x(r)):d(r.elm))}}function w(n,e){if(i(e)||i(n.data)){var t,o=r.remove.length+1;for(i(e)?e.listeners+=o:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,o),i(t=n.componentInstance)&&i(t=t._vnode)&&i(t.data)&&w(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);i(t=n.data.hook)&&i(t=t.remove)?t(n,e):e()}else d(n.elm)}function T(n,e,t,r){for(var o=t;o<r;o++){var a=e[o];if(i(a)&&Cr(n,a))return o}}function E(n,e,t,o,c,l){if(n!==e){i(e.elm)&&i(o)&&(e=o[c]=gn(e));var d=e.elm=n.elm;if(s(n.isAsyncPlaceholder))i(e.asyncFactory.resolved)?P(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var h,f=e.data;i(f)&&i(h=f.hook)&&i(h=h.prepatch)&&h(n,e);var m=n.children,g=e.children;if(i(f)&&v(e)){for(h=0;h<r.update.length;++h)r.update[h](n,e);i(h=f.hook)&&i(h=h.update)&&h(n,e)}a(e.text)?i(m)&&i(g)?m!==g&&function(n,e,t,r,o){var s,c,l,d=0,h=0,f=e.length-1,m=e[0],v=e[f],g=t.length-1,y=t[0],_=t[g],x=!o;for(0;d<=f&&h<=g;)a(m)?m=e[++d]:a(v)?v=e[--f]:Cr(m,y)?(E(m,y,r,t,h),m=e[++d],y=t[++h]):Cr(v,_)?(E(v,_,r,t,g),v=e[--f],_=t[--g]):Cr(m,_)?(E(m,_,r,t,g),x&&u.insertBefore(n,m.elm,u.nextSibling(v.elm)),m=e[++d],_=t[--g]):Cr(v,y)?(E(v,y,r,t,h),x&&u.insertBefore(n,v.elm,m.elm),v=e[--f],y=t[++h]):(a(s)&&(s=Sr(e,d,f)),a(c=i(y.key)?s[y.key]:T(y,e,d,f))?p(y,r,n,m.elm,!1,t,h):Cr(l=e[c],y)?(E(l,y,r,t,h),e[c]=void 0,x&&u.insertBefore(n,l.elm,m.elm)):p(y,r,n,m.elm,!1,t,h),y=t[++h]);d>f?b(n,a(t[g+1])?null:t[g+1].elm,t,h,g,r):h>g&&k(e,d,f)}(d,m,g,t,l):i(g)?(i(n.text)&&u.setTextContent(d,""),b(d,null,g,0,g.length-1,t)):i(m)?k(m,0,m.length-1):i(n.text)&&u.setTextContent(d,""):n.text!==e.text&&u.setTextContent(d,e.text),i(f)&&i(h=f.hook)&&i(h=h.postpatch)&&h(n,e)}}}function C(n,e,t){if(s(t)&&i(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var S=_("attrs,class,staticClass,staticStyle,key");function P(n,e,t,r){var o,a=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=n,s(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(o=c.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return h(e,t),!0;if(i(a)){if(i(l))if(n.hasChildNodes())if(i(o=c)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==n.innerHTML)return!1}else{for(var u=!0,d=n.firstChild,p=0;p<l.length;p++){if(!d||!P(d,l[p],t,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else m(e,l,t);if(i(c)){var f=!1;for(var v in c)if(!S(v)){f=!0,g(e,t);break}!f&&c.class&&Fe(c.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,o){if(!a(e)){var c,l=!1,d=[];if(a(n))l=!0,p(e,d);else{var h=i(n.nodeType);if(!h&&Cr(n,e))E(n,e,d,null,null,o);else{if(h){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&P(n,e,d))return C(e,d,!0),n;c=n,n=new fn(u.tagName(c).toLowerCase(),{},[],void 0,c)}var f=n.elm,m=u.parentNode(f);if(p(e,d,f._leaveCb?null:m,u.nextSibling(f)),i(e.parent))for(var g=e.parent,y=v(e);g;){for(var _=0;_<r.destroy.length;++_)r.destroy[_](g);if(g.elm=e.elm,y){for(var b=0;b<r.create.length;++b)r.create[b](Tr,g);var w=g.data.hook.insert;if(w.merged)for(var T=w.fns.slice(1),S=0;S<T.length;S++)T[S]()}else kr(g);g=g.parent}i(m)?k([n],0,0):i(n.tag)&&x(n)}}return C(e,d,l),e.elm}i(n)&&x(n)}}({nodeOps:br,modules:[Mr,zr,Yr,Qr,co,G?{create:Do,activate:Do,remove:function(n,e){!0!==n.data.show?Ro(n,e):e()}}:{}].concat(Ir)});X&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Bo(n,"input")}));var $o={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Yn(t,"postpatch",(function(){$o.componentUpdated(n,e,t)})):Uo(n,e,t.context),n._vOptions=[].map.call(n.options,No)):("textarea"===t.tag||_r(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Ho),n.addEventListener("compositionend",zo),n.addEventListener("change",zo),X&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Uo(n,e,t.context);var r=n._vOptions,o=n._vOptions=[].map.call(n.options,No);if(o.some((function(n,e){return!L(n,r[e])})))(n.multiple?e.value.some((function(n){return Mo(n,o)})):e.value!==e.oldValue&&Mo(e.value,o))&&Bo(n,"change")}}};function Uo(n,e,t){Lo(n,e,t),(Q||J)&&setTimeout((function(){Lo(n,e,t)}),0)}function Lo(n,e,t){var r=e.value,o=n.multiple;if(!o||Array.isArray(r)){for(var a,i,s=0,c=n.options.length;s<c;s++)if(i=n.options[s],o)a=M(r,No(i))>-1,i.selected!==a&&(i.selected=a);else if(L(No(i),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));o||(n.selectedIndex=-1)}}function Mo(n,e){return e.every((function(e){return!L(e,n)}))}function No(n){return"_value"in n?n._value:n.value}function Ho(n){n.target.composing=!0}function zo(n){n.target.composing&&(n.target.composing=!1,Bo(n.target,"input"))}function Bo(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function Fo(n){return!n.componentInstance||n.data&&n.data.transition?n:Fo(n.componentInstance._vnode)}var qo={model:$o,show:{bind:function(n,e,t){var r=e.value,o=(t=Fo(t)).data&&t.data.transition,a=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&o?(t.data.show=!0,Oo(t,(function(){n.style.display=a}))):n.style.display=r?a:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=Fo(t)).data&&t.data.transition?(t.data.show=!0,r?Oo(t,(function(){n.style.display=n.__vOriginalDisplay})):Ro(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,o){o||(n.style.display=n.__vOriginalDisplay)}}},Vo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Wo(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Wo(Ee(e.children)):n}function Zo(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var o=t._parentListeners;for(var r in o)e[C(r)]=o[r];return e}function Yo(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Go=function(n){return n.tag||me(n)},Ko=function(n){return"show"===n.name},Qo={name:"transition",props:Vo,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Go)).length){0;var r=this.mode;0;var o=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return o;var a=Wo(o);if(!a)return o;if(this._leaving)return Yo(n,o);var i="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?i+"comment":i+a.tag:c(a.key)?0===String(a.key).indexOf(i)?a.key:i+a.key:a.key;var s=(a.data||(a.data={})).transition=Zo(this),l=this._vnode,u=Wo(l);if(a.data.directives&&a.data.directives.some(Ko)&&(a.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(a,u)&&!me(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=j({},s);if("out-in"===r)return this._leaving=!0,Yn(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Yo(n,o);if("in-out"===r){if(me(a))return l;var p,h=function(){p()};Yn(s,"afterEnter",h),Yn(s,"enterCancelled",h),Yn(d,"delayLeave",(function(n){p=n}))}}return o}}},Xo=j({tag:String,moveClass:String},Vo);function Jo(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function na(n){n.data.newPos=n.elm.getBoundingClientRect()}function ea(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,o=e.top-t.top;if(r||o){n.data.moved=!0;var a=n.elm.style;a.transform=a.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),a.transitionDuration="0s"}}delete Xo.mode;var ta={Transition:Qo,TransitionGroup:{props:Xo,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var o=Xe(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,o(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],i=Zo(this),s=0;s<o.length;s++){if((u=o[s]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),t[u.key]=u,(u.data||(u.data={})).transition=i;else;}if(r){var c=[],l=[];for(s=0;s<r.length;s++){var u;(u=r[s]).data.transition=i,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?c.push(u):l.push(u)}this.kept=n(e,null,c),this.removed=l}return n(e,null,a)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Jo),n.forEach(na),n.forEach(ea),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;ko(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(go,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(go,n),t._moveCb=null,wo(t,e))})}})))},methods:{hasMove:function(n,e){if(!mo)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){po(t,n)})),uo(t,e),t.style.display="none",this.$el.appendChild(t);var r=Co(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function ra(n,e){for(var t in e)n[t]=e[t];return n}Zt.config.mustUseProp=function(n,e,t){return"value"===t&&tr(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Zt.config.isReservedTag=gr,Zt.config.isReservedAttr=er,Zt.config.getTagNamespace=function(n){return vr(n)?"svg":"math"===n?"math":void 0},Zt.config.isUnknownElement=function(n){if(!G)return!0;if(gr(n))return!1;if(n=n.toLowerCase(),null!=yr[n])return yr[n];var e=document.createElement(n);return n.indexOf("-")>-1?yr[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:yr[n]=/HTMLUnknownElement/.test(e.toString())},j(Zt.options.directives,qo),j(Zt.options.components,ta),Zt.prototype.__patch__=G?Io:I,Zt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=mn),et(n,"beforeMount"),r=function(){n._update(n._render(),t)},new We(n,r,I,{before:function(){n._isMounted&&!n._isDestroyed&&et(n,"beforeUpdate")}},!0),t=!1;var o=n._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==n.$vnode&&(n._isMounted=!0,et(n,"mounted")),n}(this,n=n&&G?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},G&&setTimeout((function(){F.devtools&&cn&&cn.emit("init",Zt)}),0);var oa=/[!'()*]/g,aa=function(n){return"%"+n.charCodeAt(0).toString(16)},ia=/%2C/g,sa=function(n){return encodeURIComponent(n).replace(oa,aa).replace(ia,",")};function ca(n){try{return decodeURIComponent(n)}catch(n){0}return n}var la=function(n){return null==n||"object"==typeof n?n:String(n)};function ua(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=ca(t.shift()),o=t.length>0?ca(t.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]})),e):e}function da(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return sa(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(sa(e)):r.push(sa(e)+"="+sa(n)))})),r.join("&")}return sa(e)+"="+sa(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var pa=/\/?$/;function ha(n,e,t,r){var o=r&&r.options.stringifyQuery,a=e.query||{};try{a=fa(a)}catch(n){}var i={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:ga(e,o),matched:n?va(n):[]};return t&&(i.redirectedFrom=ga(t,o)),Object.freeze(i)}function fa(n){if(Array.isArray(n))return n.map(fa);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=fa(n[t]);return e}return n}var ma=ha(null,{path:"/"});function va(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function ga(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var o=n.hash;return void 0===o&&(o=""),(t||"/")+(e||da)(r)+o}function ya(n,e,t){return e===ma?n===e:!!e&&(n.path&&e.path?n.path.replace(pa,"")===e.path.replace(pa,"")&&(t||n.hash===e.hash&&_a(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&_a(n.query,e.query)&&_a(n.params,e.params))))}function _a(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,o){var a=n[t];if(r[o]!==t)return!1;var i=e[t];return null==a||null==i?a===i:"object"==typeof a&&"object"==typeof i?_a(a,i):String(a)===String(i)}))}function ba(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var o=t.instances[r],a=t.enteredCbs[r];if(o&&a){delete t.enteredCbs[r];for(var i=0;i<a.length;i++)o._isBeingDestroyed||a[i](o)}}}}var xa={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,o=e.parent,a=e.data;a.routerView=!0;for(var i=o.$createElement,s=t.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),u=0,d=!1;o&&o._routerRoot!==o;){var p=o.$vnode?o.$vnode.data:{};p.routerView&&u++,p.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=u,d){var h=l[s],f=h&&h.component;return f?(h.configProps&&ka(f,a,h.route,h.configProps),i(f,a,r)):i()}var m=c.matched[u],v=m&&m.components[s];if(!m||!v)return l[s]=null,i();l[s]={component:v},a.registerRouteInstance=function(n,e){var t=m.instances[s];(e&&t!==n||!e&&t===n)&&(m.instances[s]=e)},(a.hook||(a.hook={})).prepatch=function(n,e){m.instances[s]=e.componentInstance},a.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==m.instances[s]&&(m.instances[s]=n.componentInstance),ba(c)};var g=m.props&&m.props[s];return g&&(ra(l[s],{route:c,configProps:g}),ka(v,a,c,g)),i(v,a,r)}};function ka(n,e,t,r){var o=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(o){o=e.props=ra({},o);var a=e.attrs=e.attrs||{};for(var i in o)n.props&&i in n.props||(a[i]=o[i],delete o[i])}}function wa(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var o=e.split("/");t&&o[o.length-1]||o.pop();for(var a=n.replace(/^\//,"").split("/"),i=0;i<a.length;i++){var s=a[i];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function Ta(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var Ea=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Ca=Ha,Sa=ja,Pa=function(n,e){return Ia(ja(n,e),e)},Oa=Ia,Ra=Na,Aa=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ja(n,e){for(var t,r=[],o=0,a=0,i="",s=e&&e.delimiter||"/";null!=(t=Aa.exec(n));){var c=t[0],l=t[1],u=t.index;if(i+=n.slice(a,u),a=u+c.length,l)i+=l[1];else{var d=n[a],p=t[2],h=t[3],f=t[4],m=t[5],v=t[6],g=t[7];i&&(r.push(i),i="");var y=null!=p&&null!=d&&d!==p,_="+"===v||"*"===v,b="?"===v||"*"===v,x=t[2]||s,k=f||m;r.push({name:h||o++,prefix:p||"",delimiter:x,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:k?Ua(k):g?".*":"[^"+$a(x)+"]+?"})}}return a<n.length&&(i+=n.substr(a)),i&&r.push(i),r}function Da(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function Ia(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Ma(e)));return function(e,r){for(var o="",a=e||{},i=(r||{}).pretty?Da:encodeURIComponent,s=0;s<n.length;s++){var c=n[s];if("string"!=typeof c){var l,u=a[c.name];if(null==u){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Ea(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(l=i(u[d]),!t[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):i(u),!t[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');o+=c.prefix+l}}else o+=c}return o}}function $a(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Ua(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function La(n,e){return n.keys=e,n}function Ma(n){return n&&n.sensitive?"":"i"}function Na(n,e,t){Ea(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,o=!1!==t.end,a="",i=0;i<n.length;i++){var s=n[i];if("string"==typeof s)a+=$a(s);else{var c=$a(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+c+l+")*"),a+=l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=$a(t.delimiter||"/"),d=a.slice(-u.length)===u;return r||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=o?"$":r&&d?"":"(?="+u+"|$)",La(new RegExp("^"+a,Ma(t)),e)}function Ha(n,e,t){return Ea(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return La(n,e)}(n,e):Ea(n)?function(n,e,t){for(var r=[],o=0;o<n.length;o++)r.push(Ha(n[o],e,t).source);return La(new RegExp("(?:"+r.join("|")+")",Ma(t)),e)}(n,e,t):function(n,e,t){return Na(ja(n,t),e,t)}(n,e,t)}Ca.parse=Sa,Ca.compile=Pa,Ca.tokensToFunction=Oa,Ca.tokensToRegExp=Ra;var za=Object.create(null);function Ba(n,e,t){e=e||{};try{var r=za[n]||(za[n]=Ca.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Fa(n,e,t,r){var o="string"==typeof n?{path:n}:n;if(o._normalized)return o;if(o.name){var a=(o=ra({},n)).params;return a&&"object"==typeof a&&(o.params=ra({},a)),o}if(!o.path&&o.params&&e){(o=ra({},o))._normalized=!0;var i=ra(ra({},e.params),o.params);if(e.name)o.name=e.name,o.params=i;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;o.path=Ba(s,i,e.path)}else 0;return o}var c=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var o=n.indexOf("?");return o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),{path:n,query:t,hash:e}}(o.path||""),l=e&&e.path||"/",u=c.path?wa(c.path,l,t||o.append):l,d=function(n,e,t){void 0===e&&(e={});var r,o=t||ua;try{r=o(n||"")}catch(n){r={}}for(var a in e){var i=e[a];r[a]=Array.isArray(i)?i.map(la):la(i)}return r}(c.query,o.query,r&&r.options.parseQuery),p=o.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:u,query:d,hash:p}}var qa,Va=function(){},Wa={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,o=t.resolve(this.to,r,this.append),a=o.location,i=o.route,s=o.href,c={},l=t.options.linkActiveClass,u=t.options.linkExactActiveClass,d=null==l?"router-link-active":l,p=null==u?"router-link-exact-active":u,h=null==this.activeClass?d:this.activeClass,f=null==this.exactActiveClass?p:this.exactActiveClass,m=i.redirectedFrom?ha(null,Fa(i.redirectedFrom),null,t):i;c[f]=ya(r,m,this.exactPath),c[h]=this.exact||this.exactPath?c[f]:function(n,e){return 0===n.path.replace(pa,"/").indexOf(e.path.replace(pa,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,m);var v=c[f]?this.ariaCurrentValue:null,g=function(n){Za(n)&&(e.replace?t.replace(a,Va):t.push(a,Va))},y={click:Za};Array.isArray(this.event)?this.event.forEach((function(n){y[n]=g})):y[this.event]=g;var _={class:c},b=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:i,navigate:g,isActive:c[h],isExactActive:c[f]});if(b){if(1===b.length)return b[0];if(b.length>1||!b.length)return 0===b.length?n():n("span",{},b)}if("a"===this.tag)_.on=y,_.attrs={href:s,"aria-current":v};else{var x=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var k=x.data=ra({},x.data);for(var w in k.on=k.on||{},k.on){var T=k.on[w];w in y&&(k.on[w]=Array.isArray(T)?T:[T])}for(var E in y)E in k.on?k.on[E].push(y[E]):k.on[E]=g;var C=x.data.attrs=ra({},x.data.attrs);C.href=s,C["aria-current"]=v}else _.on=y}return n(this.tag,_,this.$slots.default)}};function Za(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Ya="undefined"!=typeof window;function Ga(n,e,t,r,o){var a=e||[],i=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,o,a,i){var s=o.path,c=o.name;0;var l=o.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return Ta(e.path+"/"+n)}(s,a,l.strict);"boolean"==typeof o.caseSensitive&&(l.sensitive=o.caseSensitive);var d={path:u,regex:Ka(u,l),components:o.components||{default:o.component},alias:o.alias?"string"==typeof o.alias?[o.alias]:o.alias:[],instances:{},enteredCbs:{},name:c,parent:a,matchAs:i,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var a=i?Ta(i+"/"+o.path):void 0;n(e,t,r,o,d,a)}));t[d.path]||(e.push(d.path),t[d.path]=d);if(void 0!==o.alias)for(var p=Array.isArray(o.alias)?o.alias:[o.alias],h=0;h<p.length;++h){0;var f={path:p[h],children:o.children};n(e,t,r,f,a,d.path||"/")}c&&(r[c]||(r[c]=d))}(a,i,s,n,o)}));for(var c=0,l=a.length;c<l;c++)"*"===a[c]&&(a.push(a.splice(c,1)[0]),l--,c--);return{pathList:a,pathMap:i,nameMap:s}}function Ka(n,e){return Ca(n,[],e)}function Qa(n,e){var t=Ga(n),r=t.pathList,o=t.pathMap,a=t.nameMap;function i(n,t,i){var s=Fa(n,t,!1,e),l=s.name;if(l){var u=a[l];if(!u)return c(null,s);var d=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in s.params)&&d.indexOf(p)>-1&&(s.params[p]=t.params[p]);return s.path=Ba(u.path,s.params),c(u,s,i)}if(s.path){s.params={};for(var h=0;h<r.length;h++){var f=r[h],m=o[f];if(Xa(m.regex,s.path,s.params))return c(m,s,i)}}return c(null,s)}function s(n,t){var r=n.redirect,o="function"==typeof r?r(ha(n,t,null,e)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return c(null,t);var s=o,l=s.name,u=s.path,d=t.query,p=t.hash,h=t.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,h=s.hasOwnProperty("params")?s.params:h,l){a[l];return i({_normalized:!0,name:l,query:d,hash:p,params:h},void 0,t)}if(u){var f=function(n,e){return wa(n,e.parent?e.parent.path:"/",!0)}(u,n);return i({_normalized:!0,path:Ba(f,h),query:d,hash:p},void 0,t)}return c(null,t)}function c(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=i({_normalized:!0,path:Ba(t,e.params)});if(r){var o=r.matched,a=o[o.length-1];return e.params=r.params,c(a,e)}return c(null,e)}(0,t,n.matchAs):ha(n,t,r,e)}return{match:i,addRoute:function(n,e){var t="object"!=typeof n?a[n]:void 0;Ga([e||n],r,o,a,t),t&&t.alias.length&&Ga(t.alias.map((function(n){return{path:n,children:[e]}})),r,o,a,t)},getRoutes:function(){return r.map((function(n){return o[n]}))},addRoutes:function(n){Ga(n,r,o,a)}}}function Xa(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var o=1,a=r.length;o<a;++o){var i=n.keys[o-1];i&&(t[i.name||"pathMatch"]="string"==typeof r[o]?ca(r[o]):r[o])}return!0}var Ja=Ya&&window.performance&&window.performance.now?window.performance:Date;function ni(){return Ja.now().toFixed(3)}var ei=ni();function ti(){return ei}function ri(n){return ei=n}var oi=Object.create(null);function ai(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ra({},window.history.state);return t.key=ti(),window.history.replaceState(t,"",e),window.addEventListener("popstate",ci),function(){window.removeEventListener("popstate",ci)}}function ii(n,e,t,r){if(n.app){var o=n.options.scrollBehavior;o&&n.app.$nextTick((function(){var a=function(){var n=ti();if(n)return oi[n]}(),i=o.call(n,e,t,r?a:null);i&&("function"==typeof i.then?i.then((function(n){hi(n,a)})).catch((function(n){0})):hi(i,a))}))}}function si(){var n=ti();n&&(oi[n]={x:window.pageXOffset,y:window.pageYOffset})}function ci(n){si(),n.state&&n.state.key&&ri(n.state.key)}function li(n){return di(n.x)||di(n.y)}function ui(n){return{x:di(n.x)?n.x:window.pageXOffset,y:di(n.y)?n.y:window.pageYOffset}}function di(n){return"number"==typeof n}var pi=/^#\d/;function hi(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var o=pi.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(o){var a=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(o,a={x:di((t=a).x)?t.x:0,y:di(t.y)?t.y:0})}else li(n)&&(e=ui(n))}else r&&li(n)&&(e=ui(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var fi,mi=Ya&&((-1===(fi=window.navigator.userAgent).indexOf("Android 2.")&&-1===fi.indexOf("Android 4.0")||-1===fi.indexOf("Mobile Safari")||-1!==fi.indexOf("Chrome")||-1!==fi.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function vi(n,e){si();var t=window.history;try{if(e){var r=ra({},t.state);r.key=ti(),t.replaceState(r,"",n)}else t.pushState({key:ri(ni())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function gi(n){vi(n,!0)}var yi={redirected:2,aborted:4,cancelled:8,duplicated:16};function _i(n,e){return xi(n,e,yi.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return ki.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function bi(n,e){return xi(n,e,yi.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function xi(n,e,t,r){var o=new Error(r);return o._isRouter=!0,o.from=n,o.to=e,o.type=t,o}var ki=["params","query","hash"];function wi(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function Ti(n,e){return wi(n)&&n._isRouter&&(null==e||n.type===e)}function Ei(n,e,t){var r=function(o){o>=n.length?t():n[o]?e(n[o],(function(){r(o+1)})):r(o+1)};r(0)}function Ci(n){return function(e,t,r){var o=!1,a=0,i=null;Si(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){o=!0,a++;var c,l=Ri((function(e){var o;((o=e).__esModule||Oi&&"Module"===o[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:qa.extend(e),t.components[s]=e,--a<=0&&r()})),u=Ri((function(n){var e="Failed to resolve async component "+s+": "+n;i||(i=wi(n)?n:new Error(e),r(i))}));try{c=n(l,u)}catch(n){u(n)}if(c)if("function"==typeof c.then)c.then(l,u);else{var d=c.component;d&&"function"==typeof d.then&&d.then(l,u)}}})),o||r()}}function Si(n,e){return Pi(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Pi(n){return Array.prototype.concat.apply([],n)}var Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Ri(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Ai=function(n,e){this.router=n,this.base=function(n){if(!n)if(Ya){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=ma,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ji(n,e,t,r){var o=Si(n,(function(n,r,o,a){var i=function(n,e){"function"!=typeof n&&(n=qa.extend(n));return n.options[e]}(n,e);if(i)return Array.isArray(i)?i.map((function(n){return t(n,r,o,a)})):t(i,r,o,a)}));return Pi(r?o.reverse():o)}function Di(n,e){if(e)return function(){return n.apply(e,arguments)}}Ai.prototype.listen=function(n){this.cb=n},Ai.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Ai.prototype.onError=function(n){this.errorCbs.push(n)},Ai.prototype.transitionTo=function(n,e,t){var r,o=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var a=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),e&&e(r),o.ensureURL(),o.router.afterHooks.forEach((function(n){n&&n(r,a)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!o.ready&&(Ti(n,yi.redirected)&&a===ma||(o.ready=!0,o.readyErrorCbs.forEach((function(e){e(n)}))))}))},Ai.prototype.confirmTransition=function(n,e,t){var r=this,o=this.current;this.pending=n;var a,i,s=function(n){!Ti(n)&&wi(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},c=n.matched.length-1,l=o.matched.length-1;if(ya(n,o)&&c===l&&n.matched[c]===o.matched[l])return this.ensureURL(),n.hash&&ii(this.router,o,n,!1),s(((i=xi(a=o,n,yi.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",i));var u=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),d=u.updated,p=u.deactivated,h=u.activated,f=[].concat(function(n){return ji(n,"beforeRouteLeave",Di,!0)}(p),this.router.beforeHooks,function(n){return ji(n,"beforeRouteUpdate",Di)}(d),h.map((function(n){return n.beforeEnter})),Ci(h)),m=function(e,t){if(r.pending!==n)return s(bi(o,n));try{e(n,o,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return xi(n,e,yi.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,n))):wi(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(_i(o,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Ei(f,m,(function(){Ei(function(n){return ji(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,o,a){return n(r,o,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),a(n)}))}}(n,t,r)}))}(h).concat(r.router.resolveHooks),m,(function(){if(r.pending!==n)return s(bi(o,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){ba(n)}))}))}))},Ai.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Ai.prototype.setupListeners=function(){},Ai.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=ma,this.pending=null};var Ii=function(n){function e(e,t){n.call(this,e,t),this._startLocation=$i(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=mi&&t;r&&this.listeners.push(ai());var o=function(){var t=n.current,o=$i(n.base);n.current===ma&&o===n._startLocation||n.transitionTo(o,(function(n){r&&ii(e,n,t,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){vi(Ta(r.base+n.fullPath)),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){gi(Ta(r.base+n.fullPath)),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if($i(this.base)!==this.current.fullPath){var e=Ta(this.base+this.current.fullPath);n?vi(e):gi(e)}},e.prototype.getCurrentLocation=function(){return $i(this.base)},e}(Ai);function $i(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(Ta(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Ui=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=$i(n);if(!/^\/#/.test(e))return window.location.replace(Ta(n+"/#"+e)),!0}(this.base)||Li()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=mi&&e;t&&this.listeners.push(ai());var r=function(){var e=n.current;Li()&&n.transitionTo(Mi(),(function(r){t&&ii(n.router,r,e,!0),mi||zi(r.fullPath)}))},o=mi?"popstate":"hashchange";window.addEventListener(o,r),this.listeners.push((function(){window.removeEventListener(o,r)}))}},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Hi(n.fullPath),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){zi(n.fullPath),ii(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Mi()!==e&&(n?Hi(e):zi(e))},e.prototype.getCurrentLocation=function(){return Mi()},e}(Ai);function Li(){var n=Mi();return"/"===n.charAt(0)||(zi("/"+n),!1)}function Mi(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Ni(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Hi(n){mi?vi(Ni(n)):window.location.hash=n}function zi(n){mi?gi(Ni(n)):window.location.replace(Ni(n))}var Bi=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){Ti(n,yi.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Ai),Fi=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Qa(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!mi&&!1!==n.fallback,this.fallback&&(e="hash"),Ya||(e="abstract"),this.mode=e,e){case"history":this.history=new Ii(this,n.base);break;case"hash":this.history=new Ui(this,n.base,this.fallback);break;case"abstract":this.history=new Bi(this,n.base);break;default:0}},qi={currentRoute:{configurable:!0}};Fi.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},qi.currentRoute.get=function(){return this.history&&this.history.current},Fi.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Ii||t instanceof Ui){var r=function(n){t.setupListeners(),function(n){var r=t.current,o=e.options.scrollBehavior;mi&&o&&"fullPath"in n&&ii(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Fi.prototype.beforeEach=function(n){return Wi(this.beforeHooks,n)},Fi.prototype.beforeResolve=function(n){return Wi(this.resolveHooks,n)},Fi.prototype.afterEach=function(n){return Wi(this.afterHooks,n)},Fi.prototype.onReady=function(n,e){this.history.onReady(n,e)},Fi.prototype.onError=function(n){this.history.onError(n)},Fi.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},Fi.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},Fi.prototype.go=function(n){this.history.go(n)},Fi.prototype.back=function(){this.go(-1)},Fi.prototype.forward=function(){this.go(1)},Fi.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Fi.prototype.resolve=function(n,e,t){var r=Fa(n,e=e||this.history.current,t,this),o=this.match(r,e),a=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?Ta(n+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:o}},Fi.prototype.getRoutes=function(){return this.matcher.getRoutes()},Fi.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==ma&&this.history.transitionTo(this.history.getCurrentLocation())},Fi.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==ma&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Fi.prototype,qi);var Vi=Fi;function Wi(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Fi.install=function n(e){if(!n.installed||qa!==e){n.installed=!0,qa=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",xa),e.component("RouterLink",Wa);var o=e.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},Fi.version="3.6.5",Fi.isNavigationFailure=Ti,Fi.NavigationFailureType=yi,Fi.START_LOCATION=ma,Ya&&window.Vue&&window.Vue.use(Fi);t(108);t(48),t(13);var Zi={NotFound:()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,360)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,358))},Yi={"v-7c1254c8":()=>t.e(18).then(t.bind(null,372)),"v-40652928":()=>t.e(19).then(t.bind(null,373)),"v-49cc4fba":()=>t.e(20).then(t.bind(null,374)),"v-3918064c":()=>t.e(22).then(t.bind(null,375)),"v-7e3452e8":()=>t.e(21).then(t.bind(null,376)),"v-33b685e8":()=>t.e(23).then(t.bind(null,377)),"v-260c4f68":()=>t.e(24).then(t.bind(null,378)),"v-2ed40968":()=>t.e(25).then(t.bind(null,379)),"v-3d1627e8":()=>t.e(26).then(t.bind(null,380)),"v-be5b6a50":()=>t.e(27).then(t.bind(null,381)),"v-76465e28":()=>t.e(28).then(t.bind(null,382)),"v-39313fcc":()=>t.e(29).then(t.bind(null,383)),"v-347f8f0a":()=>t.e(30).then(t.bind(null,384)),"v-23a250fc":()=>t.e(31).then(t.bind(null,385)),"v-27156a36":()=>t.e(32).then(t.bind(null,386)),"v-9c058328":()=>t.e(33).then(t.bind(null,387)),"v-7f4180e8":()=>t.e(34).then(t.bind(null,388)),"v-721f31dc":()=>t.e(35).then(t.bind(null,389)),"v-c5336cc2":()=>t.e(36).then(t.bind(null,390)),"v-4e805c42":()=>t.e(37).then(t.bind(null,391)),"v-343bc80e":()=>t.e(38).then(t.bind(null,392)),"v-216920c2":()=>t.e(39).then(t.bind(null,393)),"v-148d420e":()=>t.e(40).then(t.bind(null,394)),"v-63633e1a":()=>t.e(41).then(t.bind(null,395)),"v-4ea58c16":()=>t.e(42).then(t.bind(null,396)),"v-39e7da12":()=>t.e(43).then(t.bind(null,397)),"v-252a280e":()=>t.e(44).then(t.bind(null,398)),"v-106c760a":()=>t.e(45).then(t.bind(null,399)),"v-02289dfd":()=>t.e(46).then(t.bind(null,400)),"v-0c8776ff":()=>t.e(47).then(t.bind(null,401)),"v-49f16ace":()=>t.e(48).then(t.bind(null,402)),"v-15cc1fe4":()=>t.e(49).then(t.bind(null,403)),"v-3048ff4b":()=>t.e(50).then(t.bind(null,404)),"v-64745842":()=>t.e(51).then(t.bind(null,405)),"v-4f291376":()=>t.e(52).then(t.bind(null,406)),"v-51abfd60":()=>t.e(53).then(t.bind(null,407)),"v-1bb7fc82":()=>t.e(54).then(t.bind(null,408)),"v-75835fc2":()=>t.e(55).then(t.bind(null,409)),"v-65319358":()=>t.e(4).then(t.bind(null,357)),"v-6a58413f":()=>t.e(56).then(t.bind(null,410))};function Gi(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Ki=/-(\w)/g,Qi=Gi(n=>n.replace(Ki,(n,e)=>e?e.toUpperCase():"")),Xi=/\B([A-Z])/g,Ji=Gi(n=>n.replace(Xi,"-$1").toLowerCase()),ns=Gi(n=>n.charAt(0).toUpperCase()+n.slice(1));function es(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(ns(Qi(e))):n(ns(e))||n(Ji(e))}const ts=Object.assign({},Zi,Yi),rs=n=>ts[n],os=n=>Yi[n],as=n=>Zi[n],is=n=>Zt.component(n);function ss(n){return es(os,n)}function cs(n){return es(as,n)}function ls(n){return es(rs,n)}function us(n){return es(is,n)}function ds(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!us(n)&&ls(n)){const e=await ls(n)();Zt.component(n,e.default)}}))}function ps(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var hs=t(93),fs=t.n(hs),ms=t(94),vs=t.n(ms),gs={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${vs()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=_s(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=bs(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return fs()([{name:"description",content:this.$description}],n,this.siteMeta,xs)},updateCanonicalLink(){ys(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",_s(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){bs(null,this.currentMetaTags),ys()}};function ys(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function _s(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function bs(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function xs(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var ks=t(52),ws={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(ks)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),o=window.innerHeight+t;for(let n=0;n<e.length;n++){const a=e[n],i=e[n+1],s=0===n&&0===t||t>=a.parentElement.offsetTop+10&&(!i||t<i.parentElement.offsetTop-10),c=decodeURIComponent(this.$route.hash);if(s&&c!==decodeURIComponent(a.hash)){const t=a;if(o===r)for(let t=n+1;t<e.length;t++)if(c===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Ts=t(24),Es=t.n(Ts),Cs={mounted(){Es.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Zt.component(n.name)||Es.a.start(),t()}),this.$router.afterEach(()=>{Es.a.done(),this.isSidebarOpen=!1})}};t(241),t(242);class Ss{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Ps={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new Ss).show({text:"复制成功",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}},Os="auto",Rs="zoom-in",As="zoom-out",js="grab",Ds="move";function Is(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={passive:!1};r?n.addEventListener(e,t,o):n.removeEventListener(e,t,o)}function $s(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Us(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Ls(n,e,t){!function(n){var e=Ms,t=Ns;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var o=n.transform;delete n.transform,n[t]=o}}(e);var r=n.style,o={};for(var a in e)t&&(o[a]=r[a]||""),r[a]=e[a];return o}var Ms="transition",Ns="transform",Hs="transform",zs="transitionend";var Bs=function(){},Fs={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Bs,onClose:Bs,onGrab:Bs,onMove:Bs,onRelease:Bs,onBeforeOpen:Bs,onBeforeClose:Bs,onBeforeGrab:Bs,onBeforeRelease:Bs,onImageLoading:Bs,onImageLoaded:Bs},qs={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Ws(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,o=this.lastScrollPosition.y-t,a=this.options.scrollThreshold;(Math.abs(o)>=a||Math.abs(r)>=a)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Vs(n)&&!Ws(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Vs(n)&&!Ws(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Vs(n){return 0===n.button}function Ws(n){return n.metaKey||n.ctrlKey}var Zs={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Ls(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Is(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Ls(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gs=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ks=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qs={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Us(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,o=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?js:As,transition:Hs+"\n        "+r+"s\n        "+o,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Ls(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Ls(this.el,{transform:"none"})},grab:function(n,e,t){var r=Xs(),o=r.x-n,a=r.y-e;Ls(this.el,{cursor:Ds,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=Xs(),o=r.x-n,a=r.y-e;Ls(this.el,{transition:Hs,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Ls(this.el,this.styleClose)},restoreOpenStyle:function(){Ls(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=Xs(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,o=r.customSize,a=r.scaleBase;if(!o&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(o&&"object"===(void 0===o?"undefined":Ys(o)))return{x:o.width/this.rect.width,y:o.height/this.rect.height};var i=this.rect.width/2,s=this.rect.height/2,c=Xs(),l={x:c.x-i,y:c.y-s},u=l.x/i,d=l.y/s,p=a+Math.min(u,d);if(o&&"string"==typeof o){var h=t||this.el.naturalWidth,f=e||this.el.naturalHeight,m=parseFloat(o)*h/(100*this.rect.width),v=parseFloat(o)*f/(100*this.rect.height);if(p>m||p>v)return{x:m,y:v}}return{x:p,y:p}}};function Xs(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Js(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Is(n,r,e[r],t)}))}var nc=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Qs),this.overlay=Object.create(Zs),this.handler=Object.create(qs),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Ks({},Fs,e),this.overlay.init(this),this.handler.init(this)}return Gs(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Rs,Is(n,"click",this.handler.click),this.options.preloadImage&&$s(Us(n)));return this}},{key:"config",value:function(n){return n?(Ks(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var o=this.target.srcOriginal;null!=o&&(this.options.onImageLoading(r),$s(o,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Is(document,"scroll",this.handler.scroll),Is(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Is(window,"resize",this.handler.resizeWindow);var a=function n(){Is(r,zs,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Js(document,e.handler,!0),t(r)};return Is(r,zs,a),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Os,this.overlay.fadeOut(),this.target.zoomOut(),Is(document,"scroll",this.handler.scroll,!1),Is(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Is(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Is(t,zs,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Js(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Is(t,zs,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var o=this.target.el;this.options.onBeforeGrab(o),this.released=!1,this.target.grab(n,e,t);var a=function n(){Is(o,zs,n,!1),r(o)};return Is(o,zs,a),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Ds,this.target.move(n,e,t);var o=this.target.el,a=function n(){Is(o,zs,n,!1),r(o)};return Is(o,zs,a),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Os,this.target.restoreOpenStyle();var r=function r(){Is(t,zs,r,!1),n.lock=!1,n.released=!0,e(t)};return Is(t,zs,r),this}}}]),n}();const ec=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),tc=Number("500");class rc{constructor(){this.instance=new nc(ec)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=tc){setTimeout(()=>this.update(n),e)}}var oc=[gs,ws,Cs,Ps,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new rc,this.$vuepress.zooming.updateDelay()}}],ac={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return ps("layout",n),Zt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},ic=t(4),sc=Object(ic.a)(ac,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(sc,"mixins",oc);const cc=[{name:"v-7c1254c8",path:"/linux/basic/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-7c1254c8").then(t)}},{path:"/linux/basic/index.html",redirect:"/linux/basic/"},{path:"/01.linux/01.basic/",redirect:"/linux/basic/"},{name:"v-40652928",path:"/linux/iptables/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-40652928").then(t)}},{path:"/linux/iptables/index.html",redirect:"/linux/iptables/"},{path:"/01.linux/02.iptables/",redirect:"/linux/iptables/"},{name:"v-49cc4fba",path:"/linux/nginx/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-49cc4fba").then(t)}},{path:"/linux/nginx/index.html",redirect:"/linux/nginx/"},{path:"/01.linux/40.nginx/",redirect:"/linux/nginx/"},{name:"v-3918064c",path:"/linux/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-3918064c").then(t)}},{path:"/linux/index.html",redirect:"/linux/"},{path:"/01.linux/",redirect:"/linux/"},{name:"v-7e3452e8",path:"/linux/tomcat/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-7e3452e8").then(t)}},{path:"/linux/tomcat/index.html",redirect:"/linux/tomcat/"},{path:"/01.linux/41.tomcat/",redirect:"/linux/tomcat/"},{name:"v-33b685e8",path:"/database/mysql/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-33b685e8").then(t)}},{path:"/database/mysql/index.html",redirect:"/database/mysql/"},{path:"/02.database/01.mysql/",redirect:"/database/mysql/"},{name:"v-260c4f68",path:"/database/redis/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-260c4f68").then(t)}},{path:"/database/redis/index.html",redirect:"/database/redis/"},{path:"/02.database/02.redis/",redirect:"/database/redis/"},{name:"v-2ed40968",path:"/database/mongodb/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-2ed40968").then(t)}},{path:"/database/mongodb/index.html",redirect:"/database/mongodb/"},{path:"/02.database/03.mongodb/",redirect:"/database/mongodb/"},{name:"v-3d1627e8",path:"/database/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-3d1627e8").then(t)}},{path:"/database/index.html",redirect:"/database/"},{path:"/02.database/",redirect:"/database/"},{name:"v-be5b6a50",path:"/devops/gitlab/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-be5b6a50").then(t)}},{path:"/devops/gitlab/index.html",redirect:"/devops/gitlab/"},{path:"/03.devops/01.gitlab/",redirect:"/devops/gitlab/"},{name:"v-76465e28",path:"/devops/sonar/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-76465e28").then(t)}},{path:"/devops/sonar/index.html",redirect:"/devops/sonar/"},{path:"/03.devops/02.sonar/",redirect:"/devops/sonar/"},{name:"v-39313fcc",path:"/devops/nexus/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-39313fcc").then(t)}},{path:"/devops/nexus/index.html",redirect:"/devops/nexus/"},{path:"/03.devops/04.jenkins/",redirect:"/devops/nexus/"},{name:"v-347f8f0a",path:"/devops/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-347f8f0a").then(t)}},{path:"/devops/index.html",redirect:"/devops/"},{path:"/03.devops/",redirect:"/devops/"},{name:"v-23a250fc",path:"/monitoring-logging/prometheus/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-23a250fc").then(t)}},{path:"/monitoring-logging/prometheus/index.html",redirect:"/monitoring-logging/prometheus/"},{path:"/04.monitoring-logging/01.prometheus/",redirect:"/monitoring-logging/prometheus/"},{name:"v-27156a36",path:"/monitoring-logging/alertmanager/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-27156a36").then(t)}},{path:"/monitoring-logging/alertmanager/index.html",redirect:"/monitoring-logging/alertmanager/"},{path:"/04.monitoring-logging/02.alertmanager/",redirect:"/monitoring-logging/alertmanager/"},{name:"v-9c058328",path:"/monitoring-logging/grafana/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-9c058328").then(t)}},{path:"/monitoring-logging/grafana/index.html",redirect:"/monitoring-logging/grafana/"},{path:"/04.monitoring-logging/03.grafana/",redirect:"/monitoring-logging/grafana/"},{name:"v-7f4180e8",path:"/monitoring-loggings/elk/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-7f4180e8").then(t)}},{path:"/monitoring-loggings/elk/index.html",redirect:"/monitoring-loggings/elk/"},{path:"/04.monitoring-logging/11.elk/",redirect:"/monitoring-loggings/elk/"},{name:"v-721f31dc",path:"/monitoring-logging/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-721f31dc").then(t)}},{path:"/monitoring-logging/index.html",redirect:"/monitoring-logging/"},{path:"/04.monitoring-logging/",redirect:"/monitoring-logging/"},{name:"v-c5336cc2",path:"/kubernetes/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-c5336cc2").then(t)}},{path:"/kubernetes/index.html",redirect:"/kubernetes/"},{path:"/10.kubernetes/00.README.html",redirect:"/kubernetes/"},{name:"v-4e805c42",path:"/kubernetes/docker/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-4e805c42").then(t)}},{path:"/kubernetes/docker/index.html",redirect:"/kubernetes/docker/"},{path:"/10.kubernetes/01.docker/00.README.html",redirect:"/kubernetes/docker/"},{name:"v-343bc80e",path:"/kubernetes/basic/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-343bc80e").then(t)}},{path:"/kubernetes/basic/index.html",redirect:"/kubernetes/basic/"},{path:"/10.kubernetes/02.basic/00.README.html",redirect:"/kubernetes/basic/"},{name:"v-216920c2",path:"/kubernetes/case/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-216920c2").then(t)}},{path:"/kubernetes/case/index.html",redirect:"/kubernetes/case/"},{path:"/10.kubernetes/10.case/00.README.html",redirect:"/kubernetes/case/"},{name:"v-148d420e",path:"/cloud-native/envoy/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-148d420e").then(t)}},{path:"/cloud-native/envoy/index.html",redirect:"/cloud-native/envoy/"},{path:"/11.cloud-native/01.envoy/00.README.html",redirect:"/cloud-native/envoy/"},{name:"v-63633e1a",path:"/cloud-native/envoy/20240804001635/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-63633e1a").then(t)}},{path:"/cloud-native/envoy/20240804001635/index.html",redirect:"/cloud-native/envoy/20240804001635/"},{path:"/11.cloud-native/01.envoy/01.test.html",redirect:"/cloud-native/envoy/20240804001635/"},{name:"v-4ea58c16",path:"/cloud-native/envoy/20240804001641/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-4ea58c16").then(t)}},{path:"/cloud-native/envoy/20240804001641/index.html",redirect:"/cloud-native/envoy/20240804001641/"},{path:"/11.cloud-native/01.envoy/02.test.html",redirect:"/cloud-native/envoy/20240804001641/"},{name:"v-39e7da12",path:"/cloud-native/envoy/20240804001649/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-39e7da12").then(t)}},{path:"/cloud-native/envoy/20240804001649/index.html",redirect:"/cloud-native/envoy/20240804001649/"},{path:"/11.cloud-native/01.envoy/03.test.html",redirect:"/cloud-native/envoy/20240804001649/"},{name:"v-252a280e",path:"/cloud-native/envoy/20240804001656/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-252a280e").then(t)}},{path:"/cloud-native/envoy/20240804001656/index.html",redirect:"/cloud-native/envoy/20240804001656/"},{path:"/11.cloud-native/01.envoy/04.test.html",redirect:"/cloud-native/envoy/20240804001656/"},{name:"v-106c760a",path:"/cloud-native/envoy/20240804001703/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-106c760a").then(t)}},{path:"/cloud-native/envoy/20240804001703/index.html",redirect:"/cloud-native/envoy/20240804001703/"},{path:"/11.cloud-native/01.envoy/05.test.html",redirect:"/cloud-native/envoy/20240804001703/"},{name:"v-02289dfd",path:"/cloud-native/envoy/20240804001722/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-02289dfd").then(t)}},{path:"/cloud-native/envoy/20240804001722/index.html",redirect:"/cloud-native/envoy/20240804001722/"},{path:"/11.cloud-native/01.envoy/06.test.html",redirect:"/cloud-native/envoy/20240804001722/"},{name:"v-0c8776ff",path:"/cloud-native/envoy/20240804001732/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-0c8776ff").then(t)}},{path:"/cloud-native/envoy/20240804001732/index.html",redirect:"/cloud-native/envoy/20240804001732/"},{path:"/11.cloud-native/01.envoy/07.test.html",redirect:"/cloud-native/envoy/20240804001732/"},{name:"v-49f16ace",path:"/cloud-native/envoy/20240801150921/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-49f16ace").then(t)}},{path:"/cloud-native/envoy/20240801150921/index.html",redirect:"/cloud-native/envoy/20240801150921/"},{path:"/11.cloud-native/01.envoy/08.HTTP 路由配置基础.html",redirect:"/cloud-native/envoy/20240801150921/"},{name:"v-15cc1fe4",path:"/cloud-native/envoy/20240803202950/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-15cc1fe4").then(t)}},{path:"/cloud-native/envoy/20240803202950/index.html",redirect:"/cloud-native/envoy/20240803202950/"},{path:"/11.cloud-native/01.envoy/09.流量高级治理.html",redirect:"/cloud-native/envoy/20240803202950/"},{name:"v-3048ff4b",path:"/cloud-native/envoy/20240804001357/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-3048ff4b").then(t)}},{path:"/cloud-native/envoy/20240804001357/index.html",redirect:"/cloud-native/envoy/20240804001357/"},{path:"/11.cloud-native/01.envoy/10.服务韧性-混沌工程.html",redirect:"/cloud-native/envoy/20240804001357/"},{name:"v-64745842",path:"/cloud-native/envoy/20240801/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-64745842").then(t)}},{path:"/cloud-native/envoy/20240801/index.html",redirect:"/cloud-native/envoy/20240801/"},{path:"/11.cloud-native/01.envoy/100.xxxx.html",redirect:"/cloud-native/envoy/20240801/"},{name:"v-4f291376",path:"/cloud-native/istio/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-4f291376").then(t)}},{path:"/cloud-native/istio/index.html",redirect:"/cloud-native/istio/"},{path:"/11.cloud-native/02.istio/00.README.html",redirect:"/cloud-native/istio/"},{name:"v-51abfd60",path:"/cloud-native/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-51abfd60").then(t)}},{path:"/cloud-native/index.html",redirect:"/cloud-native/"},{path:"/11.cloud-native/",redirect:"/cloud-native/"},{name:"v-1bb7fc82",path:"/archives/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-1bb7fc82").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-75835fc2",path:"/categories/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-75835fc2").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-65319358",path:"/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-65319358").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-6a58413f",path:"/tags/",component:sc,beforeEnter:(n,e,t)=>{ds("Layout","v-6a58413f").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{path:"*",component:sc}],lc={title:"",description:"",base:"/",headTags:[["meta",{name:"baidu-site-verification",content:"codeva-i1I7g2e68F"}],["link",{rel:"shortcut icon",href:"/img/favicon.ico"}],["link",{rel:"stylesheet",href:"//at.alicdn.com/t/font_3114978_qe0b39no76.css"}],["link",{rel:"stylesheet",href:"/styles/index.css"}],["meta",{name:"referrer",content:"no-referrer-when-downgrade"}],["noscript",{},'<meta http-equiv="refresh" content="0; url=https://www.yanshicheng.com/noscript/"><style>.theme-vdoing-content { display:none }'],["meta",{name:"闫世成 SRE架构之路",content:"闫世成 个人知识库，SRE 运维知识库。"}],["meta",{name:"theme-color",content:"#11a8cd"}],["script",{src:"https://cdn.staticfile.org/twikoo/1.6.7/twikoo.all.min.js"}],["script",{},'var _hmt = _hmt || [];\n          (function() {\n            var hm = document.createElement("script");\n            hm.src = "https://hm.baidu.com/hm.js?f06618722a8bed59d75788172aef88ca"; \n            var s = document.getElementsByTagName("script")[0];\n            s.parentNode.insertBefore(hm, s);\n          })();\n          ']],pages:[{title:"Linux - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.linux/01.basic",imgUrl:"/img/catalogue/default.png",description:"linux 基础知识。"}},title:"Linux - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/basic/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/01.linux/01.basic/",relativePath:"01.linux/01.basic/README.md",key:"v-7c1254c8",path:"/linux/basic/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"Iptables - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.linux/02.iptables",imgUrl:"/img/catalogue/default.png",description:"linux - Iptables 相关知识。"}},title:"Iptables - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/iptables/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/01.linux/02.iptables/",relativePath:"01.linux/02.iptables/README.md",key:"v-40652928",path:"/linux/iptables/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"nginx - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.linux/40.nginx",imgUrl:"/img/catalogue/default.png",description:"nginx 相关知识。"}},title:"nginx - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/nginx/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/01.linux/40.nginx/",relativePath:"01.linux/40.nginx/README.md",key:"v-49cc4fba",path:"/linux/nginx/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"linux",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.linux",imgUrl:"/img/catalogue/default.png",description:"linux相关知识，及传统架构软件。"}},title:"linux",date:"2024-07-28T15:55:01.000Z",permalink:"/linux/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/01.linux/",relativePath:"01.linux/README.md",key:"v-3918064c",path:"/linux/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"Tomcat - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.linux/41.tomcat",imgUrl:"/img/catalogue/default.png",description:"tomcat。"}},title:"Tomcat - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/tomcat/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/01.linux/41.tomcat/",relativePath:"01.linux/41.tomcat/README.md",key:"v-7e3452e8",path:"/linux/tomcat/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"MySQL - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.database/01.mysql",imgUrl:"/img/catalogue/default.png",description:"MySQL 是一个关系型数据库管理系统，由瑞典 MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL 是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。"}},title:"MySQL - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/database/mysql/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/02.database/01.mysql/",relativePath:"02.database/01.mysql/README.md",key:"v-33b685e8",path:"/database/mysql/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"Redis - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.database/02.redis",imgUrl:"/img/catalogue/default.png",description:"redis。"}},title:"Redis - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/database/redis/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/02.database/02.redis/",relativePath:"02.database/02.redis/README.md",key:"v-260c4f68",path:"/database/redis/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"MongoDB - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.database/03.mongodb",imgUrl:"/img/catalogue/default.png",description:"mongodb"}},title:"MongoDB - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/database/mongodb/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/02.database/03.mongodb/",relativePath:"02.database/03.mongodb/README.md",key:"v-2ed40968",path:"/database/mongodb/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"数据库",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.database",imgUrl:"/img/catalogue/default.png",description:"数据库相关知识。"}},title:"数据库",date:"2024-07-28T15:55:01.000Z",permalink:"/database/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/02.database/",relativePath:"02.database/README.md",key:"v-3d1627e8",path:"/database/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"GitLab - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.devops/01.gitlab",imgUrl:"/img/catalogue/default.png",description:"gitlab。"}},title:"GitLab - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/gitlab/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/03.devops/01.gitlab/",relativePath:"03.devops/01.gitlab/README.md",key:"v-be5b6a50",path:"/devops/gitlab/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"Sonar - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.devops/02.sonar",imgUrl:"/img/catalogue/default.png",description:"sonar。"}},title:"Sonar - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/sonar/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/03.devops/02.sonar/",relativePath:"03.devops/02.sonar/README.md",key:"v-76465e28",path:"/devops/sonar/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"Nexus - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.devops/03.nexus",imgUrl:"/img/catalogue/default.png",description:"nexus。"}},title:"Nexus - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/nexus",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/03.devops/04.jenkins/",relativePath:"03.devops/04.jenkins/README.md",key:"v-39313fcc",path:"/devops/nexus/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"Devops",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.devops",imgUrl:"/img/catalogue/default.png",description:"CI/CD相关文档。"}},title:"Devops",date:"2024-07-28T15:55:01.000Z",permalink:"/devops/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/03.devops/",relativePath:"03.devops/README.md",key:"v-347f8f0a",path:"/devops/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"MySQL - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/01.prometheus",imgUrl:"/img/catalogue/default.png",description:"prometheus 相关知识。"}},title:"MySQL - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-logging/prometheus/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/04.monitoring-logging/01.prometheus/",relativePath:"04.monitoring-logging/01.prometheus/README.md",key:"v-23a250fc",path:"/monitoring-logging/prometheus/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"alertmanager 相关知识",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/03.alertmanager",imgUrl:"/img/catalogue/default.png",description:"alertmanager 相关知识。"}},title:"alertmanager 相关知识",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-logging/alertmanager/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/04.monitoring-logging/02.alertmanager/",relativePath:"04.monitoring-logging/02.alertmanager/README.md",key:"v-27156a36",path:"/monitoring-logging/alertmanager/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"grafana 相关知识",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/03.grafana",imgUrl:"/img/catalogue/default.png",description:"grafana 相关知识。"}},title:"grafana 相关知识",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-logging/grafana/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/04.monitoring-logging/03.grafana/",relativePath:"04.monitoring-logging/03.grafana/README.md",key:"v-9c058328",path:"/monitoring-logging/grafana/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"es - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/11.elk",imgUrl:"/img/catalogue/default.png",description:"es 相关知识。"}},title:"es - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-loggings/elk/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/04.monitoring-logging/11.elk/",relativePath:"04.monitoring-logging/11.elk/README.md",key:"v-7f4180e8",path:"/monitoring-loggings/elk/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"监控-日志",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging",imgUrl:"/img/catalogue/default.png",description:"监控和日志管理的相关知识和资源。"}},title:"监控-日志",date:"2024-07-28T15:55:01.000Z",permalink:"/monitoring-logging/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/04.monitoring-logging/",relativePath:"04.monitoring-logging/README.md",key:"v-721f31dc",path:"/monitoring-logging/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"kubernetes",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"10.kubernetes",imgUrl:"/img/catalogue/default.png",description:"kubernetes 相关知识。"}},title:"kubernetes",date:"2024-07-28T15:55:01.000Z",permalink:"/kubernetes/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/10.kubernetes/00.README.html",relativePath:"10.kubernetes/00.README.md",key:"v-c5336cc2",path:"/kubernetes/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"容器相关知识",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"10.kubernetes/01.docker",imgUrl:"/img/catalogue/default.png",description:"docker 容器相关知识。"}},title:"容器相关知识",date:"2024-07-28T16:14:30.000Z",permalink:"/kubernetes/docker/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/10.kubernetes/01.docker/00.README.html",relativePath:"10.kubernetes/01.docker/00.README.md",key:"v-4e805c42",path:"/kubernetes/docker/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"kubernetes - 知识体系",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"10.kubernetes/02.basic",imgUrl:"/img/catalogue/default.png",description:"kubernetes 基础知识。"}},title:"kubernetes - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/kubernetes/basic/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/10.kubernetes/02.basic/00.README.html",relativePath:"10.kubernetes/02.basic/00.README.md",key:"v-343bc80e",path:"/kubernetes/basic/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"kubernetes 实战",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"10.kubernetes/10.case",imgUrl:"/img/catalogue/default.png",description:"kubernetes 相关案例。"}},title:"kubernetes 实战",date:"2024-07-28T16:14:30.000Z",permalink:"/kubernetes/case/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/10.kubernetes/10.case/00.README.html",relativePath:"10.kubernetes/10.case/00.README.md",key:"v-216920c2",path:"/kubernetes/case/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"envoy",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"11.cloud-native/01.envoy",imgUrl:"/img/catalogue/default.png",description:"envoy相关知识。"}},title:"envoy",date:"2021-11-25T18:58:31.000Z",permalink:"/cloud-native/envoy/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/00.README.html",relativePath:"11.cloud-native/01.envoy/00.README.md",key:"v-148d420e",path:"/cloud-native/envoy/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:28.000Z",permalink:"/cloud-native/envoy/20240804001635",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/01.test.html",relativePath:"11.cloud-native/01.envoy/01.test.md",key:"v-63633e1a",path:"/cloud-native/envoy/20240804001635/",headers:[{level:2,title:"概念",slug:"概念",normalizedTitle:"概念",charIndex:32},{level:3,title:"服务韧性（Service Resilience）",slug:"服务韧性-service-resilience",normalizedTitle:"服务韧性（service resilience）",charIndex:39},{level:3,title:"混沌工程（Chaos Engineering）",slug:"混沌工程-chaos-engineering",normalizedTitle:"混沌工程（chaos engineering）",charIndex:398},{level:3,title:"故障注入（Fault Injection）",slug:"故障注入-fault-injection",normalizedTitle:"故障注入（fault injection）",charIndex:1064},{level:3,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:1583},{level:4,title:"混沌工程和故障注入的概念与区别",slug:"混沌工程和故障注入的概念与区别",normalizedTitle:"混沌工程和故障注入的概念与区别",charIndex:1713},{level:4,title:"混沌工程实验的输入样例（扩展）",slug:"混沌工程实验的输入样例-扩展",normalizedTitle:"混沌工程实验的输入样例（扩展）",charIndex:2851},{level:4,title:"故障注入的具体样例（扩展）",slug:"故障注入的具体样例-扩展",normalizedTitle:"故障注入的具体样例（扩展）",charIndex:3087},{level:3,title:"Envoy Http 故障注入过滤器",slug:"envoy-http-故障注入过滤器",normalizedTitle:"envoy http 故障注入过滤器",charIndex:3345},{level:3,title:"envoy 局部故障处理机制",slug:"envoy-局部故障处理机制",normalizedTitle:"envoy 局部故障处理机制",charIndex:3588},{level:4,title:"重试 (Retry)",slug:"重试-retry",normalizedTitle:"重试 (retry)",charIndex:3606},{level:4,title:"超时 (Timeout)",slug:"超时-timeout",normalizedTitle:"超时 (timeout)",charIndex:3733},{level:4,title:"断路器 (Circuit Breaker)",slug:"断路器-circuit-breaker",normalizedTitle:"断路器 (circuit breaker)",charIndex:4032},{level:2,title:"注入延迟 (Fault Injection Delay)",slug:"注入延迟-fault-injection-delay",normalizedTitle:"注入延迟 (fault injection delay)",charIndex:4247},{level:3,title:"参数",slug:"参数",normalizedTitle:"参数",charIndex:4280},{level:4,title:"Fixed Delay (固定延迟)",slug:"fixed-delay-固定延迟",normalizedTitle:"fixed delay (固定延迟)",charIndex:4350},{level:4,title:"Header Delay (头部延迟)",slug:"header-delay-头部延迟",normalizedTitle:"header delay (头部延迟)",charIndex:4909},{level:2,title:"注入请求终止 (Fault Injection Abort)",slug:"注入请求终止-fault-injection-abort",normalizedTitle:"注入请求终止 (fault injection abort)",charIndex:5362},{level:3,title:"参数",slug:"参数-2",normalizedTitle:"参数",charIndex:4280},{level:4,title:"固定HTTP状态码",slug:"固定http状态码",normalizedTitle:"固定http状态码",charIndex:5445},{level:4,title:"gRPC状态码",slug:"grpc状态码",normalizedTitle:"grpc状态码",charIndex:5857},{level:4,title:"头部终止条件",slug:"头部终止条件",normalizedTitle:"头部终止条件",charIndex:6280},{level:3,title:"配置示例",slug:"配置示例",normalizedTitle:"配置示例",charIndex:6472},{level:2,title:"响应报文的速率限制 (Response Rate Limit)",slug:"响应报文的速率限制-response-rate-limit",normalizedTitle:"响应报文的速率限制 (response rate limit)",charIndex:10399},{level:3,title:"参数",slug:"参数-3",normalizedTitle:"参数",charIndex:4280},{level:4,title:"固定速率限制",slug:"固定速率限制",normalizedTitle:"固定速率限制",charIndex:10472},{level:4,title:"头部速率限制",slug:"头部速率限制",normalizedTitle:"头部速率限制",charIndex:10920}],headersStr:"概念 服务韧性（Service Resilience） 混沌工程（Chaos Engineering） 故障注入（Fault Injection） 总结 混沌工程和故障注入的概念与区别 混沌工程实验的输入样例（扩展） 故障注入的具体样例（扩展） Envoy Http 故障注入过滤器 envoy 局部故障处理机制 重试 (Retry) 超时 (Timeout) 断路器 (Circuit Breaker) 注入延迟 (Fault Injection Delay) 参数 Fixed Delay (固定延迟) Header Delay (头部延迟) 注入请求终止 (Fault Injection Abort) 参数 固定HTTP状态码 gRPC状态码 头部终止条件 配置示例 响应报文的速率限制 (Response Rate Limit) 参数 固定速率限制 头部速率限制",content:'提示\n\ntitle: 这是一个提示 这是一个提示内容。\n\n\n# 概念\n\n\n# 服务韧性（Service Resilience）\n\n服务韧性是指系统在面对各种故障、压力和变化时保持功能和性能的能力。它强调系统能够优雅地处理失败，快速恢复，并持续提供服务。\n\n 1. 容错能力：能够在部分组件失败的情况下继续运行。\n 2. 自我修复：自动检测并修复故障。\n 3. 负载均衡：有效分配资源和请求。\n 4. 优雅降级：在资源不足时，保证核心功能运行。\n 5. 快速恢复：从故障中迅速恢复正常状态。 实现方法\n\n * 采用微服务架构，实现服务隔离。\n * 使用断路器模式，防止级联故障。\n * 实施重试机制和超时控制。\n * 采用异步通信，减少服务间依赖。\n * 实现服务发现和动态路由。 在现代复杂的分布式系统中，服务韧性对于保证系统的可用性和可靠性至关重要，尤其在面对不可预知的故障和压力时。\n\n\n# 混沌工程（Chaos Engineering）\n\n混沌工程是一种通过主动引入故障和异常情况来识别系统弱点的实践方法。它旨在提高系统的可靠性和韧性。 对于架构师: 验证系统架构的容错能力，比如验证现在提倡的面向失败设计的系统。 对于开发和运维: 提高故障的应急效率， 实现故障告警，定位，恢复的有效和高效性。 对于测试: 弥补传统测试方法留下的空白，混沌功能从系统的角度进行测试，降低故障复发率，这有别与传统测试方法从用户角度的进行测试。 对于产品和设计: 通过混沌事件查看产品的表现，提高客户使用体验。\n\n 1.  建立稳态假设：定义系统正常运行的基准。\n 2.  构建假设：假设在特定故障情况下系统的行为。\n 3.  设计实验：设计和执行能验证或推翻假设的实验。\n 4.  验证结果：分析实验结果，改进系统。\n 5.  自动化：将混沌实验自动化，作为持续测试的一部分。 实施步骤\n 6.  从小规模开始，逐步增加实验复杂度。\n 7.  在非生产环境中进行初步测试。\n 8.  谨慎地在生产环境中执行实验。\n 9.  持续监控和分析系统行为。\n 10. 根据实验结果改进系统设计和架构。 工具和平台\n\n * Netflix Chaos Monkey\n * Gremlin\n * Chaos Toolkit\n * AWS Fault Injection Simulator 优势\n * 提前发现系统弱点。\n * 增强团队对系统行为的理解。\n * 提高系统整体可靠性和韧性。\n * 培养团队的事故应对能力。\n\n警告\n\n危险信息\n\n\n# 故障注入（Fault Injection）\n\n故障注入是一种有意引入错误、延迟或异常行为到系统中的技术，用于测试系统的容错能力和行为。 主要类型\n\n 1. 网络故障：延迟、丢包、断连。\n 2. 资源耗尽：CPU、内存、磁盘空间耗尽。\n 3. 服务故障：服务崩溃、响应错误。\n 4. 数据故障：数据损坏、不一致。 实现方法\n 5. 代码级注入：在应用代码中添加故障触发点。\n 6. 网络层注入：使用代理或防火墙规则模拟网络问题。\n 7. 容器层注入：在容器运行时注入故障。\n 8. 基础设施层注入：在虚拟机或物理机层面注入故障。 工具\n\n * Istio 故障注入功能\n * Chaos Mesh\n * Pumba (针对Docker容器)\n * Toxiproxy（网络故障模拟） 最佳实践\n\n 1. 从简单故障开始，逐步增加复杂度。\n 2. 结合监控系统，全面观察系统行为。\n 3. 在测试环境充分验证后再考虑生产环境。\n 4. 制定明确的回滚计划。\n 5. 记录和分析每次故障注入的结果。 与混沌工程的关系 故障注入是混沌工程的一个重要工具。混沌工程使用故障注入作为一种手段来执行实验，但混沌工程还包括更广泛的策略和方法论。\n\n\n# 总结\n\n这三个概念紧密相关，共同致力于提高系统的可靠性和韧性：\n\n * 服务韧性是目标，它定义了我们希望系统具备的特性。\n * 混沌工程是一种方法论，用于系统地提高和验证服务韧性。\n * 故障注入是一种具体技术，是实现混沌工程和测试服务韧性的重要工具。\n\n# 混沌工程和故障注入的概念与区别\n\n * 混沌工程是发现新信息的实验过程，而故障注入是对特定条件或变量的测试方法。\n * 测试和实验有着重要区别：\n   * 测试只产生二元的结果（通过或失败），不能发掘系统未知或尚不明确的认知。\n   * 实验可以产生新的认知，通常能够开辟出更广泛的对复杂系统的认知空间。\n * 混沌工程不仅仅是制造服务中断等故障：\n   * 并不是所有实验都可以有建设性、高效地发现问题。\n   * 除了故障类场景，还存在非故障类场景，如流量激增、资源竞争、拜占庭故障等。\n\n 1. 流量激增\n\n * 定义：指在短时间内系统请求量急剧增加的情况。\n * 原因：可能由于突发事件、营销活动、病毒式传播等引起。\n * 影响：\n   * 可能导致系统过载，响应时间增加。\n   * 可能触发自动扩展机制，增加资源消耗和成本。\n   * 可能导致缓存失效，增加后端数据库压力。\n * 测试方法：\n   * 使用负载测试工具模拟突发流量。\n   * 逐步增加流量，观察系统的扩展能力和性能变化。\n   * 模拟不同类型的请求组合，如读密集型vs写密集型。\n\n 2. 资源竞争\n\n * 定义：多个进程或线程同时争夺有限的系统资源。\n * 常见资源：CPU、内存、磁盘I/O、网络带宽、数据库连接等。\n * 影响：\n   * 可能导致系统响应变慢。\n   * 可能引发死锁或饥饿状态。\n   * 可能造成某些任务长时间无法完成。\n * 测试方法：\n   * 人为创造资源紧张状况，如启动大量计算密集型任务。\n   * 模拟数据库连接池耗尽的情况。\n   * 创造多个服务同时大量读写共享资源的场景。\n\n 3. 拜占庭故障\n\n * 定义：系统中的某个组件表现不一致，对不同的观察者呈现不同的症状。\n * 特点：这类故障难以检测，因为故障组件可能看似正常运行。\n * 影响：\n   * 可能导致系统行为不一致。\n   * 可能引发数据不一致或损坏。\n   * 在分布式系统中尤其危险，可能导致共识算法失效。\n * 测试方法：\n   * 模拟节点发送矛盾的信息给不同的接收者。\n   * 创造某个服务在不同调用中返回不一致结果的情况。\n   * 在分布式系统中注入时钟偏移，导致时序问题。\n\n 4. 其他非故障类场景\n\n * 数据倾斜：在分布式系统中，数据或工作负载不均匀分布。\n   * 测试方法：创造热点数据，观察系统如何处理不均衡的负载。\n * 配置漂移：系统配置随时间逐渐偏离预期状态。\n   * 测试方法：模拟配置文件被意外修改或不同步的情况。\n * 依赖服务降级：外部服务性能下降但未完全失效。\n   * 测试方法：降低模拟外部服务的响应速度，观察系统反应。\n\n# 混沌工程实验的输入样例（扩展）\n\n * 模拟整个云服务区域或整个数据中心故障\n * 跨多实例删除部分Kafka topic来重现生产环境中发生过的问题\n * 挑选特定时间段和流量，对其涉及的服务间调用注入特定的延时\n * 方法级别的混乱（运行时注入）：让方法随机抛出各种异常\n * 在代码中插入指令，允许在这些指令之前运行故障注入\n * 强制系统节点间的时间不同步\n * 在驱动程序中执行模拟I/O错误的程序\n * 让某个Elasticsearch集群CPU超负荷\n\n# 故障注入的具体样例（扩展）\n\n * CPU高负载\n * 磁盘高负载：频繁读写磁盘\n * 磁盘空间不足\n * 优雅的下线应用：使用应用的stop脚本平滑地停止应用\n * 通过kill进程直接停止应用，可能造成数据不一致\n * 网络恶化：随机改变一些包数据，使数据内容不正确\n * 网络延迟：将包延迟一个特定范围的时间\n * 网络丢包：构造一个tcp不会完全失败的丢包率\n * 网络黑洞：忽略来自某个ip的包\n * 外部服务不可达：将外部服务的域名指向本地环回地址或将访问外部服务的端口的OUTPUT数据包丢弃\n\n\n# Envoy Http 故障注入过滤器\n\n故障注入在 Envoy 中的实现上类似于重定向，重写，重试，他们通过修改 HTTP 请求或者应答的内容完成，\n\n * 它由专用的故障注入过滤器(fault.injection)实现，用于测试微服务对不通形式的故障韧性\n * 他通过用户指定的错误代码注入延迟(delay)和请求终止(abort),从而模拟出分阶段的不同故障情形。\n * 故障范围仅限于通过网络及性能通信的的应用程序可观察到的范围，不支持模拟本地主机上的CPU和磁盘故障。\n\n\n# envoy 局部故障处理机制\n\n# 重试 (Retry)\n\n分布式环境中对远程资源和服务的调用可能会由于瞬态故障（短时间内可自行恢复的故障）而失败。一般情况下，重试机制可以解决此类问题。\n\n * 常见的瞬态故障有网络连接速度慢、超时、资源过量使用或暂时不可用等。\n * envoy 可以配置超时 (Timeout)来快速失败，可以不让请求阻塞在故障后端上，而是 envoy 发起重试机制，把请求转移到后端其他端点，最终取决于会话绑定等机制。\n\n# 超时 (Timeout)\n\n此外，也存在因意外事件而导致故障，并且可能需要较长的时间才能恢复。\n\n * 此类故障的严重性范围涵盖从部分连接中断到服务完全失败：\n   * 连续重试和长时间的等待对该类场景没有太大意义。\n   * 应用程序应迅速接受该操作已失败并主动地应对该失败。\n * 可以将调用服务的操作配置为实施“超时”，若该服务在超时内未能响应，则以失败消息响应：\n   * 这样可以避免长时间等待导致的资源浪费和系统不稳定。\n\n# 断路器 (Circuit Breaker)\n\n还有，若服务非常繁忙，则系统某一部分的故障对此，简单的超时策略可能导致对同一操作的许多并发请求被阻止，直到超时时长耗尽为止。\n\n * 这些被阻止的请求可能包含关键的系统资源，例如内存、线程和数据库连接等：\n   * 这些资源的耗尽可能导致需要使用相关资源的系统其他可能不相关的部分出现故障。\n   * 于是，此时最好立即使操作失败，并且仅在仅可能成功的情况下才尝试调用服务。\n\n\n# 注入延迟 (Fault Injection Delay)\n\n\n# 参数\n\n注入延迟允许你在请求处理之前人为地增加延迟，以模拟网络延迟或其他延迟情况。Envoy通过配置fault滤波器来实现这一功能。\n\n# Fixed Delay (固定延迟)\n\nfault:\n  delay:\n    fixed_delay:\n      # 固定延迟时间，可以是秒或毫秒\n      seconds: 5\n      # 或者使用 milliseconds 参数\n      milliseconds: 5000\n    percentage:\n      # 应用延迟的请求百分比 (0-100)\n      numerator: 100\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n参数说明：\n\n * fixed_delay: 指定固定的延迟时间，可以使用seconds（秒）或milliseconds（毫秒）。这两个参数不能同时使用。\n   * seconds: 延迟时间，以秒为单位。\n   * milliseconds: 延迟时间，以毫秒为单位。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# Header Delay (头部延迟)\n\nfault:\n  delay:\n    header_delay:\n      header_name: "x-envoy-fault-delay-request"\n    percentage:\n      # 应用延迟的请求百分比 (0-100)\n      numerator: 100\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n参数说明：\n\n * header_delay: 根据请求头中的延迟值来设置延迟。\n   * header_name: 请求头的名称，值为延迟时间，单位为毫秒。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n\n# 注入请求终止 (Fault Injection Abort)\n\nEnvoy支持通过fault滤波器注入请求终止，以模拟服务器错误或其他终止条件。\n\n\n# 参数\n\n# 固定HTTP状态码\n\nfault:\n  abort:\n    http_status:\n      # 终止请求返回的HTTP状态码\n      code: 503\n    percentage:\n      # 应用终止的请求百分比 (0-100)\n      numerator: 100\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n参数说明：\n\n * http_status: 指定返回的HTTP状态码。\n   * code: 返回的HTTP状态码（如503表示服务不可用）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# gRPC状态码\n\nfault:\n  abort:\n    grpc_status:\n      # 终止请求返回的gRPC状态码\n      status: UNAVAILABLE\n    percentage:\n      # 应用终止的请求百分比 (0-100)\n      numerator: 100\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n参数说明：\n\n * grpc_status: 指定返回的gRPC状态码。\n   * status: 返回的gRPC状态码（如UNAVAILABLE）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# 头部终止条件\n\nfault:\n  abort:\n    header_abort:\n      header_name: "x-envoy-fault-abort-request"\n\n\n1\n2\n3\n4\n\n\n参数说明：\n\n * header_abort: 根据请求头中的终止条件来终止请求。\n   * header_name: 请求头的名称，值为终止条件（如HTTP状态码）。\n\n\n# 配置示例\n\n最大同时注入故障数量: 100。 注入故障返回 HTTP 状态码 503。 10%的请求注入故障 (percentage: numerator: 10, denominator: HUNDRED)。\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 Envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 Envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 HTTP 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 HTTP 连接管理器的统计信息\n          codec_type: AUTO              # 自动选择 HTTP 编解码类型，可以是 HTTP1 或 HTTP2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backend_app         # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                route:\n                  cluster: backend_app-v10   # 请求将路由到名为 backend_app-v10 的集群\n                  timeout: 0.25s        # 请求超时时间设置为 0.25 秒\n                  request_mirror_policies:  # 请求镜像策略\n                  - cluster: backend_app-v20  # 将请求镜像到 backend_app-v20 集群\n                    runtime_fraction:\n                      default_value:\n                        numerator: 20\n                        denominator: HUNDRED  # 20%的请求将被镜像\n                      runtime_key: "routing.request_mirror.backend_app"  # 运行时配置键，可以动态调整镜像比例\n          http_filters:\n          - name: envoy.filters.http.fault\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n              max_active_faults: 100  # 最大同时注入的故障数量\n              abort:\n                http_status: 503       # 指定返回的 HTTP 状态码，这里设置为 503，表示服务不可用\n                percentage:\n                  numerator: 10        # 注入故障的请求百分比，分子部分，表示 10%\n                  denominator: HUNDRED # 注入故障的请求百分比，分母部分，表示 100\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.Router  # 配置 HTTP 路由过滤器\n\n  clusters:\n  - name: backend_app-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v10  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backend_app-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v20  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n注意\n\n警告信息\n\n\n# 响应报文的速率限制 (Response Rate Limit)\n\n响应速率限制允许你控制响应的传输速率，模拟慢速网络等情况。\n\n\n# 参数\n\n# 固定速率限制\n\nfault:\n  response_rate_limit:\n    fixed_limit:\n      # 限制的传输速率，单位是字节/秒\n      bytes_per_second: 1024\n    percentage:\n      # 应用速率限制的请求百分比 (0-100)\n      numerator: 100\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n参数说明：\n\n * fixed_limit: 指定固定的传输速率，以字节/秒为单位。\n   * bytes_per_second: 每秒传输的字节数。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# 头部速率限制\n\nfault:\n  response_rate_limit:\n    header_limit:\n      header_name: "x-envoy-fault-rate-limit"\n    percentage:\n      numerator: 100\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n参数说明：\n\n * header_limit: 根据请求头中的速率限制值来设置传输速率。\n   * header_name: 请求头的名称，值为速率限制，以字节/秒为单位。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n笔记\n\nzheshixinxi\n\necho 123\n\n\n1\n',normalizedContent:'提示\n\ntitle: 这是一个提示 这是一个提示内容。\n\n\n# 概念\n\n\n# 服务韧性（service resilience）\n\n服务韧性是指系统在面对各种故障、压力和变化时保持功能和性能的能力。它强调系统能够优雅地处理失败，快速恢复，并持续提供服务。\n\n 1. 容错能力：能够在部分组件失败的情况下继续运行。\n 2. 自我修复：自动检测并修复故障。\n 3. 负载均衡：有效分配资源和请求。\n 4. 优雅降级：在资源不足时，保证核心功能运行。\n 5. 快速恢复：从故障中迅速恢复正常状态。 实现方法\n\n * 采用微服务架构，实现服务隔离。\n * 使用断路器模式，防止级联故障。\n * 实施重试机制和超时控制。\n * 采用异步通信，减少服务间依赖。\n * 实现服务发现和动态路由。 在现代复杂的分布式系统中，服务韧性对于保证系统的可用性和可靠性至关重要，尤其在面对不可预知的故障和压力时。\n\n\n# 混沌工程（chaos engineering）\n\n混沌工程是一种通过主动引入故障和异常情况来识别系统弱点的实践方法。它旨在提高系统的可靠性和韧性。 对于架构师: 验证系统架构的容错能力，比如验证现在提倡的面向失败设计的系统。 对于开发和运维: 提高故障的应急效率， 实现故障告警，定位，恢复的有效和高效性。 对于测试: 弥补传统测试方法留下的空白，混沌功能从系统的角度进行测试，降低故障复发率，这有别与传统测试方法从用户角度的进行测试。 对于产品和设计: 通过混沌事件查看产品的表现，提高客户使用体验。\n\n 1.  建立稳态假设：定义系统正常运行的基准。\n 2.  构建假设：假设在特定故障情况下系统的行为。\n 3.  设计实验：设计和执行能验证或推翻假设的实验。\n 4.  验证结果：分析实验结果，改进系统。\n 5.  自动化：将混沌实验自动化，作为持续测试的一部分。 实施步骤\n 6.  从小规模开始，逐步增加实验复杂度。\n 7.  在非生产环境中进行初步测试。\n 8.  谨慎地在生产环境中执行实验。\n 9.  持续监控和分析系统行为。\n 10. 根据实验结果改进系统设计和架构。 工具和平台\n\n * netflix chaos monkey\n * gremlin\n * chaos toolkit\n * aws fault injection simulator 优势\n * 提前发现系统弱点。\n * 增强团队对系统行为的理解。\n * 提高系统整体可靠性和韧性。\n * 培养团队的事故应对能力。\n\n警告\n\n危险信息\n\n\n# 故障注入（fault injection）\n\n故障注入是一种有意引入错误、延迟或异常行为到系统中的技术，用于测试系统的容错能力和行为。 主要类型\n\n 1. 网络故障：延迟、丢包、断连。\n 2. 资源耗尽：cpu、内存、磁盘空间耗尽。\n 3. 服务故障：服务崩溃、响应错误。\n 4. 数据故障：数据损坏、不一致。 实现方法\n 5. 代码级注入：在应用代码中添加故障触发点。\n 6. 网络层注入：使用代理或防火墙规则模拟网络问题。\n 7. 容器层注入：在容器运行时注入故障。\n 8. 基础设施层注入：在虚拟机或物理机层面注入故障。 工具\n\n * istio 故障注入功能\n * chaos mesh\n * pumba (针对docker容器)\n * toxiproxy（网络故障模拟） 最佳实践\n\n 1. 从简单故障开始，逐步增加复杂度。\n 2. 结合监控系统，全面观察系统行为。\n 3. 在测试环境充分验证后再考虑生产环境。\n 4. 制定明确的回滚计划。\n 5. 记录和分析每次故障注入的结果。 与混沌工程的关系 故障注入是混沌工程的一个重要工具。混沌工程使用故障注入作为一种手段来执行实验，但混沌工程还包括更广泛的策略和方法论。\n\n\n# 总结\n\n这三个概念紧密相关，共同致力于提高系统的可靠性和韧性：\n\n * 服务韧性是目标，它定义了我们希望系统具备的特性。\n * 混沌工程是一种方法论，用于系统地提高和验证服务韧性。\n * 故障注入是一种具体技术，是实现混沌工程和测试服务韧性的重要工具。\n\n# 混沌工程和故障注入的概念与区别\n\n * 混沌工程是发现新信息的实验过程，而故障注入是对特定条件或变量的测试方法。\n * 测试和实验有着重要区别：\n   * 测试只产生二元的结果（通过或失败），不能发掘系统未知或尚不明确的认知。\n   * 实验可以产生新的认知，通常能够开辟出更广泛的对复杂系统的认知空间。\n * 混沌工程不仅仅是制造服务中断等故障：\n   * 并不是所有实验都可以有建设性、高效地发现问题。\n   * 除了故障类场景，还存在非故障类场景，如流量激增、资源竞争、拜占庭故障等。\n\n 1. 流量激增\n\n * 定义：指在短时间内系统请求量急剧增加的情况。\n * 原因：可能由于突发事件、营销活动、病毒式传播等引起。\n * 影响：\n   * 可能导致系统过载，响应时间增加。\n   * 可能触发自动扩展机制，增加资源消耗和成本。\n   * 可能导致缓存失效，增加后端数据库压力。\n * 测试方法：\n   * 使用负载测试工具模拟突发流量。\n   * 逐步增加流量，观察系统的扩展能力和性能变化。\n   * 模拟不同类型的请求组合，如读密集型vs写密集型。\n\n 2. 资源竞争\n\n * 定义：多个进程或线程同时争夺有限的系统资源。\n * 常见资源：cpu、内存、磁盘i/o、网络带宽、数据库连接等。\n * 影响：\n   * 可能导致系统响应变慢。\n   * 可能引发死锁或饥饿状态。\n   * 可能造成某些任务长时间无法完成。\n * 测试方法：\n   * 人为创造资源紧张状况，如启动大量计算密集型任务。\n   * 模拟数据库连接池耗尽的情况。\n   * 创造多个服务同时大量读写共享资源的场景。\n\n 3. 拜占庭故障\n\n * 定义：系统中的某个组件表现不一致，对不同的观察者呈现不同的症状。\n * 特点：这类故障难以检测，因为故障组件可能看似正常运行。\n * 影响：\n   * 可能导致系统行为不一致。\n   * 可能引发数据不一致或损坏。\n   * 在分布式系统中尤其危险，可能导致共识算法失效。\n * 测试方法：\n   * 模拟节点发送矛盾的信息给不同的接收者。\n   * 创造某个服务在不同调用中返回不一致结果的情况。\n   * 在分布式系统中注入时钟偏移，导致时序问题。\n\n 4. 其他非故障类场景\n\n * 数据倾斜：在分布式系统中，数据或工作负载不均匀分布。\n   * 测试方法：创造热点数据，观察系统如何处理不均衡的负载。\n * 配置漂移：系统配置随时间逐渐偏离预期状态。\n   * 测试方法：模拟配置文件被意外修改或不同步的情况。\n * 依赖服务降级：外部服务性能下降但未完全失效。\n   * 测试方法：降低模拟外部服务的响应速度，观察系统反应。\n\n# 混沌工程实验的输入样例（扩展）\n\n * 模拟整个云服务区域或整个数据中心故障\n * 跨多实例删除部分kafka topic来重现生产环境中发生过的问题\n * 挑选特定时间段和流量，对其涉及的服务间调用注入特定的延时\n * 方法级别的混乱（运行时注入）：让方法随机抛出各种异常\n * 在代码中插入指令，允许在这些指令之前运行故障注入\n * 强制系统节点间的时间不同步\n * 在驱动程序中执行模拟i/o错误的程序\n * 让某个elasticsearch集群cpu超负荷\n\n# 故障注入的具体样例（扩展）\n\n * cpu高负载\n * 磁盘高负载：频繁读写磁盘\n * 磁盘空间不足\n * 优雅的下线应用：使用应用的stop脚本平滑地停止应用\n * 通过kill进程直接停止应用，可能造成数据不一致\n * 网络恶化：随机改变一些包数据，使数据内容不正确\n * 网络延迟：将包延迟一个特定范围的时间\n * 网络丢包：构造一个tcp不会完全失败的丢包率\n * 网络黑洞：忽略来自某个ip的包\n * 外部服务不可达：将外部服务的域名指向本地环回地址或将访问外部服务的端口的output数据包丢弃\n\n\n# envoy http 故障注入过滤器\n\n故障注入在 envoy 中的实现上类似于重定向，重写，重试，他们通过修改 http 请求或者应答的内容完成，\n\n * 它由专用的故障注入过滤器(fault.injection)实现，用于测试微服务对不通形式的故障韧性\n * 他通过用户指定的错误代码注入延迟(delay)和请求终止(abort),从而模拟出分阶段的不同故障情形。\n * 故障范围仅限于通过网络及性能通信的的应用程序可观察到的范围，不支持模拟本地主机上的cpu和磁盘故障。\n\n\n# envoy 局部故障处理机制\n\n# 重试 (retry)\n\n分布式环境中对远程资源和服务的调用可能会由于瞬态故障（短时间内可自行恢复的故障）而失败。一般情况下，重试机制可以解决此类问题。\n\n * 常见的瞬态故障有网络连接速度慢、超时、资源过量使用或暂时不可用等。\n * envoy 可以配置超时 (timeout)来快速失败，可以不让请求阻塞在故障后端上，而是 envoy 发起重试机制，把请求转移到后端其他端点，最终取决于会话绑定等机制。\n\n# 超时 (timeout)\n\n此外，也存在因意外事件而导致故障，并且可能需要较长的时间才能恢复。\n\n * 此类故障的严重性范围涵盖从部分连接中断到服务完全失败：\n   * 连续重试和长时间的等待对该类场景没有太大意义。\n   * 应用程序应迅速接受该操作已失败并主动地应对该失败。\n * 可以将调用服务的操作配置为实施“超时”，若该服务在超时内未能响应，则以失败消息响应：\n   * 这样可以避免长时间等待导致的资源浪费和系统不稳定。\n\n# 断路器 (circuit breaker)\n\n还有，若服务非常繁忙，则系统某一部分的故障对此，简单的超时策略可能导致对同一操作的许多并发请求被阻止，直到超时时长耗尽为止。\n\n * 这些被阻止的请求可能包含关键的系统资源，例如内存、线程和数据库连接等：\n   * 这些资源的耗尽可能导致需要使用相关资源的系统其他可能不相关的部分出现故障。\n   * 于是，此时最好立即使操作失败，并且仅在仅可能成功的情况下才尝试调用服务。\n\n\n# 注入延迟 (fault injection delay)\n\n\n# 参数\n\n注入延迟允许你在请求处理之前人为地增加延迟，以模拟网络延迟或其他延迟情况。envoy通过配置fault滤波器来实现这一功能。\n\n# fixed delay (固定延迟)\n\nfault:\n  delay:\n    fixed_delay:\n      # 固定延迟时间，可以是秒或毫秒\n      seconds: 5\n      # 或者使用 milliseconds 参数\n      milliseconds: 5000\n    percentage:\n      # 应用延迟的请求百分比 (0-100)\n      numerator: 100\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n参数说明：\n\n * fixed_delay: 指定固定的延迟时间，可以使用seconds（秒）或milliseconds（毫秒）。这两个参数不能同时使用。\n   * seconds: 延迟时间，以秒为单位。\n   * milliseconds: 延迟时间，以毫秒为单位。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# header delay (头部延迟)\n\nfault:\n  delay:\n    header_delay:\n      header_name: "x-envoy-fault-delay-request"\n    percentage:\n      # 应用延迟的请求百分比 (0-100)\n      numerator: 100\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n参数说明：\n\n * header_delay: 根据请求头中的延迟值来设置延迟。\n   * header_name: 请求头的名称，值为延迟时间，单位为毫秒。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n\n# 注入请求终止 (fault injection abort)\n\nenvoy支持通过fault滤波器注入请求终止，以模拟服务器错误或其他终止条件。\n\n\n# 参数\n\n# 固定http状态码\n\nfault:\n  abort:\n    http_status:\n      # 终止请求返回的http状态码\n      code: 503\n    percentage:\n      # 应用终止的请求百分比 (0-100)\n      numerator: 100\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n参数说明：\n\n * http_status: 指定返回的http状态码。\n   * code: 返回的http状态码（如503表示服务不可用）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# grpc状态码\n\nfault:\n  abort:\n    grpc_status:\n      # 终止请求返回的grpc状态码\n      status: unavailable\n    percentage:\n      # 应用终止的请求百分比 (0-100)\n      numerator: 100\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n参数说明：\n\n * grpc_status: 指定返回的grpc状态码。\n   * status: 返回的grpc状态码（如unavailable）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# 头部终止条件\n\nfault:\n  abort:\n    header_abort:\n      header_name: "x-envoy-fault-abort-request"\n\n\n1\n2\n3\n4\n\n\n参数说明：\n\n * header_abort: 根据请求头中的终止条件来终止请求。\n   * header_name: 请求头的名称，值为终止条件（如http状态码）。\n\n\n# 配置示例\n\n最大同时注入故障数量: 100。 注入故障返回 http 状态码 503。 10%的请求注入故障 (percentage: numerator: 10, denominator: hundred)。\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 http 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.httpconnectionmanager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 http 连接管理器的统计信息\n          codec_type: auto              # 自动选择 http 编解码类型，可以是 http1 或 http2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backend_app         # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                route:\n                  cluster: backend_app-v10   # 请求将路由到名为 backend_app-v10 的集群\n                  timeout: 0.25s        # 请求超时时间设置为 0.25 秒\n                  request_mirror_policies:  # 请求镜像策略\n                  - cluster: backend_app-v20  # 将请求镜像到 backend_app-v20 集群\n                    runtime_fraction:\n                      default_value:\n                        numerator: 20\n                        denominator: hundred  # 20%的请求将被镜像\n                      runtime_key: "routing.request_mirror.backend_app"  # 运行时配置键，可以动态调整镜像比例\n          http_filters:\n          - name: envoy.filters.http.fault\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n              max_active_faults: 100  # 最大同时注入的故障数量\n              abort:\n                http_status: 503       # 指定返回的 http 状态码，这里设置为 503，表示服务不可用\n                percentage:\n                  numerator: 10        # 注入故障的请求百分比，分子部分，表示 10%\n                  denominator: hundred # 注入故障的请求百分比，分母部分，表示 100\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.router  # 配置 http 路由过滤器\n\n  clusters:\n  - name: backend_app-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v10  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backend_app-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v20  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n注意\n\n警告信息\n\n\n# 响应报文的速率限制 (response rate limit)\n\n响应速率限制允许你控制响应的传输速率，模拟慢速网络等情况。\n\n\n# 参数\n\n# 固定速率限制\n\nfault:\n  response_rate_limit:\n    fixed_limit:\n      # 限制的传输速率，单位是字节/秒\n      bytes_per_second: 1024\n    percentage:\n      # 应用速率限制的请求百分比 (0-100)\n      numerator: 100\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n参数说明：\n\n * fixed_limit: 指定固定的传输速率，以字节/秒为单位。\n   * bytes_per_second: 每秒传输的字节数。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# 头部速率限制\n\nfault:\n  response_rate_limit:\n    header_limit:\n      header_name: "x-envoy-fault-rate-limit"\n    percentage:\n      numerator: 100\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n参数说明：\n\n * header_limit: 根据请求头中的速率限制值来设置传输速率。\n   * header_name: 请求头的名称，值为速率限制，以字节/秒为单位。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n笔记\n\nzheshixinxi\n\necho 123\n\n\n1\n',charsets:{cjk:!0},lastUpdated:"2024/08/06, 16:32:56",lastUpdatedTimestamp:1722933176e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:38.000Z",permalink:"/cloud-native/envoy/20240804001641",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/02.test.html",relativePath:"11.cloud-native/01.envoy/02.test.md",key:"v-4ea58c16",path:"/cloud-native/envoy/20240804001641/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:46.000Z",permalink:"/cloud-native/envoy/20240804001649",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/03.test.html",relativePath:"11.cloud-native/01.envoy/03.test.md",key:"v-39e7da12",path:"/cloud-native/envoy/20240804001649/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:52.000Z",permalink:"/cloud-native/envoy/20240804001656",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/04.test.html",relativePath:"11.cloud-native/01.envoy/04.test.md",key:"v-252a280e",path:"/cloud-native/envoy/20240804001656/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:59.000Z",permalink:"/cloud-native/envoy/20240804001703",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/05.test.html",relativePath:"11.cloud-native/01.envoy/05.test.md",key:"v-106c760a",path:"/cloud-native/envoy/20240804001703/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:17:14.000Z",permalink:"/cloud-native/envoy/20240804001722",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/06.test.html",relativePath:"11.cloud-native/01.envoy/06.test.md",key:"v-02289dfd",path:"/cloud-native/envoy/20240804001722/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"test",frontmatter:{title:"test",author:"Yan Shicheng",date:"2024-08-04T00:17:27.000Z",permalink:"/cloud-native/envoy/20240804001732",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/07.test.html",relativePath:"11.cloud-native/01.envoy/07.test.md",key:"v-0c8776ff",path:"/cloud-native/envoy/20240804001732/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"HTTP 路由配置基础",frontmatter:{title:"HTTP 路由配置基础",author:"Yan Shicheng",date:"2024-08-01T15:09:21.000Z",permalink:"/cloud-native/envoy/20240801150921",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/08.HTTP%20%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E5%9F%BA%E7%A1%80.html",relativePath:"11.cloud-native/01.envoy/08.HTTP 路由配置基础.md",key:"v-49f16ace",path:"/cloud-native/envoy/20240801150921/",headers:[{level:2,title:"线程模型",slug:"线程模型",normalizedTitle:"线程模型",charIndex:2},{level:3,title:"总体架构",slug:"总体架构",normalizedTitle:"总体架构",charIndex:11},{level:3,title:"连接处理流程",slug:"连接处理流程",normalizedTitle:"连接处理流程",charIndex:3044},{level:3,title:"HTTP 连接管理",slug:"http-连接管理",normalizedTitle:"http 连接管理",charIndex:3477},{level:2,title:"虚拟主机 (Virtual Hosts)",slug:"虚拟主机-virtual-hosts",normalizedTitle:"虚拟主机 (virtual hosts)",charIndex:4977},{level:2,title:"路由",slug:"路由",normalizedTitle:"路由",charIndex:654},{level:3,title:"域名搜索机制",slug:"域名搜索机制",normalizedTitle:"域名搜索机制",charIndex:5537},{level:3,title:"路由匹配 (match)",slug:"路由匹配-match",normalizedTitle:"路由匹配 (match)",charIndex:5652},{level:4,title:"基础匹配",slug:"基础匹配",normalizedTitle:"基础匹配",charIndex:5699},{level:4,title:"查询参数匹配",slug:"查询参数匹配",normalizedTitle:"查询参数匹配",charIndex:6486},{level:4,title:"请求头匹配",slug:"请求头匹配",normalizedTitle:"请求头匹配",charIndex:7537},{level:3,title:"路由动作",slug:"路由动作",normalizedTitle:"路由动作",charIndex:9584},{level:4,title:"路由 (route)",slug:"路由-route",normalizedTitle:"路由 (route)",charIndex:9623},{level:4,title:"重定向 (redirect)",slug:"重定向-redirect",normalizedTitle:"重定向 (redirect)",charIndex:10526},{level:4,title:"直接响应 (direct_response):",slug:"直接响应-direct-response",normalizedTitle:"直接响应 (direct_response):",charIndex:12143},{level:2,title:"高级路由功能",slug:"高级路由功能",normalizedTitle:"高级路由功能",charIndex:13926}],headersStr:"线程模型 总体架构 连接处理流程 HTTP 连接管理 虚拟主机 (Virtual Hosts) 路由 域名搜索机制 路由匹配 (match) 基础匹配 查询参数匹配 请求头匹配 路由动作 路由 (route) 重定向 (redirect) 直接响应 (direct_response): 高级路由功能",content:'# 线程模型\n\n\n# 总体架构\n\nEnvoy 采用单进程多线程的架构模型。这种设计旨在平衡性能和可管理性。整个 Envoy 进程包含一个主线程和多个工作线程，以及专门的文件刷新线程。\n\n 1. 主线程 (Main thread) 主线程是 Envoy 的核心控制线程，负责以下任务：\n\n * Envoy 进程的启动和关闭\n * xDS API 的处理：负责与控制平面进行通信，处理动态配置更新\n * DNS 解析：执行服务发现所需的 DNS 查询\n * 健康状态检测：监控上游服务的健康状态\n * 集群管理：维护和更新服务集群信息\n * 运行时配置：处理动态运行时配置的更改\n * 统计数据刷新：定期更新和导出性能指标\n * 管理接口维护：处理管理 API 的请求\n * 其他线程管理：包括信号处理和热重启等操作 主线程采用事件驱动模型，使用异步非阻塞方式处理上述任务，确保高效运行。\n\n 2. 工作线程 (Worker threads) 工作线程是 Envoy 处理网络 I/O 和请求处理的核心。特点如下：\n\n * 数量：默认情况下，Envoy 会创建与 CPU 核心数量相等的工作线程。可以通过 --concurrency 选项自定义。\n * 职责：\n   * 监听指定的套接字\n   * 接收新的连接请求\n   * 为每个新连接创建过滤器链并处理整个连接生命周期中的所有事件\n   * 执行 L4/L7 协议解析\n   * 应用各种过滤器（如 HTTP 过滤器、网络过滤器）\n   * 执行负载均衡、路由决策\n   * 与上游服务建立连接并转发请求 每个工作线程都运行一个非阻塞的事件循环，使用 libevent 或类似的事件库来高效处理大量并发连接。\n\n 3. 文件刷新线程 (File flush threads) 文件刷新线程专门负责将日志和其他数据写入磁盘：\n\n * 目的：分离 I/O 操作，避免影响主线程和工作线程的性能\n * 工作方式：当工作线程需要写入文件时，数据首先被移入内存缓冲区，然后由文件刷新线程异步写入磁盘\n * 优势：减少磁盘 I/O 对整体性能的影响\n\n 1. 线程协作模型\n\n * 线程间通信：主要通过无锁队列和原子操作实现，最小化线程同步开销\n * 工作分配：连接级别的负载均衡，新连接均匀分布到各工作线程\n * 请求处理：单个连接的所有处理都在同一工作线程中完成，避免线程切换 这种设计允许 Envoy 高效地利用多核处理器，同时保持良好的可扩展性和管理性。主线程处理全局任务和配置更新，而工作线程专注于高性能的请求处理，文件刷新线程则确保日志写入不会影响主要处理流程。 Envoy 线程模型流程图：\n\n+-------------------+\n|     Main Thread   |\n+-------------------+\n| - Process startup |\n| - xDS API handling|\n| - DNS resolution  |\n| - Health checking |\n| - Cluster mgmt    |\n| - Runtime config  |\n| - Stats flushing  |\n| - Admin interface |\n| - Thread mgmt     |\n+--------+----------+\n         |\n         v\n+-------------------+     +-------------------+     +-------------------+\n|   Worker Thread 1 |     |   Worker Thread 2 |     |   Worker Thread N |\n+-------------------+     +-------------------+     +-------------------+\n| - Listen for conns|     | - Listen for conns|     | - Listen for conns|\n| - Accept new conns|     | - Accept new conns|     | - Accept new conns|\n| - Process requests|     | - Process requests|     | - Process requests|\n| - Apply filters   |     | - Apply filters   |     | - Apply filters   |\n| - Load balancing  |     | - Load balancing  |     | - Load balancing  |\n| - Upstream comms  |     | - Upstream comms  |     | - Upstream comms  |\n+--------+----------+     +--------+----------+     +--------+----------+\n         |                         |                         |\n         |                         |                         |\n         v                         v                         v\n+-------------------+     +-------------------+     +-------------------+\n| File Flush Thread |     | File Flush Thread |     | File Flush Thread |\n+-------------------+     +-------------------+     +-------------------+\n| - Write logs      |     | - Write logs      |     | - Write logs      |\n| - Flush to disk   |     | - Flush to disk   |     | - Flush to disk   |\n+-------------------+     +-------------------+     +-------------------+\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n这个流程图展示了:\n\n 1. 顶部的主线程，负责全局任务和管理。\n 2. 中间是多个工作线程，每个都独立处理连接和请求。\n 3. 底部是文件刷新线程，负责将日志写入磁盘。 箭头表示了线程之间的关系和数据流向。主线程管理和协调工作线程，而工作线程和文件刷新线程之间有数据传递。\n\n\n# 连接处理流程\n\n这个流程图描述了一个复杂的网络通信系统,主要涉及 HTTP 和 TCP 协议。图中的组件从 1 到 20 编号,表示数据流动的顺序。以下是详细解释:\n\n 1.  Worker (工作器): 这是整个流程的起点,可能是处理请求的主要组件。\n 2.  Listener filters (监听器过滤器): 对传入的连接进行初步处理。\n 3.  Connection (连接): 建立网络连接。\n 4.  TCP Filter manager (TCP 过滤器管理器): 管理 TCP 层面的各种过滤器。\n 5.  TCP Read Filters (TCP 读取过滤器): 处理传入的 TCP 数据。\n 6.  TCP write Filters (TCP 写入过滤器): 处理外发的 TCP 数据。\n 7.  HTTP Codec (HTTP 编解码器): 在 TCP 和 HTTP 协议之间进行转换。\n 8.  HTTP conn Manager (HTTP 连接管理器): 管理 HTTP 连接。\n 9.  HTTP read filters (HTTP 读取过滤器): 处理传入的 HTTP 请求。\n 10. HTTP write filters (HTTP 写入过滤器): 处理外发的 HTTP 响应。\n 11. Service router (服务路由器): 将请求路由到适当的服务。\n 12. upstream Conn pool (上游连接池): 管理与后端服务的连接。\n 13. Backend service (后端服务): 实际处理请求的服务。 数据流程:\n 14. 请求从 Worker 开始,经过监听器过滤器和连接组件。\n 15. 然后进入 TCP 层,通过 TCP 过滤器管理器和各种 TCP 过滤器。\n 16. 数据再传递到 HTTP 层,经过 HTTP 编解码器、连接管理器和 HTTP 过滤器。\n 17. 服务路由器将请求定向到正确的服务。\n 18. 上游连接池管理与后端服务的连接。\n 19. 最后,请求到达后端服务进行处理。\n 20. 响应则按照相反的路径返回。\n\n\n# HTTP 连接管理\n\nEnvoy 通过内置的 L4 过滤器 HTTP 连接管理器将原始字节转换为 HTTP 应用层协议级别的消息和事件，例如接收到的标头和主体等，以及处理所有 HTTP 连接和请求共有的功能，包括访问日志、生成和跟踪请求 ID、请求/响应头处理、路由表管理和统计信息等：\n\n * 支持 HTTP/1.1、WebSockets 和 HTTP/2，但不支持 SPDY\n * 关联的路由表可静态配置，也可经由 xDS API 中的 RDS 动态生成\n * 内建重试插件，可用于配置重试行为\n   * Host Predicates\n   * Priority Predicates\n * 内建支持 302 重定向，它可以捕获指定响应，合成新请求后将其发送到新的路由匹配(match)所指定的上游端点，并将收到的响应作为对原始请求的响应返回客户端\n * 支持适用于 HTTP 连接及其组成流（constituent streams）的多种可配置超时机制\n   * 连接级别：空闲超时和排空超时（GOAWAY）\n   * 流级别：空闲超时，每路由相关的上游超时和每路由相关的 gRPC 最大超时时长\n * 基于自定义集群的动态转发代理；\n * HTTP 协议相关的功能通过各 HTTP 过滤器实现，这些过滤器大体可分为编码器、解码器和编/解码器三类；\n   * router（envoy.router）是最常的过滤器之一，它基于路由表完成请求的转发或重定向，以及处理重试操作和生成统计信息等； 主要点\n\n 1. Envoy 的 HTTP 连接管理器：将原始字节转换为 HTTP 应用层消息和事件。\n 2. 支持的协议：HTTP/1.1、WebSockets 和 HTTP/2（不支持 SPDY）。\n 3. 路由表：可以静态配置或通过 xDS API 动态生成。\n 4. 重试插件：可配置的重试行为，包括主机谓词和优先级谓词。\n 5. 302 重定向：内置支持处理 302 重定向，通过合成新请求并发送到匹配的上游端点。\n 6. 超时机制：在连接和流级别都可配置，包括空闲超时和每路由相关的 gRPC 最大超时。\n 7. 动态转发：基于自定义集群。\n 8. HTTP 过滤器：实现 HTTP 协议相关功能，分为编码器、解码器和编/解码器三类。\n 9. 路由过滤器：最常见的过滤器之一，处理请求转发或重定向、重试操作和统计信息生成。\n\n\n# 虚拟主机 (Virtual Hosts)\n\n虚拟主机是 Envoy 中处理 HTTP 请求路由的核心概念。\n\n * 定义：虚拟主机是一组路由规则的逻辑分组，与一个或多个域名相关联。\n * 功能：允许单个 Envoy 实例处理多个域名的流量，实现基于域名的请求分发。\n * 匹配逻辑：Envoy 使用 HTTP/1.1 的 Host 头或 HTTP/2 的 :authority 伪头来匹配虚拟主机。\n * 通配符支持：支持精确匹配、前缀匹配、后缀匹配和通配符匹配。 配置示例：\n\nvirtual_hosts:\n  - name: main\n    domains: [\'*.example.com\', \'example.com\']\n    routes: [...]\n  - name: api\n    domains: [\'api.another-example.com\']\n    routes: [...]\n  - name: default\n    domains: [\'*\']\n    routes: [...]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 路由\n\n路由配置是 Envoy 中处理 HTTP 请求的核心机制，它定义了如何匹配 incoming 请求并决定如何处理这些请求。\n\n\n# 域名搜索机制\n\n将请求报文中的 host 标头依次与路由表定义的各 Virtualhost 的 domain 属性值进行比较，并于第一次匹配终止搜索。 匹配顺序 精准匹配 -> 左前缀匹配 -> 右前缀匹配 -> 通配符\n\n\n# 路由匹配 (match)\n\n路由匹配决定了哪些请求会被特定的路由规则处理。它分为两类：\n\n# 基础匹配\n\n * prefix: 匹配 URL 路径前缀\n * path: 匹配完整的 URL 路径\n * safe_regex: 使用安全的正则表达式匹配 URL 路径 示例：\n\n[match:\n  prefix: \'/api/v1\'](<routes:  # 路由配置列表\n  - name: "prefix_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 URL 路径前缀为 /\n      case_sensitive: true  # URL 路径匹配是否大小写敏感\n    route:\n      cluster: "cluster1"  # 请求将被路由到 cluster1 集群\n\n  - name: "path_route"  # 路由的名称\n    match:\n      path: "/message"  # 匹配完整的 URL 路径为 /message\n    route:\n      cluster: "cluster2"  # 请求将被路由到 cluster2 集群\n\n  - name: "regex_route"  # 路由的名称\n    match:\n      safe_regex:  # 使用安全的正则表达式匹配 URL 路径\n        google_re2: {}  # 使用 Google RE2 引擎\n        regex: ".*static.*"  # 匹配路径中带有 "static" 的 URL\n    route:\n      cluster: "cluster3"  # 请求将被路由到 cluster3 集群>)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# 查询参数匹配\n\n * query_parameters: 匹配 URL 查询参数 示例：\n\nroutes:\n  - name: "example_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 URL 路径前缀\n      query_parameters:  # 匹配 URL 查询参数\n        - name: "param1"\n          exact_match: "value1"  # 精确匹配查询参数 param1 的值\n        - name: "param2"\n          prefix_match: "pre"  # 前缀匹配查询参数 param2 的值\n        - name: "param3"\n          suffix_match: "suf"  # 后缀匹配查询参数 param3 的值\n        - name: "param4"\n          contains_match: "sub"  # 包含匹配查询参数 param4 的值\n        - name: "param5"\n          safe_regex_match:  # 使用安全的正则表达式匹配查询参数 param5 的值\n            google_re2: {}\n            regex: ".*regex.*"\n        - name: "param6"\n          string_match: "exact_string"  # 字符串匹配查询参数 param6 的值\n        - name: "param7"\n          present_match: true  # 存在性匹配查询参数 param7 是否存在\n        - name: "param8"\n          exact_match: "value8"\n          ignore_case: true  # 忽略大小写匹配查询参数 param8 的值\n    route:\n      cluster: "example_cluster"  # 请求将被路由到 example_cluster 集群\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 请求头匹配\n\n * headers: 匹配 HTTP 请求头\n   * exact_match: 精确值匹配\n   * safe_regex_match: 正则表达式模式匹配\n   * range_match: 值范围匹配，检查标头值是否在指定的范围\n   * present_match: 标头存在性匹配，检查标头值是否在指定的范围内。\n   * prefix_match: 值前缀匹配\n   * suffix_match: 值后缀匹配\n   * contains_match: 检测标头值是否包含此处指定的字符串。\n   * string_match: 检测标头值是否匹配此处指定的字符串。\n   * invert_match: 是否将匹配的检测结果取反，即以不满足条件为真，默认为false。\n\nroutes:  # 路由配置列表\n  - name: "example_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 URL 路径前缀\n      headers:  # 匹配 HTTP 请求头\n        - name: "x-custom-header"  # 请求头的名称\n          exact_match: "header_value"  # 精确匹配 x-custom-header 的值\n        - name: "x-regex-header"  # 请求头的名称\n          safe_regex_match:  # 使用安全的正则表达式匹配\n            google_re2: {}  # 使用 Google RE2 正则表达式引擎\n            regex: ".*value.*"  # 正则表达式\n        - name: "x-range-header"  # 请求头的名称\n          range_match:  # 值范围匹配 x-range-header 的值\n            start: 10  # 匹配值的起始范围\n            end: 20  # 匹配值的结束范围\n        - name: "x-present-header"  # 请求头的名称\n          present_match: true  # 存在性匹配 x-present-header 是否存在\n        - name: "x-prefix-header"  # 请求头的名称\n          prefix_match: "prefix"  # 前缀匹配 x-prefix-header 的值\n        - name: "x-suffix-header"  # 请求头的名称\n          suffix_match: "suffix"  # 后缀匹配 x-suffix-header 的值\n        - name: "x-contains-header"  # 请求头的名称\n          contains_match: "substring"  # 包含匹配 x-contains-header 的值\n        - name: "x-string-header"  # 请求头的名称\n          string_match: "exact_string"  # 字符串匹配 x-string-header 的值\n        - name: "x-invert-header"  # 请求头的名称\n          invert_match: true  # 反向匹配 x-invert-header 的匹配结果\n      query_parameters:  # 匹配 URL 查询参数\n        - name: "param1"  # 查询参数的名称\n          exact_match: "value1"  # 精确匹配查询参数 param1 的值\n        - name: "param2"  # 查询参数的名称\n          safe_regex_match:  # 使用安全的正则表达式匹配\n            google_re2: {}  # 使用 Google RE2 正则表达式引擎\n            regex: ".*value.*"  # 正则表达式\n    route:\n      cluster: "example_cluster"  # 请求将被路由到 example_cluster 集群\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 路由动作\n\n匹配成功后，Envoy 会执行指定的路由动作。主要有三种：\n\n# 路由 (route)\n\n将请求转发到指定的上游集群。\n\n * cluster: 路由到指定的集群\n * cluster_header: 路由到请求标头中由 cluster_header 的值指定的上游集群。\n * weighted_cluster: 基于权重降请求路由至多个上游，进行流量分割\n\n[route:\n  cluster: service_cluster](<routes:\n  - name: "direct_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 URL 路径前缀\n    route:\n      cluster: "cluster1"  # 路由到指定的集群 cluster1\n\n  - name: "header_route"  # 路由的名称\n    match:\n      prefix: "/header"  # 匹配 URL 路径前缀 /header\n    route:\n      cluster_header: "x-cluster-header"  # 路由到请求标头中由 x-cluster-header 的值指定的上游集群\n\n  - name: "weighted_route"  # 路由的名称\n    match:\n      prefix: "/weighted"  # 匹配 URL 路径前缀 /weighted\n    route:\n      weighted_clusters:  # 基于权重进行流量分割的配置\n        clusters:\n          - name: "clusterA"\n            weight: 80  # 80%的流量路由到 clusterA\n          - name: "clusterB"\n            weight: 20  # 20%的流量路由到 clusterB>)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 重定向 (redirect)\n\n返回 HTTP 重定向响应，将客户端重定向到新的位置。\n\n * 协议重定向: https_redirect 或 scheme_redirect 二者只能使用其一。\n * 主机重定向: host_redirect\n * 端口重定向: port_redirect\n * 路径重定向: path_redirect\n * 路径前缀重定向: prefix_redirect\n * 正则表达式模式定义的重定向: regex_rewrite\n * 重设响应吗: response_code 默认为 301\n * strip_query: 是否在重定向期间删除 URL 中的查询参数，默认为 false。\n\nroutes:\n  - name: "https_redirect_route"  # 路由的名称\n    match:\n      prefix: "/redirect"  # 匹配 URL 路径前缀 /redirect\n    redirect:\n      https_redirect: true  # 协议重定向到 HTTPS\n      host_redirect: "newhost.com"  # 主机重定向到 newhost.com\n      port_redirect: 443  # 端口重定向到 443\n      path_redirect: "/newpath"  # 路径重定向到 /newpath\n      response_code: 302  # 重定向响应码为 302\n      strip_query: true  # 在重定向期间删除 URL 中的查询参数\n\n  - name: "scheme_redirect_route"  # 路由的名称\n    match:\n      prefix: "/scheme"  # 匹配 URL 路径前缀 /scheme\n    redirect:\n      scheme_redirect: "https"  # 协议重定向到 HTTPS\n      host_redirect: "example.com"  # 主机重定向到 example.com\n      port_redirect: 8443  # 端口重定向到 8443\n      prefix_redirect: "/prefix"  # 路径前缀重定向到 /prefix\n      response_code: 301  # 重定向响应码为 301\n      strip_query: false  # 在重定向期间保留 URL 中的查询参数\n\n  - name: "regex_rewrite_route"  # 路由的名称\n    match:\n      prefix: "/regex"  # 匹配 URL 路径前缀 /regex\n    redirect:\n      regex_rewrite:  # 正则表达式模式定义的重定向\n        pattern:\n          google_re2: {}\n          regex: "^/oldpath/(.*)$"  # 匹配 /oldpath/ 后面的所有内容\n        substitution: "/newpath/\\\\1"  # 重定向到 /newpath/ 后面的所有内容\n      response_code: 301  # 重定向响应码为 301\n      strip_query: true  # 在重定向期间删除 URL 中的查询参数\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n# 直接响应 (direct_response):\n\n不转发请求，而是直接返回指定的响应。\n\n * status: 指定状态吗\n * body: 消息体\n   * filename: 本地文件数据源\n   * inline_byte: 直接给出的内联字节\n   * inline_string: 直接给出的内联字符串\n\nstatic_resources:\n  listeners:\n    - name: listener_0\n      address:\n        socket_address:\n          address: 0.0.0.0\n          port_value: 10000\n      filter_chains:\n        - filters:\n            - name: envoy.filters.network.http_connection_manager\n              typed_config:\n                "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n                stat_prefix: ingress_http\n                route_config:\n                  name: local_route\n                  virtual_hosts:\n                    - name: local_service\n                      domains:\n                        - "*"\n                      routes:\n                        - match:\n                            prefix: "/"\n                          direct_response: # 直接响应配置\n                            status: 200 # 状态码，200表示成功\n                            body:\n                              inline_string: "Hello, world!" # 直接给出的内联字符串，内容为 "Hello, world!"\n                http_filters:\n                  - name: envoy.filters.http.router\n  clusters:\n    - name: service_backend\n      connect_timeout: 0.25s\n      type: LOGICAL_DNS\n      dns_lookup_family: V4_ONLY\n      lb_policy: ROUND_ROBIN\n      load_assignment:\n        cluster_name: service_backend\n        endpoints:\n          - lb_endpoints:\n              - endpoint:\n                  address:\n                    socket_address:\n                      address: backend\n                      port_value: 80\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 高级路由功能\n\n * 加权集群路由：将流量按比例分发到多个集群\n * 重试策略(retry_policy)：定义请求失败时的重试行为\n * 超时设置(timeout)：为路由设置请求超时时间\n * 流量分割()：实现 A/B 测试或金丝雀发布\n * 故障注入()：用于测试服务弹性\n * 请求镜像：复制流量到镜像服务进行分析 示例配置：\n\nroutes:\n  - match:\n      prefix: \'/api/v2\'\n      headers:\n        - name: \'User-Agent\'\n          prefix: \'Mozilla\'\n    route:\n      weighted_clusters:\n        clusters:\n          - name: service_v2_cluster_1\n            weight: 90\n          - name: service_v2_cluster_2\n            weight: 10\n      retry_policy:\n        retry_on: connect-failure,refused-stream,unavailable\n        num_retries: 3\n      timeout: 30s\n    request_mirror_policies:\n      - cluster: analytics_cluster\n        runtime_fraction:\n          default_value:\n            numerator: 10\n            denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n这个配置展示了如何组合使用多种路由功能，包括路径前缀匹配、头部匹配、加权集群路由、重试策略、超时设置和请求镜像。 通过灵活运用这些路由配置选项，Envoy 可以实现复杂的流量管理策略，满足现代微服务架构中的各种需求，如负载均衡、流量分割、服务版本控制、故障恢复等。这种细粒度的控制使得 Envoy 成为构建健壮和可扩展的服务网格的理想选择。我理解您需要更全面、深入的介绍。让我为您提供一个更加全面和深入的 Envoy 虚拟主机、路由和 HTTP 流量治理的讲解。\n\n 1. \n 2. 路由 (Routes)\n\n路由定义了请求匹配条件和相应的处理动作。 深入解析：\n\n * 匹配条件：包括路径前缀、精确路径、正则表达式、查询参数、HTTP 方法等。\n * 优先级：路由按照定义顺序匹配，更具体的路由应该放在前面。\n * 处理动作：包括转发到上游集群、重定向、直接响应、路由到其他虚拟主机等。\n\n高级路由配置示例：\n\nroutes:\n  - match:\n      prefix: \'/api/v1\'\n      headers:\n        - name: \'Content-Type\'\n          exact_match: \'application/json\'\n    route:\n      cluster: api_cluster_v1\n      timeout: 15s\n      retry_policy:\n        retry_on: connect-failure,refused-stream,unavailable\n        num_retries: 3\n  - match:\n      path: \'/health\'\n    direct_response:\n      status: 200\n      body: { inline_string: \'OK\' }\n  - match:\n      prefix: \'/old-api\'\n    redirect:\n      path_redirect: \'/api/v1\'\n      response_code: 301\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 1. HTTP 流量治理\n\nEnvoy 提供了丰富的 HTTP 流量治理功能，用于控制和优化流量。 a) 高级重试机制\n\n * 支持基于状态码、头部、上游服务故障等条件的重试。\n * 可配置重试预算，避免重试风暴。\n * 支持主机选择重试策略。\n\nretry_policy:\n  retry_on: connect-failure,refused-stream,unavailable,5xx\n  num_retries: 3\n  per_try_timeout: 1s\n  retry_host_predicate:\n    - name: envoy.retry_host_predicates.previous_hosts\n  host_selection_retry_max_attempts: 3\n  retry_priority:\n    name: envoy.retry_priorities.previous_priorities\n    config:\n      update_frequency: 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nb) 复杂超时控制\n\n * 支持整体请求超时、每次尝试超时、空闲超时等。\n * 可以针对特定路由或整个集群设置。\n\nroute:\n  cluster: service_cluster\n  timeout: 30s\n  idle_timeout: 5s\n  max_stream_duration:\n    grpc_timeout_header_max: 10s\n\n\n1\n2\n3\n4\n5\n6\n\n\nc) 高级断路器\n\n * 支持多种断路器类型：最大连接数、最大等待请求数、最大重试次数等。\n * 可以为不同优先级流量设置不同的断路器阈值。\n\ncircuit_breakers:\n  thresholds:\n    - priority: DEFAULT\n      max_connections: 1000\n      max_pending_requests: 1000\n      max_requests: 5000\n      max_retries: 3\n    - priority: HIGH\n      max_connections: 2000\n      max_pending_requests: 2000\n      max_requests: 10000\n      max_retries: 5\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nd) 动态流量分割\n\n * 支持基于权重的流量分割。\n * 可以与运行时配置结合，实现动态调整。\n\nroute:\n  weighted_clusters:\n    clusters:\n      - name: service_v1\n        weight: 90\n      - name: service_v2\n        weight: 10\n  runtime:\n    key: routing.traffic_split.service\n    default: 0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\ne) 高级请求速率限制\n\n * 支持本地和全局速率限制。\n * 可以基于多种因素进行限制，如客户端 IP、请求路径、HTTP 头等。\n\nrate_limit_service:\n  grpc_service:\n    envoy_grpc:\n      cluster_name: rate_limit_cluster\nrate_limits:\n  - stage: 0\n    actions:\n      - remote_address: {}\n      - header_value_match:\n          descriptor_value: \'high-volume-endpoint\'\n          headers:\n            - name: \':path\'\n              exact_match: \'/api/high-volume\'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nf) 高级请求镜像\n\n * 支持流量镜像到多个目标。\n * 可以控制镜像流量的百分比。\n\nroute:\n  cluster: primary_cluster\n  request_mirror_policies:\n    - cluster: mirror_cluster_1\n      runtime_fraction:\n        default_value:\n          numerator: 50\n          denominator: HUNDRED\n    - cluster: mirror_cluster_2\n      runtime_fraction:\n        default_value:\n          numerator: 25\n          denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ng) 复杂的头部操作\n\n * 支持添加、移除、修改请求和响应头。\n * 支持基于条件的头部操作。\n\nrequest_headers_to_add:\n  - header:\n      key: \'x-request-id\'\n      value: \'%REQ(X-REQUEST-ID)%\'\n    append: true\nresponse_headers_to_remove: [\'x-powered-by\']\nheaders_to_add:\n  - header:\n      key: \'x-envoy-upstream-service-time\'\n      value: \'%RESPONSE_DURATION%\'\n    append: false\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nh) 故障注入\n\n * 支持延迟和错误注入，用于测试服务弹性。\n\nfault:\n  delay:\n    fixed_delay: 5s\n    percentage:\n      numerator: 10\n      denominator: HUNDRED\n  abort:\n    http_status: 503\n    percentage:\n      numerator: 5\n      denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\ni) 动态路由配置\n\n * 支持通过 xDS API 动态更新路由配置。\n * 允许在运行时修改路由行为，无需重启 Envoy。\n\nj) 高级负载均衡\n\n * 支持多种负载均衡算法：轮询、最少请求、一致性哈希等。\n * 支持区域感知路由，优先选择同区域的上游服务。\n\nload_assignment:\n  cluster_name: service_cluster\n  endpoints:\n    - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 10.0.0.1\n                port_value: 8080\n          health_status: HEALTHY\n          load_balancing_weight: 75\n    - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 10.0.0.2\n                port_value: 8080\n          health_status: HEALTHY\n          load_balancing_weight: 25\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n这些高级特性使 Envoy 能够精细地控制 HTTP 流量，实现复杂的流量管理策略。通过组合使用这些功能，可以构建出强大、灵活且高度可配置的服务网格和 API 网关解决方案，满足现代分布式系统的各种需求。Envoy 的这些特性使其成为微服务架构中不可或缺的组件，能够有效地解决服务发现、负载均衡、熔断、限流、监控等关键问题。',normalizedContent:'# 线程模型\n\n\n# 总体架构\n\nenvoy 采用单进程多线程的架构模型。这种设计旨在平衡性能和可管理性。整个 envoy 进程包含一个主线程和多个工作线程，以及专门的文件刷新线程。\n\n 1. 主线程 (main thread) 主线程是 envoy 的核心控制线程，负责以下任务：\n\n * envoy 进程的启动和关闭\n * xds api 的处理：负责与控制平面进行通信，处理动态配置更新\n * dns 解析：执行服务发现所需的 dns 查询\n * 健康状态检测：监控上游服务的健康状态\n * 集群管理：维护和更新服务集群信息\n * 运行时配置：处理动态运行时配置的更改\n * 统计数据刷新：定期更新和导出性能指标\n * 管理接口维护：处理管理 api 的请求\n * 其他线程管理：包括信号处理和热重启等操作 主线程采用事件驱动模型，使用异步非阻塞方式处理上述任务，确保高效运行。\n\n 2. 工作线程 (worker threads) 工作线程是 envoy 处理网络 i/o 和请求处理的核心。特点如下：\n\n * 数量：默认情况下，envoy 会创建与 cpu 核心数量相等的工作线程。可以通过 --concurrency 选项自定义。\n * 职责：\n   * 监听指定的套接字\n   * 接收新的连接请求\n   * 为每个新连接创建过滤器链并处理整个连接生命周期中的所有事件\n   * 执行 l4/l7 协议解析\n   * 应用各种过滤器（如 http 过滤器、网络过滤器）\n   * 执行负载均衡、路由决策\n   * 与上游服务建立连接并转发请求 每个工作线程都运行一个非阻塞的事件循环，使用 libevent 或类似的事件库来高效处理大量并发连接。\n\n 3. 文件刷新线程 (file flush threads) 文件刷新线程专门负责将日志和其他数据写入磁盘：\n\n * 目的：分离 i/o 操作，避免影响主线程和工作线程的性能\n * 工作方式：当工作线程需要写入文件时，数据首先被移入内存缓冲区，然后由文件刷新线程异步写入磁盘\n * 优势：减少磁盘 i/o 对整体性能的影响\n\n 1. 线程协作模型\n\n * 线程间通信：主要通过无锁队列和原子操作实现，最小化线程同步开销\n * 工作分配：连接级别的负载均衡，新连接均匀分布到各工作线程\n * 请求处理：单个连接的所有处理都在同一工作线程中完成，避免线程切换 这种设计允许 envoy 高效地利用多核处理器，同时保持良好的可扩展性和管理性。主线程处理全局任务和配置更新，而工作线程专注于高性能的请求处理，文件刷新线程则确保日志写入不会影响主要处理流程。 envoy 线程模型流程图：\n\n+-------------------+\n|     main thread   |\n+-------------------+\n| - process startup |\n| - xds api handling|\n| - dns resolution  |\n| - health checking |\n| - cluster mgmt    |\n| - runtime config  |\n| - stats flushing  |\n| - admin interface |\n| - thread mgmt     |\n+--------+----------+\n         |\n         v\n+-------------------+     +-------------------+     +-------------------+\n|   worker thread 1 |     |   worker thread 2 |     |   worker thread n |\n+-------------------+     +-------------------+     +-------------------+\n| - listen for conns|     | - listen for conns|     | - listen for conns|\n| - accept new conns|     | - accept new conns|     | - accept new conns|\n| - process requests|     | - process requests|     | - process requests|\n| - apply filters   |     | - apply filters   |     | - apply filters   |\n| - load balancing  |     | - load balancing  |     | - load balancing  |\n| - upstream comms  |     | - upstream comms  |     | - upstream comms  |\n+--------+----------+     +--------+----------+     +--------+----------+\n         |                         |                         |\n         |                         |                         |\n         v                         v                         v\n+-------------------+     +-------------------+     +-------------------+\n| file flush thread |     | file flush thread |     | file flush thread |\n+-------------------+     +-------------------+     +-------------------+\n| - write logs      |     | - write logs      |     | - write logs      |\n| - flush to disk   |     | - flush to disk   |     | - flush to disk   |\n+-------------------+     +-------------------+     +-------------------+\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n这个流程图展示了:\n\n 1. 顶部的主线程，负责全局任务和管理。\n 2. 中间是多个工作线程，每个都独立处理连接和请求。\n 3. 底部是文件刷新线程，负责将日志写入磁盘。 箭头表示了线程之间的关系和数据流向。主线程管理和协调工作线程，而工作线程和文件刷新线程之间有数据传递。\n\n\n# 连接处理流程\n\n这个流程图描述了一个复杂的网络通信系统,主要涉及 http 和 tcp 协议。图中的组件从 1 到 20 编号,表示数据流动的顺序。以下是详细解释:\n\n 1.  worker (工作器): 这是整个流程的起点,可能是处理请求的主要组件。\n 2.  listener filters (监听器过滤器): 对传入的连接进行初步处理。\n 3.  connection (连接): 建立网络连接。\n 4.  tcp filter manager (tcp 过滤器管理器): 管理 tcp 层面的各种过滤器。\n 5.  tcp read filters (tcp 读取过滤器): 处理传入的 tcp 数据。\n 6.  tcp write filters (tcp 写入过滤器): 处理外发的 tcp 数据。\n 7.  http codec (http 编解码器): 在 tcp 和 http 协议之间进行转换。\n 8.  http conn manager (http 连接管理器): 管理 http 连接。\n 9.  http read filters (http 读取过滤器): 处理传入的 http 请求。\n 10. http write filters (http 写入过滤器): 处理外发的 http 响应。\n 11. service router (服务路由器): 将请求路由到适当的服务。\n 12. upstream conn pool (上游连接池): 管理与后端服务的连接。\n 13. backend service (后端服务): 实际处理请求的服务。 数据流程:\n 14. 请求从 worker 开始,经过监听器过滤器和连接组件。\n 15. 然后进入 tcp 层,通过 tcp 过滤器管理器和各种 tcp 过滤器。\n 16. 数据再传递到 http 层,经过 http 编解码器、连接管理器和 http 过滤器。\n 17. 服务路由器将请求定向到正确的服务。\n 18. 上游连接池管理与后端服务的连接。\n 19. 最后,请求到达后端服务进行处理。\n 20. 响应则按照相反的路径返回。\n\n\n# http 连接管理\n\nenvoy 通过内置的 l4 过滤器 http 连接管理器将原始字节转换为 http 应用层协议级别的消息和事件，例如接收到的标头和主体等，以及处理所有 http 连接和请求共有的功能，包括访问日志、生成和跟踪请求 id、请求/响应头处理、路由表管理和统计信息等：\n\n * 支持 http/1.1、websockets 和 http/2，但不支持 spdy\n * 关联的路由表可静态配置，也可经由 xds api 中的 rds 动态生成\n * 内建重试插件，可用于配置重试行为\n   * host predicates\n   * priority predicates\n * 内建支持 302 重定向，它可以捕获指定响应，合成新请求后将其发送到新的路由匹配(match)所指定的上游端点，并将收到的响应作为对原始请求的响应返回客户端\n * 支持适用于 http 连接及其组成流（constituent streams）的多种可配置超时机制\n   * 连接级别：空闲超时和排空超时（goaway）\n   * 流级别：空闲超时，每路由相关的上游超时和每路由相关的 grpc 最大超时时长\n * 基于自定义集群的动态转发代理；\n * http 协议相关的功能通过各 http 过滤器实现，这些过滤器大体可分为编码器、解码器和编/解码器三类；\n   * router（envoy.router）是最常的过滤器之一，它基于路由表完成请求的转发或重定向，以及处理重试操作和生成统计信息等； 主要点\n\n 1. envoy 的 http 连接管理器：将原始字节转换为 http 应用层消息和事件。\n 2. 支持的协议：http/1.1、websockets 和 http/2（不支持 spdy）。\n 3. 路由表：可以静态配置或通过 xds api 动态生成。\n 4. 重试插件：可配置的重试行为，包括主机谓词和优先级谓词。\n 5. 302 重定向：内置支持处理 302 重定向，通过合成新请求并发送到匹配的上游端点。\n 6. 超时机制：在连接和流级别都可配置，包括空闲超时和每路由相关的 grpc 最大超时。\n 7. 动态转发：基于自定义集群。\n 8. http 过滤器：实现 http 协议相关功能，分为编码器、解码器和编/解码器三类。\n 9. 路由过滤器：最常见的过滤器之一，处理请求转发或重定向、重试操作和统计信息生成。\n\n\n# 虚拟主机 (virtual hosts)\n\n虚拟主机是 envoy 中处理 http 请求路由的核心概念。\n\n * 定义：虚拟主机是一组路由规则的逻辑分组，与一个或多个域名相关联。\n * 功能：允许单个 envoy 实例处理多个域名的流量，实现基于域名的请求分发。\n * 匹配逻辑：envoy 使用 http/1.1 的 host 头或 http/2 的 :authority 伪头来匹配虚拟主机。\n * 通配符支持：支持精确匹配、前缀匹配、后缀匹配和通配符匹配。 配置示例：\n\nvirtual_hosts:\n  - name: main\n    domains: [\'*.example.com\', \'example.com\']\n    routes: [...]\n  - name: api\n    domains: [\'api.another-example.com\']\n    routes: [...]\n  - name: default\n    domains: [\'*\']\n    routes: [...]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 路由\n\n路由配置是 envoy 中处理 http 请求的核心机制，它定义了如何匹配 incoming 请求并决定如何处理这些请求。\n\n\n# 域名搜索机制\n\n将请求报文中的 host 标头依次与路由表定义的各 virtualhost 的 domain 属性值进行比较，并于第一次匹配终止搜索。 匹配顺序 精准匹配 -> 左前缀匹配 -> 右前缀匹配 -> 通配符\n\n\n# 路由匹配 (match)\n\n路由匹配决定了哪些请求会被特定的路由规则处理。它分为两类：\n\n# 基础匹配\n\n * prefix: 匹配 url 路径前缀\n * path: 匹配完整的 url 路径\n * safe_regex: 使用安全的正则表达式匹配 url 路径 示例：\n\n[match:\n  prefix: \'/api/v1\'](<routes:  # 路由配置列表\n  - name: "prefix_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 url 路径前缀为 /\n      case_sensitive: true  # url 路径匹配是否大小写敏感\n    route:\n      cluster: "cluster1"  # 请求将被路由到 cluster1 集群\n\n  - name: "path_route"  # 路由的名称\n    match:\n      path: "/message"  # 匹配完整的 url 路径为 /message\n    route:\n      cluster: "cluster2"  # 请求将被路由到 cluster2 集群\n\n  - name: "regex_route"  # 路由的名称\n    match:\n      safe_regex:  # 使用安全的正则表达式匹配 url 路径\n        google_re2: {}  # 使用 google re2 引擎\n        regex: ".*static.*"  # 匹配路径中带有 "static" 的 url\n    route:\n      cluster: "cluster3"  # 请求将被路由到 cluster3 集群>)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# 查询参数匹配\n\n * query_parameters: 匹配 url 查询参数 示例：\n\nroutes:\n  - name: "example_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 url 路径前缀\n      query_parameters:  # 匹配 url 查询参数\n        - name: "param1"\n          exact_match: "value1"  # 精确匹配查询参数 param1 的值\n        - name: "param2"\n          prefix_match: "pre"  # 前缀匹配查询参数 param2 的值\n        - name: "param3"\n          suffix_match: "suf"  # 后缀匹配查询参数 param3 的值\n        - name: "param4"\n          contains_match: "sub"  # 包含匹配查询参数 param4 的值\n        - name: "param5"\n          safe_regex_match:  # 使用安全的正则表达式匹配查询参数 param5 的值\n            google_re2: {}\n            regex: ".*regex.*"\n        - name: "param6"\n          string_match: "exact_string"  # 字符串匹配查询参数 param6 的值\n        - name: "param7"\n          present_match: true  # 存在性匹配查询参数 param7 是否存在\n        - name: "param8"\n          exact_match: "value8"\n          ignore_case: true  # 忽略大小写匹配查询参数 param8 的值\n    route:\n      cluster: "example_cluster"  # 请求将被路由到 example_cluster 集群\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 请求头匹配\n\n * headers: 匹配 http 请求头\n   * exact_match: 精确值匹配\n   * safe_regex_match: 正则表达式模式匹配\n   * range_match: 值范围匹配，检查标头值是否在指定的范围\n   * present_match: 标头存在性匹配，检查标头值是否在指定的范围内。\n   * prefix_match: 值前缀匹配\n   * suffix_match: 值后缀匹配\n   * contains_match: 检测标头值是否包含此处指定的字符串。\n   * string_match: 检测标头值是否匹配此处指定的字符串。\n   * invert_match: 是否将匹配的检测结果取反，即以不满足条件为真，默认为false。\n\nroutes:  # 路由配置列表\n  - name: "example_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 url 路径前缀\n      headers:  # 匹配 http 请求头\n        - name: "x-custom-header"  # 请求头的名称\n          exact_match: "header_value"  # 精确匹配 x-custom-header 的值\n        - name: "x-regex-header"  # 请求头的名称\n          safe_regex_match:  # 使用安全的正则表达式匹配\n            google_re2: {}  # 使用 google re2 正则表达式引擎\n            regex: ".*value.*"  # 正则表达式\n        - name: "x-range-header"  # 请求头的名称\n          range_match:  # 值范围匹配 x-range-header 的值\n            start: 10  # 匹配值的起始范围\n            end: 20  # 匹配值的结束范围\n        - name: "x-present-header"  # 请求头的名称\n          present_match: true  # 存在性匹配 x-present-header 是否存在\n        - name: "x-prefix-header"  # 请求头的名称\n          prefix_match: "prefix"  # 前缀匹配 x-prefix-header 的值\n        - name: "x-suffix-header"  # 请求头的名称\n          suffix_match: "suffix"  # 后缀匹配 x-suffix-header 的值\n        - name: "x-contains-header"  # 请求头的名称\n          contains_match: "substring"  # 包含匹配 x-contains-header 的值\n        - name: "x-string-header"  # 请求头的名称\n          string_match: "exact_string"  # 字符串匹配 x-string-header 的值\n        - name: "x-invert-header"  # 请求头的名称\n          invert_match: true  # 反向匹配 x-invert-header 的匹配结果\n      query_parameters:  # 匹配 url 查询参数\n        - name: "param1"  # 查询参数的名称\n          exact_match: "value1"  # 精确匹配查询参数 param1 的值\n        - name: "param2"  # 查询参数的名称\n          safe_regex_match:  # 使用安全的正则表达式匹配\n            google_re2: {}  # 使用 google re2 正则表达式引擎\n            regex: ".*value.*"  # 正则表达式\n    route:\n      cluster: "example_cluster"  # 请求将被路由到 example_cluster 集群\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 路由动作\n\n匹配成功后，envoy 会执行指定的路由动作。主要有三种：\n\n# 路由 (route)\n\n将请求转发到指定的上游集群。\n\n * cluster: 路由到指定的集群\n * cluster_header: 路由到请求标头中由 cluster_header 的值指定的上游集群。\n * weighted_cluster: 基于权重降请求路由至多个上游，进行流量分割\n\n[route:\n  cluster: service_cluster](<routes:\n  - name: "direct_route"  # 路由的名称\n    match:\n      prefix: "/"  # 匹配 url 路径前缀\n    route:\n      cluster: "cluster1"  # 路由到指定的集群 cluster1\n\n  - name: "header_route"  # 路由的名称\n    match:\n      prefix: "/header"  # 匹配 url 路径前缀 /header\n    route:\n      cluster_header: "x-cluster-header"  # 路由到请求标头中由 x-cluster-header 的值指定的上游集群\n\n  - name: "weighted_route"  # 路由的名称\n    match:\n      prefix: "/weighted"  # 匹配 url 路径前缀 /weighted\n    route:\n      weighted_clusters:  # 基于权重进行流量分割的配置\n        clusters:\n          - name: "clustera"\n            weight: 80  # 80%的流量路由到 clustera\n          - name: "clusterb"\n            weight: 20  # 20%的流量路由到 clusterb>)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 重定向 (redirect)\n\n返回 http 重定向响应，将客户端重定向到新的位置。\n\n * 协议重定向: https_redirect 或 scheme_redirect 二者只能使用其一。\n * 主机重定向: host_redirect\n * 端口重定向: port_redirect\n * 路径重定向: path_redirect\n * 路径前缀重定向: prefix_redirect\n * 正则表达式模式定义的重定向: regex_rewrite\n * 重设响应吗: response_code 默认为 301\n * strip_query: 是否在重定向期间删除 url 中的查询参数，默认为 false。\n\nroutes:\n  - name: "https_redirect_route"  # 路由的名称\n    match:\n      prefix: "/redirect"  # 匹配 url 路径前缀 /redirect\n    redirect:\n      https_redirect: true  # 协议重定向到 https\n      host_redirect: "newhost.com"  # 主机重定向到 newhost.com\n      port_redirect: 443  # 端口重定向到 443\n      path_redirect: "/newpath"  # 路径重定向到 /newpath\n      response_code: 302  # 重定向响应码为 302\n      strip_query: true  # 在重定向期间删除 url 中的查询参数\n\n  - name: "scheme_redirect_route"  # 路由的名称\n    match:\n      prefix: "/scheme"  # 匹配 url 路径前缀 /scheme\n    redirect:\n      scheme_redirect: "https"  # 协议重定向到 https\n      host_redirect: "example.com"  # 主机重定向到 example.com\n      port_redirect: 8443  # 端口重定向到 8443\n      prefix_redirect: "/prefix"  # 路径前缀重定向到 /prefix\n      response_code: 301  # 重定向响应码为 301\n      strip_query: false  # 在重定向期间保留 url 中的查询参数\n\n  - name: "regex_rewrite_route"  # 路由的名称\n    match:\n      prefix: "/regex"  # 匹配 url 路径前缀 /regex\n    redirect:\n      regex_rewrite:  # 正则表达式模式定义的重定向\n        pattern:\n          google_re2: {}\n          regex: "^/oldpath/(.*)$"  # 匹配 /oldpath/ 后面的所有内容\n        substitution: "/newpath/\\\\1"  # 重定向到 /newpath/ 后面的所有内容\n      response_code: 301  # 重定向响应码为 301\n      strip_query: true  # 在重定向期间删除 url 中的查询参数\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n# 直接响应 (direct_response):\n\n不转发请求，而是直接返回指定的响应。\n\n * status: 指定状态吗\n * body: 消息体\n   * filename: 本地文件数据源\n   * inline_byte: 直接给出的内联字节\n   * inline_string: 直接给出的内联字符串\n\nstatic_resources:\n  listeners:\n    - name: listener_0\n      address:\n        socket_address:\n          address: 0.0.0.0\n          port_value: 10000\n      filter_chains:\n        - filters:\n            - name: envoy.filters.network.http_connection_manager\n              typed_config:\n                "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.httpconnectionmanager\n                stat_prefix: ingress_http\n                route_config:\n                  name: local_route\n                  virtual_hosts:\n                    - name: local_service\n                      domains:\n                        - "*"\n                      routes:\n                        - match:\n                            prefix: "/"\n                          direct_response: # 直接响应配置\n                            status: 200 # 状态码，200表示成功\n                            body:\n                              inline_string: "hello, world!" # 直接给出的内联字符串，内容为 "hello, world!"\n                http_filters:\n                  - name: envoy.filters.http.router\n  clusters:\n    - name: service_backend\n      connect_timeout: 0.25s\n      type: logical_dns\n      dns_lookup_family: v4_only\n      lb_policy: round_robin\n      load_assignment:\n        cluster_name: service_backend\n        endpoints:\n          - lb_endpoints:\n              - endpoint:\n                  address:\n                    socket_address:\n                      address: backend\n                      port_value: 80\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 高级路由功能\n\n * 加权集群路由：将流量按比例分发到多个集群\n * 重试策略(retry_policy)：定义请求失败时的重试行为\n * 超时设置(timeout)：为路由设置请求超时时间\n * 流量分割()：实现 a/b 测试或金丝雀发布\n * 故障注入()：用于测试服务弹性\n * 请求镜像：复制流量到镜像服务进行分析 示例配置：\n\nroutes:\n  - match:\n      prefix: \'/api/v2\'\n      headers:\n        - name: \'user-agent\'\n          prefix: \'mozilla\'\n    route:\n      weighted_clusters:\n        clusters:\n          - name: service_v2_cluster_1\n            weight: 90\n          - name: service_v2_cluster_2\n            weight: 10\n      retry_policy:\n        retry_on: connect-failure,refused-stream,unavailable\n        num_retries: 3\n      timeout: 30s\n    request_mirror_policies:\n      - cluster: analytics_cluster\n        runtime_fraction:\n          default_value:\n            numerator: 10\n            denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n这个配置展示了如何组合使用多种路由功能，包括路径前缀匹配、头部匹配、加权集群路由、重试策略、超时设置和请求镜像。 通过灵活运用这些路由配置选项，envoy 可以实现复杂的流量管理策略，满足现代微服务架构中的各种需求，如负载均衡、流量分割、服务版本控制、故障恢复等。这种细粒度的控制使得 envoy 成为构建健壮和可扩展的服务网格的理想选择。我理解您需要更全面、深入的介绍。让我为您提供一个更加全面和深入的 envoy 虚拟主机、路由和 http 流量治理的讲解。\n\n 1. \n 2. 路由 (routes)\n\n路由定义了请求匹配条件和相应的处理动作。 深入解析：\n\n * 匹配条件：包括路径前缀、精确路径、正则表达式、查询参数、http 方法等。\n * 优先级：路由按照定义顺序匹配，更具体的路由应该放在前面。\n * 处理动作：包括转发到上游集群、重定向、直接响应、路由到其他虚拟主机等。\n\n高级路由配置示例：\n\nroutes:\n  - match:\n      prefix: \'/api/v1\'\n      headers:\n        - name: \'content-type\'\n          exact_match: \'application/json\'\n    route:\n      cluster: api_cluster_v1\n      timeout: 15s\n      retry_policy:\n        retry_on: connect-failure,refused-stream,unavailable\n        num_retries: 3\n  - match:\n      path: \'/health\'\n    direct_response:\n      status: 200\n      body: { inline_string: \'ok\' }\n  - match:\n      prefix: \'/old-api\'\n    redirect:\n      path_redirect: \'/api/v1\'\n      response_code: 301\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 1. http 流量治理\n\nenvoy 提供了丰富的 http 流量治理功能，用于控制和优化流量。 a) 高级重试机制\n\n * 支持基于状态码、头部、上游服务故障等条件的重试。\n * 可配置重试预算，避免重试风暴。\n * 支持主机选择重试策略。\n\nretry_policy:\n  retry_on: connect-failure,refused-stream,unavailable,5xx\n  num_retries: 3\n  per_try_timeout: 1s\n  retry_host_predicate:\n    - name: envoy.retry_host_predicates.previous_hosts\n  host_selection_retry_max_attempts: 3\n  retry_priority:\n    name: envoy.retry_priorities.previous_priorities\n    config:\n      update_frequency: 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nb) 复杂超时控制\n\n * 支持整体请求超时、每次尝试超时、空闲超时等。\n * 可以针对特定路由或整个集群设置。\n\nroute:\n  cluster: service_cluster\n  timeout: 30s\n  idle_timeout: 5s\n  max_stream_duration:\n    grpc_timeout_header_max: 10s\n\n\n1\n2\n3\n4\n5\n6\n\n\nc) 高级断路器\n\n * 支持多种断路器类型：最大连接数、最大等待请求数、最大重试次数等。\n * 可以为不同优先级流量设置不同的断路器阈值。\n\ncircuit_breakers:\n  thresholds:\n    - priority: default\n      max_connections: 1000\n      max_pending_requests: 1000\n      max_requests: 5000\n      max_retries: 3\n    - priority: high\n      max_connections: 2000\n      max_pending_requests: 2000\n      max_requests: 10000\n      max_retries: 5\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nd) 动态流量分割\n\n * 支持基于权重的流量分割。\n * 可以与运行时配置结合，实现动态调整。\n\nroute:\n  weighted_clusters:\n    clusters:\n      - name: service_v1\n        weight: 90\n      - name: service_v2\n        weight: 10\n  runtime:\n    key: routing.traffic_split.service\n    default: 0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\ne) 高级请求速率限制\n\n * 支持本地和全局速率限制。\n * 可以基于多种因素进行限制，如客户端 ip、请求路径、http 头等。\n\nrate_limit_service:\n  grpc_service:\n    envoy_grpc:\n      cluster_name: rate_limit_cluster\nrate_limits:\n  - stage: 0\n    actions:\n      - remote_address: {}\n      - header_value_match:\n          descriptor_value: \'high-volume-endpoint\'\n          headers:\n            - name: \':path\'\n              exact_match: \'/api/high-volume\'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nf) 高级请求镜像\n\n * 支持流量镜像到多个目标。\n * 可以控制镜像流量的百分比。\n\nroute:\n  cluster: primary_cluster\n  request_mirror_policies:\n    - cluster: mirror_cluster_1\n      runtime_fraction:\n        default_value:\n          numerator: 50\n          denominator: hundred\n    - cluster: mirror_cluster_2\n      runtime_fraction:\n        default_value:\n          numerator: 25\n          denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ng) 复杂的头部操作\n\n * 支持添加、移除、修改请求和响应头。\n * 支持基于条件的头部操作。\n\nrequest_headers_to_add:\n  - header:\n      key: \'x-request-id\'\n      value: \'%req(x-request-id)%\'\n    append: true\nresponse_headers_to_remove: [\'x-powered-by\']\nheaders_to_add:\n  - header:\n      key: \'x-envoy-upstream-service-time\'\n      value: \'%response_duration%\'\n    append: false\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nh) 故障注入\n\n * 支持延迟和错误注入，用于测试服务弹性。\n\nfault:\n  delay:\n    fixed_delay: 5s\n    percentage:\n      numerator: 10\n      denominator: hundred\n  abort:\n    http_status: 503\n    percentage:\n      numerator: 5\n      denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\ni) 动态路由配置\n\n * 支持通过 xds api 动态更新路由配置。\n * 允许在运行时修改路由行为，无需重启 envoy。\n\nj) 高级负载均衡\n\n * 支持多种负载均衡算法：轮询、最少请求、一致性哈希等。\n * 支持区域感知路由，优先选择同区域的上游服务。\n\nload_assignment:\n  cluster_name: service_cluster\n  endpoints:\n    - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 10.0.0.1\n                port_value: 8080\n          health_status: healthy\n          load_balancing_weight: 75\n    - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 10.0.0.2\n                port_value: 8080\n          health_status: healthy\n          load_balancing_weight: 25\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n这些高级特性使 envoy 能够精细地控制 http 流量，实现复杂的流量管理策略。通过组合使用这些功能，可以构建出强大、灵活且高度可配置的服务网格和 api 网关解决方案，满足现代分布式系统的各种需求。envoy 的这些特性使其成为微服务架构中不可或缺的组件，能够有效地解决服务发现、负载均衡、熔断、限流、监控等关键问题。',charsets:{cjk:!0},lastUpdated:"2024/08/04, 03:25:04",lastUpdatedTimestamp:1722713104e3},{title:"流量高级治理",frontmatter:{title:"流量高级治理",author:"Yan Shicheng",date:"2024-08-03T00:13:31.000Z",permalink:"/cloud-native/envoy/20240803202950",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/09.%E6%B5%81%E9%87%8F%E9%AB%98%E7%BA%A7%E6%B2%BB%E7%90%86.html",relativePath:"11.cloud-native/01.envoy/09.流量高级治理.md",key:"v-15cc1fe4",path:"/cloud-native/envoy/20240803202950/",headers:[{level:2,title:"流量迁移",slug:"流量迁移",normalizedTitle:"流量迁移",charIndex:2},{level:3,title:"envoy 配置文件",slug:"envoy-配置文件",normalizedTitle:"envoy 配置文件",charIndex:343},{level:3,title:"docker-compose",slug:"docker-compose",normalizedTitle:"docker-compose",charIndex:3882},{level:3,title:"测试逻辑",slug:"测试逻辑",normalizedTitle:"测试逻辑",charIndex:5496},{level:2,title:"流量分割",slug:"流量分割",normalizedTitle:"流量分割",charIndex:6510},{level:3,title:"envoy 配置文件",slug:"envoy-配置文件-2",normalizedTitle:"envoy 配置文件",charIndex:343},{level:3,title:"docker-compose",slug:"docker-compose-2",normalizedTitle:"docker-compose",charIndex:3882},{level:3,title:"测试逻辑",slug:"测试逻辑-2",normalizedTitle:"测试逻辑",charIndex:5496},{level:2,title:"流量镜像",slug:"流量镜像",normalizedTitle:"流量镜像",charIndex:12507},{level:3,title:"核心应用场景",slug:"核心应用场景",normalizedTitle:"核心应用场景",charIndex:12718},{level:4,title:"生产环境验证",slug:"生产环境验证",normalizedTitle:"生产环境验证",charIndex:12728},{level:4,title:"A/B 测试",slug:"a-b-测试",normalizedTitle:"a/b 测试",charIndex:12944},{level:4,title:"性能基准测试",slug:"性能基准测试",normalizedTitle:"性能基准测试",charIndex:13147},{level:4,title:"安全审计与威胁检测",slug:"安全审计与威胁检测",normalizedTitle:"安全审计与威胁检测",charIndex:13357},{level:4,title:"灰度发布 & 金丝雀发布",slug:"灰度发布-金丝雀发布",normalizedTitle:"灰度发布 &amp; 金丝雀发布",charIndex:null},{level:4,title:"机器学习模型优化",slug:"机器学习模型优化",normalizedTitle:"机器学习模型优化",charIndex:13774},{level:4,title:"隔离测试数据库",slug:"隔离测试数据库",normalizedTitle:"隔离测试数据库",charIndex:13981},{level:3,title:"测试逻辑",slug:"测试逻辑-3",normalizedTitle:"测试逻辑",charIndex:5496}],headersStr:"流量迁移 envoy 配置文件 docker-compose 测试逻辑 流量分割 envoy 配置文件 docker-compose 测试逻辑 流量镜像 核心应用场景 生产环境验证 A/B 测试 性能基准测试 安全审计与威胁检测 灰度发布 & 金丝雀发布 机器学习模型优化 隔离测试数据库 测试逻辑",content:'# 流量迁移\n\n通过在路由中配置运行时对象选择特定路由以及响应集群的概率的变动，从而实现降虚拟主机中特定路由的流量逐渐从一个集群迁移到另一个集群。 在路由匹配方面，envoy 在检测到第一个匹配时终止后续检测，因而，流量迁移应该如下配置\n\n * 配置两个适用相同的match条件的路由条目\n * 在第一个路由条目中配置 runtime_fraction 对象，并设定其流量比例。\n * 改流量比例之外的请求将由第二条路由接收 用户可以不断通过 Envoy 的 admin 接口修改 runtime_fraction 对象的值完成流量迁移。 curl -X POST http://envoy_ip:port/runtime_modify?key1=val1&key2=val2\n\n\n# envoy 配置文件\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 Envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 Envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 HTTP 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 HTTP 连接管理器的统计信息\n          codec_type: AUTO              # 自动选择 HTTP 编解码类型，可以是 HTTP1 或 HTTP2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backendApp          # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                  runtime_fraction:\n                    default_value:\n                      numerator: 100    # 默认百分比值，100 表示 100%\n                      denominator: HUNDRED\n                    runtime_key: "backendApp.runtime_fraction"  # 运行时控制的键值，用于动态调整百分比\n                    # runtime_fraction 用于动态控制流量的分配。可以在运行时通过管理接口\n                    # 动态调整该键值，以便在两个不同的路由之间分配流量。这里的配置表示默认情况下\n                    # 将 100% 的流量路由到 backendApp-v10 集群，0% 的流量路由到 backendApp-v20 集群。\n                route:\n                  cluster: backendApp-v10 # 当 runtime_fraction 的值为 100% 时，路由到 backendApp-v10 集群\n              - match:\n                  prefix: "/"           # 匹配所有路径\n                route:\n                  cluster: backendApp-v20 # 其余情况下，路由到 backendApp-v20 集群\n          http_filters:\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.Router # 配置 HTTP 路由过滤器\n\n  clusters:\n  - name: backendApp-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backendApp-v10 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backendApp-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backendApp-v20 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n\n\n\n# docker-compose\n\nversion: \'3.3\'\n\nservices:\n  client:\n    image: harbor.ikubeops.local/public/network-multitool:latest\n    command: [\'/bin/bash\', \'-c\', \'sleep INFINITE\']\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.100\n        aliases:\n          - client\n    depends_on:\n      - webserver01\n      - webserver02\n      - envoy\n  envoy:\n    image: m.daocloud.io/docker.io/envoyproxy/envoy:v1.30.2\n    volumes:\n      - ./envoy.yaml:/etc/envoy/envoy.yaml\n    environment:\n      - ENVOY_UID=0\n      - ENVOY_GID=0\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.10\n        aliases:\n          - front-proxy\n    depends_on:\n      - webserver01\n      - webserver02\n  webserver01:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - WEB_ADDR=0.0.0.0\n      - WEB_PORT=8080\n      - WEB_VERSION=v10\n      - WEB_NAME=backend-v10\n    hostname: webserver01\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.11\n        aliases:\n          - webserver01\n  webserver02:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - WEB_ADDR=0.0.0.0\n      - WEB_PORT=8080\n      - WEB_VERSION=v20\n      - WEB_NAME=backend-v20\n    hostname: webserver02\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.12\n        aliases:\n          - webserver02\nnetworks:\n  envoymesh:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.31.1.0/24\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# 测试逻辑\n\n定义两个后端集群，分别为 V10 和 V20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# while true;do curl 172.31.1.10/ss && sleep  1; done\n\n\n1\n2\n\n\n修改阈值如下\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {}\n}\nbash-5.1# curl -X POST 172.31.1.10:9901/runtime_modify?backendApp.runtime_fraction=95\nOK\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {\n  "backendApp.runtime_fraction": {\n   "final_value": "95",\n   "layer_values": [\n    "95"\n   ]\n  }\n }\n}\nbash-5.1# curl -X POST 172.31.1.10:9901/runtime_modify?backendApp.runtime_fraction=30\nOK\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "entries": {\n  "backendApp.runtime_fraction": {\n   "layer_values": [\n    "30"\n   ],\n   "final_value": "30"\n  }\n },\n "layers": [\n  "admin"\n ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# 流量分割\n\nHTTP route 过滤器支持在一个路由中指定多个上游具有权重属性的集群，而后将流量基于权重调度值此些集群其中之一。 类似流量迁移，流量分割中，分配给每个集群的权重也可以使用运行时参数进行调整。\n\n\n# envoy 配置文件\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 Envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 Envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 HTTP 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 HTTP 连接管理器的统计信息\n          codec_type: AUTO              # 自动选择 HTTP 编解码类型，可以是 HTTP1 或 HTTP2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backend_app         # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                route:\n                  weighted_clusters:     # 加权集群路由配置\n                    clusters:\n                    - name: backend_app-v10\n                      weight: 100        # 初始情况下将 100% 的流量分配给 backend_app-v10\n                    - name: backend_app-v20\n                      weight: 0          # 初始情况下将 0% 的流量分配给 backend_app-v20\n                    total_weight: 100    # 总权重为 100\n                    runtime_key_prefix: "routing.traffic_split.backend_app"  # 用于动态调整流量分配的运行时键前缀\n          http_filters:\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.Router # 配置 HTTP 路由过滤器\n\n  clusters:\n  - name: backend_app-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v10 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backend_app-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v20 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n\n# docker-compose\n\nversion: \'3.3\'\n\nservices:\n  client:\n    image: harbor.ikubeops.local/public/network-multitool:latest\n    command: [\'/bin/bash\', \'-c\', \'sleep INFINITE\']\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.100\n        aliases:\n          - client\n    depends_on:\n      - webserver01\n      - webserver02\n      - envoy\n  envoy:\n    image: m.daocloud.io/docker.io/envoyproxy/envoy:v1.30.2\n    volumes:\n      - ./envoy.yaml:/etc/envoy/envoy.yaml\n    environment:\n      - ENVOY_UID=0\n      - ENVOY_GID=0\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.10\n        aliases:\n          - front-proxy\n    depends_on:\n      - webserver01\n      - webserver02\n  webserver01:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - WEB_ADDR=0.0.0.0\n      - WEB_PORT=8080\n      - WEB_VERSION=v10\n      - WEB_NAME=backend-v10\n    hostname: webserver01\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.11\n        aliases:\n          - webserver01\n  webserver02:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - WEB_ADDR=0.0.0.0\n      - WEB_PORT=8080\n      - WEB_VERSION=v20\n      - WEB_NAME=backend-v20\n    hostname: webserver02\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.12\n        aliases:\n          - webserver02\n\nnetworks:\n  envoymesh:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.31.1.0/24\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# 测试逻辑\n\n定义两个后端集群，分别为 V10 和 V20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求](<定义两个后端集群，分别为 V10 和 V20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# while true;do curl 172.31.1.10/ss && sleep  1; done\n\n\n1\n2\n\n\n修改阈值如下\n\n❯ docker exec -it  02-traffic-weight-client-1 bash\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "entries": {},\n "layers": [\n  "admin"\n ]\n}\nbash-5.1#  curl -X POST \'172.31.1.10:9901/runtime_modify?routing.traffic_split.backend_app.backend_app-v20=50&routing.traffic_split.backend_app.backend_app-v10=50\'\nOK\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "entries": {\n  "routing.traffic_split.backend_app.backend_app-v20": {\n   "final_value": "50",\n   "layer_values": [\n    "50"\n   ]\n  },\n  "routing.traffic_split.backend_app.backend_app-v10": {\n   "layer_values": [\n    "50"\n   ],\n   "final_value": "50"\n  }\n },\n "layers": [\n  "admin"\n ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 流量镜像\n\nEnvoy 的流量镜像（Traffic Mirroring）是一种强大的功能，允许将入站或出站流量的副本发送到镜像集群，而不影响原始请求的处理。这种技术为测试、监控和分析提供了强大的工具。 Envoy 的流量镜像功能为现代微服务架构提供了强大的工具，使开发团队能够在真实环境中安全地进行测试、分析和优化。通过合理应用这些最佳实践，可以显著提高系统的可靠性、性能和安全性，同时加速创新和问题解决的过程。\n\n\n# 核心应用场景\n\n# 生产环境验证\n\n在不影响用户的情况下，使用实际生产流量验证新版本或配置。\n\n 1. 部署新版本到隔离环境\n 2. 配置 Envoy 将生产流量镜像到新环境\n 3. 逐步增加镜像流量比例（如 1% → 10% → 50% → 100%）\n 4. 比较新旧版本的性能指标和响应 关键指标：\n\n * 响应时间差异\n * 错误率对比\n * 资源使用情况 优势：\n * 真实流量测试，无需模拟数据\n * 零风险验证\n * 早期问题检测\n\n# A/B 测试\n\n同时测试多个版本或配置，评估其性能和用户体验。 实施步骤：\n\n 1. 部署多个版本（A、B、C...）\n 2. 配置 Envoy 将流量按比例镜像到各版本\n 3. 收集和分析各版本的性能数据和用户反馈\n 4. 基于数据做出决策 关键指标：\n\n * 用户参与度\n * 转化率\n * 性能指标（加载时间、响应时间） 优势：\n * 数据驱动决策\n * 精确比较不同版本\n * 优化用户体验\n\n# 性能基准测试\n\n使用镜像流量进行大规模性能测试，而不影响生产环境。 实施步骤：\n\n 1. 搭建独立的性能测试环境\n 2. 配置 Envoy 将全量或部分生产流量镜像到测试环境\n 3. 使用流量放大器增加负载\n 4. 监控和分析系统在高负载下的表现 关键指标：\n\n * 吞吐量\n * 延迟\n * 资源利用率（CPU、内存、网络）\n * 错误率 优势：\n * 真实流量模式\n * 安全进行极限测试\n * 识别性能瓶颈\n\n# 安全审计与威胁检测\n\n将流量镜像到专门的安全分析系统，增强实时威胁检测能力。 实施步骤：\n\n 1. 部署专用的安全分析集群\n 2. 配置 Envoy 将流量镜像到该集群\n 3. 使用高级安全工具（如 IDS/IPS）分析镜像流量\n 4. 设置实时警报系统 关键组件：\n\n * 入侵检测系统（IDS）\n * 异常行为检测器\n * 日志分析工具 优势：\n * 不影响生产流量的深度安全分析\n * 实时威胁检测\n * 增强事件响应能力\n\n# 灰度发布 & 金丝雀发布\n\n结合流量镜像和流量分割，实现精确控制的灰度发布。 实施步骤：\n\n 1. 部署新版本\n 2. 配置 Envoy 将小比例实际流量路由到新版本\n 3. 同时将较大比例流量镜像到新版本进行全面分析\n 4. 基于分析结果逐步增加实际流量比例 关键指标：\n\n * 错误率\n * 性能指标\n * 用户反馈 优势：\n * 降低发布风险\n * 快速回滚能力\n * 全面验证新版本\n\n# 机器学习模型优化\n\n利用镜像流量训练和优化机器学习模型，特别适用于推荐系统、反欺诈等场景。\n\n 1. 部署模型训练环境\n 2. 配置 Envoy 将流量镜像到该环境\n 3. 使用镜像数据实时训练和更新模型\n 4. 比较新旧模型性能，并在适当时切换 关键指标：\n\n * 模型准确率\n * 预测速度\n * 资源消耗 优势：\n * 使用实时数据持续优化模型\n * 无需额外的数据收集过程\n * 快速适应变化的模式\n\n# 隔离测试数据库\n\n在数据处理相关的业务中，隔离测试数据库是流量镜像的一个关键应用场景。这种方法的工作原理和优势如下：\n\n 1. 设置独立的测试数据库： 创建一个与生产数据库结构相同但内容为空的数据库。 加载特定的测试数据集。\n 2. 镜像流量处理： 将生产环境的流量镜像到测试环境。 所有数据操作都在测试数据库上执行，不影响生产数据。 优势：\n\n * 数据安全：避免了对生产数据的意外修改或泄露风险。\n * 灵活性：可以根据需要自由设置和修改测试数据。\n * 性能影响最小化：生产环境的性能不受测试操作的影响。 实现方法：\n * 使用 Envoy 的流量镜像功能将请求复制到测试环境。\n * 在测试环境中配置应用程序使用专门的测试数据库。\n * 可以通过修改数据库连接配置或使用不同的环境变量来实现。 注意事项：\n * 确保测试数据库的模式（schema）与生产数据库保持同步。\n * 定期更新测试数据，以反映生产环境的最新状态。\n * 监控镜像流量对测试数据库的影响，必要时调整资源配置。 通过这种方式，开发团队可以在近乎真实的环境中进行测试，同时完全隔离生产数据，大大降低了测试过程中数据泄露或损坏的风险。这对于需要严格数据保护的应用，如金融系统或涉及个人隐私的应用，尤其重要。\n\n\n# 测试逻辑\n\n定义两个后端集群，分别为 V10 和 V20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求](<定义两个后端集群，分别为 V10 和 V20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# while true;do curl 172.31.1.10/ss && sleep  1; done\n\n\n1\n2\n\n\n修改阈值如下\n\n❯ docker exec -it  03-traffic-mirror-client-1 bash\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {}\n}\nbash-5.1# curl -X POST \'172.31.1.10:9901/runtime_modify?&routing.request_mirror.backend_app=100\'\nOK\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {\n  "routing.request_mirror.backend_app": {\n   "layer_values": [\n    "100"\n   ],\n   "final_value": "100"\n  }\n }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n如下图已经进行了百分百的流量镜像',normalizedContent:'# 流量迁移\n\n通过在路由中配置运行时对象选择特定路由以及响应集群的概率的变动，从而实现降虚拟主机中特定路由的流量逐渐从一个集群迁移到另一个集群。 在路由匹配方面，envoy 在检测到第一个匹配时终止后续检测，因而，流量迁移应该如下配置\n\n * 配置两个适用相同的match条件的路由条目\n * 在第一个路由条目中配置 runtime_fraction 对象，并设定其流量比例。\n * 改流量比例之外的请求将由第二条路由接收 用户可以不断通过 envoy 的 admin 接口修改 runtime_fraction 对象的值完成流量迁移。 curl -x post http://envoy_ip:port/runtime_modify?key1=val1&key2=val2\n\n\n# envoy 配置文件\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 http 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.httpconnectionmanager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 http 连接管理器的统计信息\n          codec_type: auto              # 自动选择 http 编解码类型，可以是 http1 或 http2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backendapp          # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                  runtime_fraction:\n                    default_value:\n                      numerator: 100    # 默认百分比值，100 表示 100%\n                      denominator: hundred\n                    runtime_key: "backendapp.runtime_fraction"  # 运行时控制的键值，用于动态调整百分比\n                    # runtime_fraction 用于动态控制流量的分配。可以在运行时通过管理接口\n                    # 动态调整该键值，以便在两个不同的路由之间分配流量。这里的配置表示默认情况下\n                    # 将 100% 的流量路由到 backendapp-v10 集群，0% 的流量路由到 backendapp-v20 集群。\n                route:\n                  cluster: backendapp-v10 # 当 runtime_fraction 的值为 100% 时，路由到 backendapp-v10 集群\n              - match:\n                  prefix: "/"           # 匹配所有路径\n                route:\n                  cluster: backendapp-v20 # 其余情况下，路由到 backendapp-v20 集群\n          http_filters:\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.router # 配置 http 路由过滤器\n\n  clusters:\n  - name: backendapp-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backendapp-v10 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backendapp-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backendapp-v20 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n\n\n\n# docker-compose\n\nversion: \'3.3\'\n\nservices:\n  client:\n    image: harbor.ikubeops.local/public/network-multitool:latest\n    command: [\'/bin/bash\', \'-c\', \'sleep infinite\']\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.100\n        aliases:\n          - client\n    depends_on:\n      - webserver01\n      - webserver02\n      - envoy\n  envoy:\n    image: m.daocloud.io/docker.io/envoyproxy/envoy:v1.30.2\n    volumes:\n      - ./envoy.yaml:/etc/envoy/envoy.yaml\n    environment:\n      - envoy_uid=0\n      - envoy_gid=0\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.10\n        aliases:\n          - front-proxy\n    depends_on:\n      - webserver01\n      - webserver02\n  webserver01:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - web_addr=0.0.0.0\n      - web_port=8080\n      - web_version=v10\n      - web_name=backend-v10\n    hostname: webserver01\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.11\n        aliases:\n          - webserver01\n  webserver02:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - web_addr=0.0.0.0\n      - web_port=8080\n      - web_version=v20\n      - web_name=backend-v20\n    hostname: webserver02\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.12\n        aliases:\n          - webserver02\nnetworks:\n  envoymesh:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.31.1.0/24\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# 测试逻辑\n\n定义两个后端集群，分别为 v10 和 v20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# while true;do curl 172.31.1.10/ss && sleep  1; done\n\n\n1\n2\n\n\n修改阈值如下\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {}\n}\nbash-5.1# curl -x post 172.31.1.10:9901/runtime_modify?backendapp.runtime_fraction=95\nok\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {\n  "backendapp.runtime_fraction": {\n   "final_value": "95",\n   "layer_values": [\n    "95"\n   ]\n  }\n }\n}\nbash-5.1# curl -x post 172.31.1.10:9901/runtime_modify?backendapp.runtime_fraction=30\nok\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "entries": {\n  "backendapp.runtime_fraction": {\n   "layer_values": [\n    "30"\n   ],\n   "final_value": "30"\n  }\n },\n "layers": [\n  "admin"\n ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# 流量分割\n\nhttp route 过滤器支持在一个路由中指定多个上游具有权重属性的集群，而后将流量基于权重调度值此些集群其中之一。 类似流量迁移，流量分割中，分配给每个集群的权重也可以使用运行时参数进行调整。\n\n\n# envoy 配置文件\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 http 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.httpconnectionmanager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 http 连接管理器的统计信息\n          codec_type: auto              # 自动选择 http 编解码类型，可以是 http1 或 http2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backend_app         # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                route:\n                  weighted_clusters:     # 加权集群路由配置\n                    clusters:\n                    - name: backend_app-v10\n                      weight: 100        # 初始情况下将 100% 的流量分配给 backend_app-v10\n                    - name: backend_app-v20\n                      weight: 0          # 初始情况下将 0% 的流量分配给 backend_app-v20\n                    total_weight: 100    # 总权重为 100\n                    runtime_key_prefix: "routing.traffic_split.backend_app"  # 用于动态调整流量分配的运行时键前缀\n          http_filters:\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.router # 配置 http 路由过滤器\n\n  clusters:\n  - name: backend_app-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v10 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backend_app-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v20 # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n\n# docker-compose\n\nversion: \'3.3\'\n\nservices:\n  client:\n    image: harbor.ikubeops.local/public/network-multitool:latest\n    command: [\'/bin/bash\', \'-c\', \'sleep infinite\']\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.100\n        aliases:\n          - client\n    depends_on:\n      - webserver01\n      - webserver02\n      - envoy\n  envoy:\n    image: m.daocloud.io/docker.io/envoyproxy/envoy:v1.30.2\n    volumes:\n      - ./envoy.yaml:/etc/envoy/envoy.yaml\n    environment:\n      - envoy_uid=0\n      - envoy_gid=0\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.10\n        aliases:\n          - front-proxy\n    depends_on:\n      - webserver01\n      - webserver02\n  webserver01:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - web_addr=0.0.0.0\n      - web_port=8080\n      - web_version=v10\n      - web_name=backend-v10\n    hostname: webserver01\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.11\n        aliases:\n          - webserver01\n  webserver02:\n    image: harbor.ikubeops.local/public/sample-backend:v3.0\n    environment:\n      - web_addr=0.0.0.0\n      - web_port=8080\n      - web_version=v20\n      - web_name=backend-v20\n    hostname: webserver02\n    networks:\n      envoymesh:\n        ipv4_address: 172.31.1.12\n        aliases:\n          - webserver02\n\nnetworks:\n  envoymesh:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.31.1.0/24\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# 测试逻辑\n\n定义两个后端集群，分别为 v10 和 v20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求](<定义两个后端集群，分别为 v10 和 v20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# while true;do curl 172.31.1.10/ss && sleep  1; done\n\n\n1\n2\n\n\n修改阈值如下\n\n❯ docker exec -it  02-traffic-weight-client-1 bash\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "entries": {},\n "layers": [\n  "admin"\n ]\n}\nbash-5.1#  curl -x post \'172.31.1.10:9901/runtime_modify?routing.traffic_split.backend_app.backend_app-v20=50&routing.traffic_split.backend_app.backend_app-v10=50\'\nok\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "entries": {\n  "routing.traffic_split.backend_app.backend_app-v20": {\n   "final_value": "50",\n   "layer_values": [\n    "50"\n   ]\n  },\n  "routing.traffic_split.backend_app.backend_app-v10": {\n   "layer_values": [\n    "50"\n   ],\n   "final_value": "50"\n  }\n },\n "layers": [\n  "admin"\n ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 流量镜像\n\nenvoy 的流量镜像（traffic mirroring）是一种强大的功能，允许将入站或出站流量的副本发送到镜像集群，而不影响原始请求的处理。这种技术为测试、监控和分析提供了强大的工具。 envoy 的流量镜像功能为现代微服务架构提供了强大的工具，使开发团队能够在真实环境中安全地进行测试、分析和优化。通过合理应用这些最佳实践，可以显著提高系统的可靠性、性能和安全性，同时加速创新和问题解决的过程。\n\n\n# 核心应用场景\n\n# 生产环境验证\n\n在不影响用户的情况下，使用实际生产流量验证新版本或配置。\n\n 1. 部署新版本到隔离环境\n 2. 配置 envoy 将生产流量镜像到新环境\n 3. 逐步增加镜像流量比例（如 1% → 10% → 50% → 100%）\n 4. 比较新旧版本的性能指标和响应 关键指标：\n\n * 响应时间差异\n * 错误率对比\n * 资源使用情况 优势：\n * 真实流量测试，无需模拟数据\n * 零风险验证\n * 早期问题检测\n\n# a/b 测试\n\n同时测试多个版本或配置，评估其性能和用户体验。 实施步骤：\n\n 1. 部署多个版本（a、b、c...）\n 2. 配置 envoy 将流量按比例镜像到各版本\n 3. 收集和分析各版本的性能数据和用户反馈\n 4. 基于数据做出决策 关键指标：\n\n * 用户参与度\n * 转化率\n * 性能指标（加载时间、响应时间） 优势：\n * 数据驱动决策\n * 精确比较不同版本\n * 优化用户体验\n\n# 性能基准测试\n\n使用镜像流量进行大规模性能测试，而不影响生产环境。 实施步骤：\n\n 1. 搭建独立的性能测试环境\n 2. 配置 envoy 将全量或部分生产流量镜像到测试环境\n 3. 使用流量放大器增加负载\n 4. 监控和分析系统在高负载下的表现 关键指标：\n\n * 吞吐量\n * 延迟\n * 资源利用率（cpu、内存、网络）\n * 错误率 优势：\n * 真实流量模式\n * 安全进行极限测试\n * 识别性能瓶颈\n\n# 安全审计与威胁检测\n\n将流量镜像到专门的安全分析系统，增强实时威胁检测能力。 实施步骤：\n\n 1. 部署专用的安全分析集群\n 2. 配置 envoy 将流量镜像到该集群\n 3. 使用高级安全工具（如 ids/ips）分析镜像流量\n 4. 设置实时警报系统 关键组件：\n\n * 入侵检测系统（ids）\n * 异常行为检测器\n * 日志分析工具 优势：\n * 不影响生产流量的深度安全分析\n * 实时威胁检测\n * 增强事件响应能力\n\n# 灰度发布 & 金丝雀发布\n\n结合流量镜像和流量分割，实现精确控制的灰度发布。 实施步骤：\n\n 1. 部署新版本\n 2. 配置 envoy 将小比例实际流量路由到新版本\n 3. 同时将较大比例流量镜像到新版本进行全面分析\n 4. 基于分析结果逐步增加实际流量比例 关键指标：\n\n * 错误率\n * 性能指标\n * 用户反馈 优势：\n * 降低发布风险\n * 快速回滚能力\n * 全面验证新版本\n\n# 机器学习模型优化\n\n利用镜像流量训练和优化机器学习模型，特别适用于推荐系统、反欺诈等场景。\n\n 1. 部署模型训练环境\n 2. 配置 envoy 将流量镜像到该环境\n 3. 使用镜像数据实时训练和更新模型\n 4. 比较新旧模型性能，并在适当时切换 关键指标：\n\n * 模型准确率\n * 预测速度\n * 资源消耗 优势：\n * 使用实时数据持续优化模型\n * 无需额外的数据收集过程\n * 快速适应变化的模式\n\n# 隔离测试数据库\n\n在数据处理相关的业务中，隔离测试数据库是流量镜像的一个关键应用场景。这种方法的工作原理和优势如下：\n\n 1. 设置独立的测试数据库： 创建一个与生产数据库结构相同但内容为空的数据库。 加载特定的测试数据集。\n 2. 镜像流量处理： 将生产环境的流量镜像到测试环境。 所有数据操作都在测试数据库上执行，不影响生产数据。 优势：\n\n * 数据安全：避免了对生产数据的意外修改或泄露风险。\n * 灵活性：可以根据需要自由设置和修改测试数据。\n * 性能影响最小化：生产环境的性能不受测试操作的影响。 实现方法：\n * 使用 envoy 的流量镜像功能将请求复制到测试环境。\n * 在测试环境中配置应用程序使用专门的测试数据库。\n * 可以通过修改数据库连接配置或使用不同的环境变量来实现。 注意事项：\n * 确保测试数据库的模式（schema）与生产数据库保持同步。\n * 定期更新测试数据，以反映生产环境的最新状态。\n * 监控镜像流量对测试数据库的影响，必要时调整资源配置。 通过这种方式，开发团队可以在近乎真实的环境中进行测试，同时完全隔离生产数据，大大降低了测试过程中数据泄露或损坏的风险。这对于需要严格数据保护的应用，如金融系统或涉及个人隐私的应用，尤其重要。\n\n\n# 测试逻辑\n\n定义两个后端集群，分别为 v10 和 v20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求](<定义两个后端集群，分别为 v10 和 v20 通过 admin 修改 阈值控制流量比例。 一个终端模拟请求，另一个进行修改参数 模拟请求\n\n❯ docker exec -it  01-traffic-shifting-client-1 bash\nbash-5.1# while true;do curl 172.31.1.10/ss && sleep  1; done\n\n\n1\n2\n\n\n修改阈值如下\n\n❯ docker exec -it  03-traffic-mirror-client-1 bash\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {}\n}\nbash-5.1# curl -x post \'172.31.1.10:9901/runtime_modify?&routing.request_mirror.backend_app=100\'\nok\nbash-5.1# curl 172.31.1.10:9901/runtime\n{\n "layers": [\n  "admin"\n ],\n "entries": {\n  "routing.request_mirror.backend_app": {\n   "layer_values": [\n    "100"\n   ],\n   "final_value": "100"\n  }\n }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n如下图已经进行了百分百的流量镜像',charsets:{cjk:!0},lastUpdated:"2024/08/04, 03:25:04",lastUpdatedTimestamp:1722713104e3},{title:"服务韧性-混沌工程",frontmatter:{title:"服务韧性-混沌工程",author:"Yan Shicheng",date:"2024-08-04T00:13:34.000Z",permalink:"/cloud-native/envoy/20240804001357",categories:["envoy"],tags:["envoy"],readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/10.%E6%9C%8D%E5%8A%A1%E9%9F%A7%E6%80%A7-%E6%B7%B7%E6%B2%8C%E5%B7%A5%E7%A8%8B.html",relativePath:"11.cloud-native/01.envoy/10.服务韧性-混沌工程.md",key:"v-3048ff4b",path:"/cloud-native/envoy/20240804001357/",headers:[{level:2,title:"概念",slug:"概念",normalizedTitle:"概念",charIndex:2},{level:3,title:"服务韧性（Service Resilience）",slug:"服务韧性-service-resilience",normalizedTitle:"服务韧性（service resilience）",charIndex:9},{level:3,title:"混沌工程（Chaos Engineering）",slug:"混沌工程-chaos-engineering",normalizedTitle:"混沌工程（chaos engineering）",charIndex:368},{level:3,title:"故障注入（Fault Injection）",slug:"故障注入-fault-injection",normalizedTitle:"故障注入（fault injection）",charIndex:1024},{level:3,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:1543},{level:4,title:"混沌工程和故障注入的概念与区别",slug:"混沌工程和故障注入的概念与区别",normalizedTitle:"混沌工程和故障注入的概念与区别",charIndex:1673},{level:4,title:"混沌工程实验的输入样例（扩展）",slug:"混沌工程实验的输入样例-扩展",normalizedTitle:"混沌工程实验的输入样例（扩展）",charIndex:2811},{level:4,title:"故障注入的具体样例（扩展）",slug:"故障注入的具体样例-扩展",normalizedTitle:"故障注入的具体样例（扩展）",charIndex:3047},{level:3,title:"Envoy Http 故障注入过滤器",slug:"envoy-http-故障注入过滤器",normalizedTitle:"envoy http 故障注入过滤器",charIndex:3305},{level:3,title:"envoy 局部故障处理机制",slug:"envoy-局部故障处理机制",normalizedTitle:"envoy 局部故障处理机制",charIndex:3548},{level:4,title:"重试 (Retry)",slug:"重试-retry",normalizedTitle:"重试 (retry)",charIndex:3566},{level:4,title:"超时 (Timeout)",slug:"超时-timeout",normalizedTitle:"超时 (timeout)",charIndex:3693},{level:4,title:"断路器 (Circuit Breaker)",slug:"断路器-circuit-breaker",normalizedTitle:"断路器 (circuit breaker)",charIndex:3992},{level:2,title:"故障注入",slug:"故障注入",normalizedTitle:"故障注入",charIndex:1024},{level:3,title:"注入延迟 (Fault Injection Delay)",slug:"注入延迟-fault-injection-delay",normalizedTitle:"注入延迟 (fault injection delay)",charIndex:4219},{level:4,title:"参数",slug:"参数",normalizedTitle:"参数",charIndex:4251},{level:4,title:"Fixed Delay (固定延迟)",slug:"fixed-delay-固定延迟",normalizedTitle:"fixed delay (固定延迟)",charIndex:4321},{level:4,title:"Header Delay (头部延迟)",slug:"header-delay-头部延迟",normalizedTitle:"header delay (头部延迟)",charIndex:5065},{level:3,title:"注入请求终止 (Fault Injection Abort)",slug:"注入请求终止-fault-injection-abort",normalizedTitle:"注入请求终止 (fault injection abort)",charIndex:5793},{level:4,title:"参数",slug:"参数-2",normalizedTitle:"参数",charIndex:4251},{level:4,title:"固定HTTP状态码",slug:"固定http状态码",normalizedTitle:"固定http状态码",charIndex:5875},{level:4,title:"gRPC状态码",slug:"grpc状态码",normalizedTitle:"grpc状态码",charIndex:6482},{level:4,title:"头部终止条件",slug:"头部终止条件",normalizedTitle:"头部终止条件",charIndex:7147},{level:4,title:"配置示例",slug:"配置示例",normalizedTitle:"配置示例",charIndex:7525},{level:3,title:"响应报文的速率限制 (Response Rate Limit)",slug:"响应报文的速率限制-response-rate-limit",normalizedTitle:"响应报文的速率限制 (response rate limit)",charIndex:11442},{level:4,title:"参数",slug:"参数-3",normalizedTitle:"参数",charIndex:4251},{level:4,title:"固定速率限制",slug:"固定速率限制",normalizedTitle:"固定速率限制",charIndex:11514},{level:4,title:"头部速率限制",slug:"头部速率限制",normalizedTitle:"头部速率限制",charIndex:12177},{level:2,title:"重试",slug:"重试",normalizedTitle:"重试",charIndex:264},{level:3,title:"注意事项:",slug:"注意事项",normalizedTitle:"注意事项:",charIndex:13294},{level:3,title:"HTTP请求重试（route.RetryPolicy）",slug:"http请求重试-route-retrypolicy",normalizedTitle:"http请求重试（route.retrypolicy）",charIndex:13843},{level:4,title:"Envoy支持在虚拟主机及路由级别配置中以及通过特定请求的标头配置重试",slug:"envoy支持在虚拟主机及路由级别配置中以及通过特定请求的标头配置重试",normalizedTitle:"envoy支持在虚拟主机及路由级别配置中以及通过特定请求的标头配置重试",charIndex:13926},{level:4,title:"重试策略的相关属性包括重试次数和重试条件等",slug:"重试策略的相关属性包括重试次数和重试条件等",normalizedTitle:"重试策略的相关属性包括重试次数和重试条件等",charIndex:13989},{level:4,title:"重试策略配置示例（代码片段）",slug:"重试策略配置示例-代码片段",normalizedTitle:"重试策略配置示例（代码片段）",charIndex:14167},{level:3,title:"HTTP请求重试条件（route.RetryPolicy）",slug:"http请求重试条件-route-retrypolicy",normalizedTitle:"http请求重试条件（route.retrypolicy）",charIndex:15014},{level:4,title:"重试条件1（同x-envoy-retry-on标头）",slug:"重试条件1-同x-envoy-retry-on标头",normalizedTitle:"重试条件1（同x-envoy-retry-on标头）",charIndex:15047},{level:4,title:"重试条件2（同x-envoy-retry-grpc-on标头）",slug:"重试条件2-同x-envoy-retry-grpc-on标头",normalizedTitle:"重试条件2（同x-envoy-retry-grpc-on标头）",charIndex:15653}],headersStr:"概念 服务韧性（Service Resilience） 混沌工程（Chaos Engineering） 故障注入（Fault Injection） 总结 混沌工程和故障注入的概念与区别 混沌工程实验的输入样例（扩展） 故障注入的具体样例（扩展） Envoy Http 故障注入过滤器 envoy 局部故障处理机制 重试 (Retry) 超时 (Timeout) 断路器 (Circuit Breaker) 故障注入 注入延迟 (Fault Injection Delay) 参数 Fixed Delay (固定延迟) Header Delay (头部延迟) 注入请求终止 (Fault Injection Abort) 参数 固定HTTP状态码 gRPC状态码 头部终止条件 配置示例 响应报文的速率限制 (Response Rate Limit) 参数 固定速率限制 头部速率限制 重试 注意事项: HTTP请求重试（route.RetryPolicy） Envoy支持在虚拟主机及路由级别配置中以及通过特定请求的标头配置重试 重试策略的相关属性包括重试次数和重试条件等 重试策略配置示例（代码片段） HTTP请求重试条件（route.RetryPolicy） 重试条件1（同x-envoy-retry-on标头） 重试条件2（同x-envoy-retry-grpc-on标头）",content:'# 概念\n\n\n# 服务韧性（Service Resilience）\n\n服务韧性是指系统在面对各种故障、压力和变化时保持功能和性能的能力。它强调系统能够优雅地处理失败，快速恢复，并持续提供服务。\n\n 1. 容错能力：能够在部分组件失败的情况下继续运行。\n 2. 自我修复：自动检测并修复故障。\n 3. 负载均衡：有效分配资源和请求。\n 4. 优雅降级：在资源不足时，保证核心功能运行。\n 5. 快速恢复：从故障中迅速恢复正常状态。 实现方法\n\n * 采用微服务架构，实现服务隔离。\n * 使用断路器模式，防止级联故障。\n * 实施重试机制和超时控制。\n * 采用异步通信，减少服务间依赖。\n * 实现服务发现和动态路由。 在现代复杂的分布式系统中，服务韧性对于保证系统的可用性和可靠性至关重要，尤其在面对不可预知的故障和压力时。\n\n\n# 混沌工程（Chaos Engineering）\n\n混沌工程是一种通过主动引入故障和异常情况来识别系统弱点的实践方法。它旨在提高系统的可靠性和韧性。 对于架构师: 验证系统架构的容错能力，比如验证现在提倡的面向失败设计的系统。 对于开发和运维: 提高故障的应急效率， 实现故障告警，定位，恢复的有效和高效性。 对于测试: 弥补传统测试方法留下的空白，混沌功能从系统的角度进行测试，降低故障复发率，这有别与传统测试方法从用户角度的进行测试。 对于产品和设计: 通过混沌事件查看产品的表现，提高客户使用体验。\n\n 1.  建立稳态假设：定义系统正常运行的基准。\n 2.  构建假设：假设在特定故障情况下系统的行为。\n 3.  设计实验：设计和执行能验证或推翻假设的实验。\n 4.  验证结果：分析实验结果，改进系统。\n 5.  自动化：将混沌实验自动化，作为持续测试的一部分。 实施步骤\n 6.  从小规模开始，逐步增加实验复杂度。\n 7.  在非生产环境中进行初步测试。\n 8.  谨慎地在生产环境中执行实验。\n 9.  持续监控和分析系统行为。\n 10. 根据实验结果改进系统设计和架构。 工具和平台\n\n * Netflix Chaos Monkey\n * Gremlin\n * Chaos Toolkit\n * AWS Fault Injection Simulator 优势\n * 提前发现系统弱点。\n * 增强团队对系统行为的理解。\n * 提高系统整体可靠性和韧性。\n * 培养团队的事故应对能力。\n\n\n# 故障注入（Fault Injection）\n\n故障注入是一种有意引入错误、延迟或异常行为到系统中的技术，用于测试系统的容错能力和行为。 主要类型\n\n 1. 网络故障：延迟、丢包、断连。\n 2. 资源耗尽：CPU、内存、磁盘空间耗尽。\n 3. 服务故障：服务崩溃、响应错误。\n 4. 数据故障：数据损坏、不一致。 实现方法\n 5. 代码级注入：在应用代码中添加故障触发点。\n 6. 网络层注入：使用代理或防火墙规则模拟网络问题。\n 7. 容器层注入：在容器运行时注入故障。\n 8. 基础设施层注入：在虚拟机或物理机层面注入故障。 工具\n\n * Istio 故障注入功能\n * Chaos Mesh\n * Pumba (针对Docker容器)\n * Toxiproxy（网络故障模拟） 最佳实践\n\n 1. 从简单故障开始，逐步增加复杂度。\n 2. 结合监控系统，全面观察系统行为。\n 3. 在测试环境充分验证后再考虑生产环境。\n 4. 制定明确的回滚计划。\n 5. 记录和分析每次故障注入的结果。 与混沌工程的关系 故障注入是混沌工程的一个重要工具。混沌工程使用故障注入作为一种手段来执行实验，但混沌工程还包括更广泛的策略和方法论。\n\n\n# 总结\n\n这三个概念紧密相关，共同致力于提高系统的可靠性和韧性：\n\n * 服务韧性是目标，它定义了我们希望系统具备的特性。\n * 混沌工程是一种方法论，用于系统地提高和验证服务韧性。\n * 故障注入是一种具体技术，是实现混沌工程和测试服务韧性的重要工具。\n\n# 混沌工程和故障注入的概念与区别\n\n * 混沌工程是发现新信息的实验过程，而故障注入是对特定条件或变量的测试方法。\n * 测试和实验有着重要区别：\n   * 测试只产生二元的结果（通过或失败），不能发掘系统未知或尚不明确的认知。\n   * 实验可以产生新的认知，通常能够开辟出更广泛的对复杂系统的认知空间。\n * 混沌工程不仅仅是制造服务中断等故障：\n   * 并不是所有实验都可以有建设性、高效地发现问题。\n   * 除了故障类场景，还存在非故障类场景，如流量激增、资源竞争、拜占庭故障等。\n\n 1. 流量激增\n\n * 定义：指在短时间内系统请求量急剧增加的情况。\n * 原因：可能由于突发事件、营销活动、病毒式传播等引起。\n * 影响：\n   * 可能导致系统过载，响应时间增加。\n   * 可能触发自动扩展机制，增加资源消耗和成本。\n   * 可能导致缓存失效，增加后端数据库压力。\n * 测试方法：\n   * 使用负载测试工具模拟突发流量。\n   * 逐步增加流量，观察系统的扩展能力和性能变化。\n   * 模拟不同类型的请求组合，如读密集型vs写密集型。\n\n 2. 资源竞争\n\n * 定义：多个进程或线程同时争夺有限的系统资源。\n * 常见资源：CPU、内存、磁盘I/O、网络带宽、数据库连接等。\n * 影响：\n   * 可能导致系统响应变慢。\n   * 可能引发死锁或饥饿状态。\n   * 可能造成某些任务长时间无法完成。\n * 测试方法：\n   * 人为创造资源紧张状况，如启动大量计算密集型任务。\n   * 模拟数据库连接池耗尽的情况。\n   * 创造多个服务同时大量读写共享资源的场景。\n\n 3. 拜占庭故障\n\n * 定义：系统中的某个组件表现不一致，对不同的观察者呈现不同的症状。\n * 特点：这类故障难以检测，因为故障组件可能看似正常运行。\n * 影响：\n   * 可能导致系统行为不一致。\n   * 可能引发数据不一致或损坏。\n   * 在分布式系统中尤其危险，可能导致共识算法失效。\n * 测试方法：\n   * 模拟节点发送矛盾的信息给不同的接收者。\n   * 创造某个服务在不同调用中返回不一致结果的情况。\n   * 在分布式系统中注入时钟偏移，导致时序问题。\n\n 4. 其他非故障类场景\n\n * 数据倾斜：在分布式系统中，数据或工作负载不均匀分布。\n   * 测试方法：创造热点数据，观察系统如何处理不均衡的负载。\n * 配置漂移：系统配置随时间逐渐偏离预期状态。\n   * 测试方法：模拟配置文件被意外修改或不同步的情况。\n * 依赖服务降级：外部服务性能下降但未完全失效。\n   * 测试方法：降低模拟外部服务的响应速度，观察系统反应。\n\n# 混沌工程实验的输入样例（扩展）\n\n * 模拟整个云服务区域或整个数据中心故障\n * 跨多实例删除部分Kafka topic来重现生产环境中发生过的问题\n * 挑选特定时间段和流量，对其涉及的服务间调用注入特定的延时\n * 方法级别的混乱（运行时注入）：让方法随机抛出各种异常\n * 在代码中插入指令，允许在这些指令之前运行故障注入\n * 强制系统节点间的时间不同步\n * 在驱动程序中执行模拟I/O错误的程序\n * 让某个Elasticsearch集群CPU超负荷\n\n# 故障注入的具体样例（扩展）\n\n * CPU高负载\n * 磁盘高负载：频繁读写磁盘\n * 磁盘空间不足\n * 优雅的下线应用：使用应用的stop脚本平滑地停止应用\n * 通过kill进程直接停止应用，可能造成数据不一致\n * 网络恶化：随机改变一些包数据，使数据内容不正确\n * 网络延迟：将包延迟一个特定范围的时间\n * 网络丢包：构造一个tcp不会完全失败的丢包率\n * 网络黑洞：忽略来自某个ip的包\n * 外部服务不可达：将外部服务的域名指向本地环回地址或将访问外部服务的端口的OUTPUT数据包丢弃\n\n\n# Envoy Http 故障注入过滤器\n\n故障注入在 Envoy 中的实现上类似于重定向，重写，重试，他们通过修改 HTTP 请求或者应答的内容完成，\n\n * 它由专用的故障注入过滤器(fault.injection)实现，用于测试微服务对不通形式的故障韧性\n * 他通过用户指定的错误代码注入延迟(delay)和请求终止(abort),从而模拟出分阶段的不同故障情形。\n * 故障范围仅限于通过网络及性能通信的的应用程序可观察到的范围，不支持模拟本地主机上的CPU和磁盘故障。\n\n\n# envoy 局部故障处理机制\n\n# 重试 (Retry)\n\n分布式环境中对远程资源和服务的调用可能会由于瞬态故障（短时间内可自行恢复的故障）而失败。一般情况下，重试机制可以解决此类问题。\n\n * 常见的瞬态故障有网络连接速度慢、超时、资源过量使用或暂时不可用等。\n * envoy 可以配置超时 (Timeout)来快速失败，可以不让请求阻塞在故障后端上，而是 envoy 发起重试机制，把请求转移到后端其他端点，最终取决于会话绑定等机制。\n\n# 超时 (Timeout)\n\n此外，也存在因意外事件而导致故障，并且可能需要较长的时间才能恢复。\n\n * 此类故障的严重性范围涵盖从部分连接中断到服务完全失败：\n   * 连续重试和长时间的等待对该类场景没有太大意义。\n   * 应用程序应迅速接受该操作已失败并主动地应对该失败。\n * 可以将调用服务的操作配置为实施“超时”，若该服务在超时内未能响应，则以失败消息响应：\n   * 这样可以避免长时间等待导致的资源浪费和系统不稳定。\n\n# 断路器 (Circuit Breaker)\n\n还有，若服务非常繁忙，则系统某一部分的故障可能会导致集联故障，简单的超时策略可能导致对同一操作的许多并发请求被阻止，直到超时时长耗尽为止。\n\n * 这些被阻止的请求可能包含关键的系统资源，例如内存、线程和数据库连接等：\n * 这些资源的耗尽可能导致需要使用相关资源的系统其他可能不相关的部分出现故障。\n * 于是，此时最好立即使操作失败，并且仅在仅可能成功的情况下才尝试调用服务。\n\n\n# 故障注入\n\n\n# 注入延迟 (Fault Injection Delay)\n\n# 参数\n\n注入延迟允许你在请求处理之前人为地增加延迟，以模拟网络延迟或其他延迟情况。Envoy通过配置fault滤波器来实现这一功能。\n\n# Fixed Delay (固定延迟)\n\nhttp_filters: # 配置 HTTP 故障注入过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    delay:\n      fixed_delay:\n        # 固定延迟时间，可以是秒或毫秒\n        seconds: 5\n        # 或者使用 milliseconds 参数\n        milliseconds: 5000\n      percentage:\n        # 应用延迟的请求百分比 (0-100)\n        numerator: 100\n        denominator: HUNDRED\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n参数说明：\n\n * fixed_delay: 指定固定的延迟时间，可以使用seconds（秒）或milliseconds（毫秒）。这两个参数不能同时使用。\n   * seconds: 延迟时间，以秒为单位。\n   * milliseconds: 延迟时间，以毫秒为单位。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# Header Delay (头部延迟)\n\nhttp_filters: # 配置 HTTP 故障注入过滤器\n# 配置 HTTP 故障注入过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    delay:\n      # 使用请求头中的延迟值\n      header_delay:\n        header_name: "x-envoy-fault-delay-request"  # 指定用于延迟的请求头名称\n      percentage:\n        # 应用延迟的请求百分比 (0-100)\n        numerator: 100   # 延迟应用于 100% 的请求\n        denominator: HUNDRED  # 分母表示 100，即百分比基数\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n参数说明：\n\n * header_delay: 根据请求头中的延迟值来设置延迟。\n   * header_name: 请求头的名称，值为延迟时间，单位为毫秒。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n\n# 注入请求终止 (Fault Injection Abort)\n\nEnvoy支持通过fault滤波器注入请求终止，以模拟服务器错误或其他终止条件。\n\n# 参数\n\n# 固定HTTP状态码\n\nhttp_filters: # 配置 HTTP 故障注入过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    abort:\n      http_status: 503  # 终止请求返回的 HTTP 状态码\n      percentage:\n        # 应用终止的请求百分比 (0-100)\n        numerator: 100  # 终止应用于 100% 的请求\n        denominator: HUNDRED  # 分母表示 100，即百分比基数>)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n参数说明：\n\n * http_status: 指定返回的HTTP状态码。\n   * code: 返回的HTTP状态码（如503表示服务不可用）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# gRPC状态码\n\nhttp_filters: # 配置 HTTP 过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    abort:\n      grpc_status:\n        # 终止请求返回的gRPC状态码\n        status: UNAVAILABLE  # 设置 gRPC 状态码为 UNAVAILABLE\n      percentage:\n        # 应用终止的请求百分比 (0-100)\n        numerator: 100  # 终止应用于 100% 的请求\n        denominator: HUNDRED  # 分母表示 100，即百分比基数\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n参数说明：\n\n * grpc_status: 指定返回的gRPC状态码。\n   * status: 返回的gRPC状态码（如UNAVAILABLE）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# 头部终止条件\n\nhttp_filters: # 配置 HTTP 过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    abort:\n      header_abort:\n        header_name: "x-envoy-fault-abort-request" # 用于指定触发请求中止的 HTTP 头名称\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n参数说明：\n\n * header_abort: 根据请求头中的终止条件来终止请求。\n   * header_name: 请求头的名称，值为终止条件（如HTTP状态码）。\n\n# 配置示例\n\n最大同时注入故障数量: 100。 注入故障返回 HTTP 状态码 503。 10%的请求注入故障 (percentage: numerator: 10, denominator: HUNDRED)。\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 Envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 Envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 HTTP 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 HTTP 连接管理器的统计信息\n          codec_type: AUTO              # 自动选择 HTTP 编解码类型，可以是 HTTP1 或 HTTP2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backend_app         # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                route:\n                  cluster: backend_app-v10   # 请求将路由到名为 backend_app-v10 的集群\n                  timeout: 0.25s        # 请求超时时间设置为 0.25 秒\n                  request_mirror_policies:  # 请求镜像策略\n                  - cluster: backend_app-v20  # 将请求镜像到 backend_app-v20 集群\n                    runtime_fraction:\n                      default_value:\n                        numerator: 20\n                        denominator: HUNDRED  # 20%的请求将被镜像\n                      runtime_key: "routing.request_mirror.backend_app"  # 运行时配置键，可以动态调整镜像比例\n          http_filters:\n          - name: envoy.filters.http.fault\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n              max_active_faults: 100  # 最大同时注入的故障数量\n              abort:\n                http_status: 503       # 指定返回的 HTTP 状态码，这里设置为 503，表示服务不可用\n                percentage:\n                  numerator: 10        # 注入故障的请求百分比，分子部分，表示 10%\n                  denominator: HUNDRED # 注入故障的请求百分比，分母部分，表示 100\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.Router  # 配置 HTTP 路由过滤器\n\n  clusters:\n  - name: backend_app-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v10  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backend_app-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: STRICT_DNS             # 集群类型为 STRICT_DNS，严格的 DNS 模式，会动态解析 DNS 并更新端点\n    lb_policy: ROUND_ROBIN       # 负载均衡策略为 ROUND_ROBIN，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v20  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 IP 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n\n# 响应报文的速率限制 (Response Rate Limit)\n\n响应速率限制允许你控制响应的传输速率，模拟慢速网络等情况。\n\n# 参数\n\n# 固定速率限制\n\nhttp_filters: # 配置 HTTP 过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    response_rate_limit: # 配置响应速率限制\n      fixed_limit:\n        bytes_per_second: 1024 # 限制的传输速率，单位是字节/秒\n      percentage:\n        numerator: 100 # 应用速率限制的请求百分比 (0-100)，即速率限制应用于多少比例的请求\n        denominator: HUNDRED # 分母，表示百分比的分母，此处使用 HUNDRED 表示百分比\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n参数说明：\n\n * fixed_limit: 指定固定的传输速率，以字节/秒为单位。\n   * bytes_per_second: 每秒传输的字节数。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n# 头部速率限制\n\nhttp_filters: # 配置 HTTP 过滤器\n- name: envoy.filters.http.fault # 过滤器名称\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.HTTPFault\n    response_rate_limit: # 配置响应速率限制\n      header_limit:\n        header_name: "x-envoy-fault-rate-limit" # 用于指定触发响应速率限制的 HTTP 头名称\n      percentage:\n        numerator: 100 # 应用速率限制的请求百分比 (0-100)，即速率限制应用于多少比例的请求\n        denominator: HUNDRED # 分母，表示百分比的分母，此处使用 HUNDRED 表示百分比\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n参数说明：\n\n * header_limit: 根据请求头中的速率限制值来设置传输速率。\n   * header_name: 请求头的名称，值为速率限制，以字节/秒为单位。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是HUNDRED（100），TEN_THOUSAND（10000），或MILLION（1000000）。\n\n\n# 重试\n\n常见的瞬态处理策略如下:\n\n * 重试: 对于暂时性或不常见类型的故障，反复请求通常可以获取正确结果。\n * 延迟后重试: 若故障时由常见的链接故障或者繁忙故障，通常需要一些时间纠正连接问题或清除积压工作，应用程序则应该等待适当的时间，然后重试请求。\n * 取消: 对于并非暂时性故障，或即便反复请求也不太能成功的故障，则应用程序应取消操作并报告异常。 对于常见的瞬态故障，应合理设定重试之间的时间间隔，以简可能均匀的传播来自应用程序多个实例的请求，从而减少繁忙服务持续超载的机率。\n * 显然，如果应用程序的许多实例因不断重试请求而服务不堪重负，则恢复该服务将花费更长的时间。 可以在重试尝试之间增加延迟的方式重复此过程，直到尝试了最大数量的请求位置。\n * 延迟可以增量或指数方式增加，具体取决于故障的类型，以及在此期间得到纠正的可能性。 这张图片展示了一些有关重试的注意事项，下面是详细的解释：\n\n\n# 注意事项:\n\n 1. 重试策略需要匹配应用程序的业务需求和故障的性质，对于某些非关键操作，最好是快速失败而不是重试，以防止影响应用程序的吞吐量：\n    * 对于交互式Web应用程序，在较短的延迟后进行少量重试，而后向用户显示适当的信息，例如“请稍后重试”。\n    * 对于批处理应用，增加重试次数可能会更合适，但重试次数之间的延迟应成倍或指数级增加。\n 2. 若大量重试后请求仍然失败，最好防止进一步的请求进入同一服务，并立即报告失败：\n    * 在一定的过期时长后，设置服务暂时允许一个或多个请求通过，以查看它们是否成功，这是断路器的功能。\n 3. 还需要考虑操作幂等性与否：\n    * 对于幂等性操作，重试本质上是安全的。\n    * 否则，重试可能导致该操作执行多次，并产生意外的副作用。\n 4. 请求可能会由于多种原因而失败，它们可能分别会引发不同的异常，重试策略应根据异常的类型调整两次重试之间的时间间隔：\n    * 有些异常可能是迅速可解决的故障。\n    * 有些异常则可能会持续更长时间。\n 5. 确保所有重试代码已针对各种故障情况进行了全面测试，以检查它们是否不会严重影响应用程序的性能或可靠性，是否对服务和资源造成过多负担，是否产生竞争状况或瓶颈。 这张图片详细介绍了HTTP请求重试（route.RetryPolicy）的配置和注意事项，以下是具体内容的解释：\n\n\n# HTTP请求重试（route.RetryPolicy）\n\n# Envoy支持在虚拟主机及路由级别配置中以及通过特定请求的标头配置重试\n\n * 路由级别重试的优先级高于虚拟主机级别。\n\n# 重试策略的相关属性包括重试次数和重试条件等\n\n 1. 最大重试次数：可重试的最大次数\n    * 在每次重试之间使用指数退避算法：\n      * 单次重试操作有其超时时长。\n      * 所有重试都包含在整个请求的超时时长之内，以避免由于大量重试而导致的超长请求时间。\n 2. 重试条件：指进行重试的前提条件，例如网络故障、5xx类的响应码等。\n\n# 重试策略配置示例（代码片段）\n\nretry_policy: {\n  "retry_on": "...",          # 重试发生的条件，其功能同rx-envoy-retry-grpc-on标头相同;\n  "num_retries": "...",       # 最大重试次数，默认值为1，其功能同rx-envoy-max-retries标头相同，但采用二者中配置的最大值;\n  "per_try_timeout": "...",   # 每次重试的间隔时间上游请求超时时长;\n  "retry_priority": "...",    # 配置重试优先策略，用于在负载均衡时配置优先级;\n  "retry_host_predicate": []  # 设置用于拒绝主机的选择列表，各指用于拒绝主机，将参考该列表中任一主机断言;\n  "host_selection_retry_max_attempts": "# 允许选择重试的最大次数，默认认为最大间隔默认为基本间隔（250ms）的10倍;\n  "retriable_status_codes": "#"  # 设置重试发生前的HTTP状态代码列表;\n  "retry_back_off": {         # 配置用于重试的退避基准时间，例如初始退避时间为25ms，给定退避基准时间和基准后退退避时间（0，2^N-1）B，最大间隔默认为基本间隔（250ms）的10倍;\n    "base_interval": "...",\n    "max_interval": "..."\n  },\n  "retriable_headers": []     # 触发重试的HTTP响应标头列表，定义响应标头和请求标头中的任何标头匹配时触发重试;\n  "retriable_request_headers": [] # 必须用于重试的请求标头列表;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# HTTP请求重试条件（route.RetryPolicy）\n\n# 重试条件1（同x-envoy-retry-on标头）\n\n 1. 5xx：上游主机返回5xx响应码，或者根本未响应（断开/重置/读取超时）。\n    * 包括但不限于502, 503, 504等应用进行重试。\n 2. gateway-error：网络错误，类似于5xx策略，但仅为502、503或504的应用进行重试。\n 3. connection-failure：在TCP级别与上游服务器建立连接失败时进行重试。\n 4. retriable-4xx：上游服务器返回可重复的4xx响应码时进行重试。\n 5. refused-stream：上游服务器使用REFUSED STREAM错误码重置时进行重试。\n 6. retriable-status-codes：上游服务器的响应码与重试策略x-envoy-retriable-status-codes标头值中定义的响应码匹配时进行重试。\n 7. reset：上游主机完全不响应时（disconnect/reset/read timeout），Envoy将进行重试。\n 8. retriable-headers：如果上游服务器响应文匹配重试策略标头或x-envoy-retriable-header-names标头中包含的任何标头，则Envoy将尝试重试。\n 9. envoy-ratelimited：标头中存在x-envoy-ratelimited时进行重试。\n\n# 重试条件2（同x-envoy-retry-grpc-on标头）\n\n 1. cancelled：gRPC应答标头中的状态码是“cancelled”时进行重试。\n 2. deadline-exceeded：gRPC应答标头中的状态码是“deadline-exceeded”时进行重试。\n 3. internal：gRPC应答标头中的状态码是“internal”时进行重试。\n 4. resource-exhausted：gRPC应答标头中的状态码是“resource-exhausted”时进行重试。\n 5. unavailable：gRPC应答标头中的状态码是“unavailable”时进行重试。\n\n提示\n\n默认情况下，Envoy不会进行任何类型的重试操作，除非明确定义。',normalizedContent:'# 概念\n\n\n# 服务韧性（service resilience）\n\n服务韧性是指系统在面对各种故障、压力和变化时保持功能和性能的能力。它强调系统能够优雅地处理失败，快速恢复，并持续提供服务。\n\n 1. 容错能力：能够在部分组件失败的情况下继续运行。\n 2. 自我修复：自动检测并修复故障。\n 3. 负载均衡：有效分配资源和请求。\n 4. 优雅降级：在资源不足时，保证核心功能运行。\n 5. 快速恢复：从故障中迅速恢复正常状态。 实现方法\n\n * 采用微服务架构，实现服务隔离。\n * 使用断路器模式，防止级联故障。\n * 实施重试机制和超时控制。\n * 采用异步通信，减少服务间依赖。\n * 实现服务发现和动态路由。 在现代复杂的分布式系统中，服务韧性对于保证系统的可用性和可靠性至关重要，尤其在面对不可预知的故障和压力时。\n\n\n# 混沌工程（chaos engineering）\n\n混沌工程是一种通过主动引入故障和异常情况来识别系统弱点的实践方法。它旨在提高系统的可靠性和韧性。 对于架构师: 验证系统架构的容错能力，比如验证现在提倡的面向失败设计的系统。 对于开发和运维: 提高故障的应急效率， 实现故障告警，定位，恢复的有效和高效性。 对于测试: 弥补传统测试方法留下的空白，混沌功能从系统的角度进行测试，降低故障复发率，这有别与传统测试方法从用户角度的进行测试。 对于产品和设计: 通过混沌事件查看产品的表现，提高客户使用体验。\n\n 1.  建立稳态假设：定义系统正常运行的基准。\n 2.  构建假设：假设在特定故障情况下系统的行为。\n 3.  设计实验：设计和执行能验证或推翻假设的实验。\n 4.  验证结果：分析实验结果，改进系统。\n 5.  自动化：将混沌实验自动化，作为持续测试的一部分。 实施步骤\n 6.  从小规模开始，逐步增加实验复杂度。\n 7.  在非生产环境中进行初步测试。\n 8.  谨慎地在生产环境中执行实验。\n 9.  持续监控和分析系统行为。\n 10. 根据实验结果改进系统设计和架构。 工具和平台\n\n * netflix chaos monkey\n * gremlin\n * chaos toolkit\n * aws fault injection simulator 优势\n * 提前发现系统弱点。\n * 增强团队对系统行为的理解。\n * 提高系统整体可靠性和韧性。\n * 培养团队的事故应对能力。\n\n\n# 故障注入（fault injection）\n\n故障注入是一种有意引入错误、延迟或异常行为到系统中的技术，用于测试系统的容错能力和行为。 主要类型\n\n 1. 网络故障：延迟、丢包、断连。\n 2. 资源耗尽：cpu、内存、磁盘空间耗尽。\n 3. 服务故障：服务崩溃、响应错误。\n 4. 数据故障：数据损坏、不一致。 实现方法\n 5. 代码级注入：在应用代码中添加故障触发点。\n 6. 网络层注入：使用代理或防火墙规则模拟网络问题。\n 7. 容器层注入：在容器运行时注入故障。\n 8. 基础设施层注入：在虚拟机或物理机层面注入故障。 工具\n\n * istio 故障注入功能\n * chaos mesh\n * pumba (针对docker容器)\n * toxiproxy（网络故障模拟） 最佳实践\n\n 1. 从简单故障开始，逐步增加复杂度。\n 2. 结合监控系统，全面观察系统行为。\n 3. 在测试环境充分验证后再考虑生产环境。\n 4. 制定明确的回滚计划。\n 5. 记录和分析每次故障注入的结果。 与混沌工程的关系 故障注入是混沌工程的一个重要工具。混沌工程使用故障注入作为一种手段来执行实验，但混沌工程还包括更广泛的策略和方法论。\n\n\n# 总结\n\n这三个概念紧密相关，共同致力于提高系统的可靠性和韧性：\n\n * 服务韧性是目标，它定义了我们希望系统具备的特性。\n * 混沌工程是一种方法论，用于系统地提高和验证服务韧性。\n * 故障注入是一种具体技术，是实现混沌工程和测试服务韧性的重要工具。\n\n# 混沌工程和故障注入的概念与区别\n\n * 混沌工程是发现新信息的实验过程，而故障注入是对特定条件或变量的测试方法。\n * 测试和实验有着重要区别：\n   * 测试只产生二元的结果（通过或失败），不能发掘系统未知或尚不明确的认知。\n   * 实验可以产生新的认知，通常能够开辟出更广泛的对复杂系统的认知空间。\n * 混沌工程不仅仅是制造服务中断等故障：\n   * 并不是所有实验都可以有建设性、高效地发现问题。\n   * 除了故障类场景，还存在非故障类场景，如流量激增、资源竞争、拜占庭故障等。\n\n 1. 流量激增\n\n * 定义：指在短时间内系统请求量急剧增加的情况。\n * 原因：可能由于突发事件、营销活动、病毒式传播等引起。\n * 影响：\n   * 可能导致系统过载，响应时间增加。\n   * 可能触发自动扩展机制，增加资源消耗和成本。\n   * 可能导致缓存失效，增加后端数据库压力。\n * 测试方法：\n   * 使用负载测试工具模拟突发流量。\n   * 逐步增加流量，观察系统的扩展能力和性能变化。\n   * 模拟不同类型的请求组合，如读密集型vs写密集型。\n\n 2. 资源竞争\n\n * 定义：多个进程或线程同时争夺有限的系统资源。\n * 常见资源：cpu、内存、磁盘i/o、网络带宽、数据库连接等。\n * 影响：\n   * 可能导致系统响应变慢。\n   * 可能引发死锁或饥饿状态。\n   * 可能造成某些任务长时间无法完成。\n * 测试方法：\n   * 人为创造资源紧张状况，如启动大量计算密集型任务。\n   * 模拟数据库连接池耗尽的情况。\n   * 创造多个服务同时大量读写共享资源的场景。\n\n 3. 拜占庭故障\n\n * 定义：系统中的某个组件表现不一致，对不同的观察者呈现不同的症状。\n * 特点：这类故障难以检测，因为故障组件可能看似正常运行。\n * 影响：\n   * 可能导致系统行为不一致。\n   * 可能引发数据不一致或损坏。\n   * 在分布式系统中尤其危险，可能导致共识算法失效。\n * 测试方法：\n   * 模拟节点发送矛盾的信息给不同的接收者。\n   * 创造某个服务在不同调用中返回不一致结果的情况。\n   * 在分布式系统中注入时钟偏移，导致时序问题。\n\n 4. 其他非故障类场景\n\n * 数据倾斜：在分布式系统中，数据或工作负载不均匀分布。\n   * 测试方法：创造热点数据，观察系统如何处理不均衡的负载。\n * 配置漂移：系统配置随时间逐渐偏离预期状态。\n   * 测试方法：模拟配置文件被意外修改或不同步的情况。\n * 依赖服务降级：外部服务性能下降但未完全失效。\n   * 测试方法：降低模拟外部服务的响应速度，观察系统反应。\n\n# 混沌工程实验的输入样例（扩展）\n\n * 模拟整个云服务区域或整个数据中心故障\n * 跨多实例删除部分kafka topic来重现生产环境中发生过的问题\n * 挑选特定时间段和流量，对其涉及的服务间调用注入特定的延时\n * 方法级别的混乱（运行时注入）：让方法随机抛出各种异常\n * 在代码中插入指令，允许在这些指令之前运行故障注入\n * 强制系统节点间的时间不同步\n * 在驱动程序中执行模拟i/o错误的程序\n * 让某个elasticsearch集群cpu超负荷\n\n# 故障注入的具体样例（扩展）\n\n * cpu高负载\n * 磁盘高负载：频繁读写磁盘\n * 磁盘空间不足\n * 优雅的下线应用：使用应用的stop脚本平滑地停止应用\n * 通过kill进程直接停止应用，可能造成数据不一致\n * 网络恶化：随机改变一些包数据，使数据内容不正确\n * 网络延迟：将包延迟一个特定范围的时间\n * 网络丢包：构造一个tcp不会完全失败的丢包率\n * 网络黑洞：忽略来自某个ip的包\n * 外部服务不可达：将外部服务的域名指向本地环回地址或将访问外部服务的端口的output数据包丢弃\n\n\n# envoy http 故障注入过滤器\n\n故障注入在 envoy 中的实现上类似于重定向，重写，重试，他们通过修改 http 请求或者应答的内容完成，\n\n * 它由专用的故障注入过滤器(fault.injection)实现，用于测试微服务对不通形式的故障韧性\n * 他通过用户指定的错误代码注入延迟(delay)和请求终止(abort),从而模拟出分阶段的不同故障情形。\n * 故障范围仅限于通过网络及性能通信的的应用程序可观察到的范围，不支持模拟本地主机上的cpu和磁盘故障。\n\n\n# envoy 局部故障处理机制\n\n# 重试 (retry)\n\n分布式环境中对远程资源和服务的调用可能会由于瞬态故障（短时间内可自行恢复的故障）而失败。一般情况下，重试机制可以解决此类问题。\n\n * 常见的瞬态故障有网络连接速度慢、超时、资源过量使用或暂时不可用等。\n * envoy 可以配置超时 (timeout)来快速失败，可以不让请求阻塞在故障后端上，而是 envoy 发起重试机制，把请求转移到后端其他端点，最终取决于会话绑定等机制。\n\n# 超时 (timeout)\n\n此外，也存在因意外事件而导致故障，并且可能需要较长的时间才能恢复。\n\n * 此类故障的严重性范围涵盖从部分连接中断到服务完全失败：\n   * 连续重试和长时间的等待对该类场景没有太大意义。\n   * 应用程序应迅速接受该操作已失败并主动地应对该失败。\n * 可以将调用服务的操作配置为实施“超时”，若该服务在超时内未能响应，则以失败消息响应：\n   * 这样可以避免长时间等待导致的资源浪费和系统不稳定。\n\n# 断路器 (circuit breaker)\n\n还有，若服务非常繁忙，则系统某一部分的故障可能会导致集联故障，简单的超时策略可能导致对同一操作的许多并发请求被阻止，直到超时时长耗尽为止。\n\n * 这些被阻止的请求可能包含关键的系统资源，例如内存、线程和数据库连接等：\n * 这些资源的耗尽可能导致需要使用相关资源的系统其他可能不相关的部分出现故障。\n * 于是，此时最好立即使操作失败，并且仅在仅可能成功的情况下才尝试调用服务。\n\n\n# 故障注入\n\n\n# 注入延迟 (fault injection delay)\n\n# 参数\n\n注入延迟允许你在请求处理之前人为地增加延迟，以模拟网络延迟或其他延迟情况。envoy通过配置fault滤波器来实现这一功能。\n\n# fixed delay (固定延迟)\n\nhttp_filters: # 配置 http 故障注入过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    delay:\n      fixed_delay:\n        # 固定延迟时间，可以是秒或毫秒\n        seconds: 5\n        # 或者使用 milliseconds 参数\n        milliseconds: 5000\n      percentage:\n        # 应用延迟的请求百分比 (0-100)\n        numerator: 100\n        denominator: hundred\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n参数说明：\n\n * fixed_delay: 指定固定的延迟时间，可以使用seconds（秒）或milliseconds（毫秒）。这两个参数不能同时使用。\n   * seconds: 延迟时间，以秒为单位。\n   * milliseconds: 延迟时间，以毫秒为单位。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# header delay (头部延迟)\n\nhttp_filters: # 配置 http 故障注入过滤器\n# 配置 http 故障注入过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    delay:\n      # 使用请求头中的延迟值\n      header_delay:\n        header_name: "x-envoy-fault-delay-request"  # 指定用于延迟的请求头名称\n      percentage:\n        # 应用延迟的请求百分比 (0-100)\n        numerator: 100   # 延迟应用于 100% 的请求\n        denominator: hundred  # 分母表示 100，即百分比基数\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n参数说明：\n\n * header_delay: 根据请求头中的延迟值来设置延迟。\n   * header_name: 请求头的名称，值为延迟时间，单位为毫秒。\n * percentage: 指定应应用延迟的请求百分比，用于控制延迟故障注入的概率。\n   * numerator: 延迟应用比例的分子。\n   * denominator: 延迟应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n\n# 注入请求终止 (fault injection abort)\n\nenvoy支持通过fault滤波器注入请求终止，以模拟服务器错误或其他终止条件。\n\n# 参数\n\n# 固定http状态码\n\nhttp_filters: # 配置 http 故障注入过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    abort:\n      http_status: 503  # 终止请求返回的 http 状态码\n      percentage:\n        # 应用终止的请求百分比 (0-100)\n        numerator: 100  # 终止应用于 100% 的请求\n        denominator: hundred  # 分母表示 100，即百分比基数>)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n参数说明：\n\n * http_status: 指定返回的http状态码。\n   * code: 返回的http状态码（如503表示服务不可用）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# grpc状态码\n\nhttp_filters: # 配置 http 过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    abort:\n      grpc_status:\n        # 终止请求返回的grpc状态码\n        status: unavailable  # 设置 grpc 状态码为 unavailable\n      percentage:\n        # 应用终止的请求百分比 (0-100)\n        numerator: 100  # 终止应用于 100% 的请求\n        denominator: hundred  # 分母表示 100，即百分比基数\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n参数说明：\n\n * grpc_status: 指定返回的grpc状态码。\n   * status: 返回的grpc状态码（如unavailable）。\n * percentage: 指定应应用终止的请求百分比。\n   * numerator: 终止应用比例的分子。\n   * denominator: 终止应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# 头部终止条件\n\nhttp_filters: # 配置 http 过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    abort:\n      header_abort:\n        header_name: "x-envoy-fault-abort-request" # 用于指定触发请求中止的 http 头名称\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n参数说明：\n\n * header_abort: 根据请求头中的终止条件来终止请求。\n   * header_name: 请求头的名称，值为终止条件（如http状态码）。\n\n# 配置示例\n\n最大同时注入故障数量: 100。 注入故障返回 http 状态码 503。 10%的请求注入故障 (percentage: numerator: 10, denominator: hundred)。\n\nadmin:\n  profile_path: /tmp/envoy.prof  # 设置 envoy 管理接口的性能分析文件路径，用于存储性能分析数据\n  access_log_path: /dev/stdout   # 设置 envoy 管理接口的访问日志路径，这里设置为标准输出\n  address:\n    socket_address:\n      address: 0.0.0.0           # 设置管理接口的监听地址，0.0.0.0 表示监听所有网络接口\n      port_value: 9901           # 管理接口的监听端口号，这里设置为 9901\n\nlayered_runtime:\n  layers:\n  - name: admin\n    admin_layer: {}              # 管理层的运行时配置，可以通过此层动态更新配置，便于管理\n\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        address: 0.0.0.0         # 设置监听器的监听地址，0.0.0.0 表示监听所有网络接口\n        port_value: 80           # 监听器的端口号，这里设置为 80，表示 http 默认端口\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.http_connection_manager\n        typed_config:\n          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.httpconnectionmanager\n          stat_prefix: ingress_http     # 设置统计前缀，用于标识该 http 连接管理器的统计信息\n          codec_type: auto              # 自动选择 http 编解码类型，可以是 http1 或 http2\n          route_config:\n            name: local_route           # 路由配置的名称\n            virtual_hosts:\n            - name: backend_app         # 虚拟主机的名称\n              domains: ["*"]            # 该虚拟主机匹配的域名，* 表示匹配所有域名\n              routes:\n              - match:\n                  prefix: "/"           # 路由匹配的前缀路径，这里匹配所有路径\n                route:\n                  cluster: backend_app-v10   # 请求将路由到名为 backend_app-v10 的集群\n                  timeout: 0.25s        # 请求超时时间设置为 0.25 秒\n                  request_mirror_policies:  # 请求镜像策略\n                  - cluster: backend_app-v20  # 将请求镜像到 backend_app-v20 集群\n                    runtime_fraction:\n                      default_value:\n                        numerator: 20\n                        denominator: hundred  # 20%的请求将被镜像\n                      runtime_key: "routing.request_mirror.backend_app"  # 运行时配置键，可以动态调整镜像比例\n          http_filters:\n          - name: envoy.filters.http.fault\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n              max_active_faults: 100  # 最大同时注入的故障数量\n              abort:\n                http_status: 503       # 指定返回的 http 状态码，这里设置为 503，表示服务不可用\n                percentage:\n                  numerator: 10        # 注入故障的请求百分比，分子部分，表示 10%\n                  denominator: hundred # 注入故障的请求百分比，分母部分，表示 100\n          - name: envoy.filters.http.router\n            typed_config:\n              "@type": type.googleapis.com/envoy.extensions.filters.http.router.v3.router  # 配置 http 路由过滤器\n\n  clusters:\n  - name: backend_app-v10\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v10  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.11 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n  - name: backend_app-v20\n    connect_timeout: 0.25s       # 设置连接超时时间为 0.25 秒\n    type: strict_dns             # 集群类型为 strict_dns，严格的 dns 模式，会动态解析 dns 并更新端点\n    lb_policy: round_robin       # 负载均衡策略为 round_robin，轮询方式分配请求\n    load_assignment:\n      cluster_name: backend_app-v20  # 负载分配集群的名称\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: 172.31.1.12 # 后端服务的 ip 地址\n                port_value: 8080     # 后端服务的端口号\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n\n# 响应报文的速率限制 (response rate limit)\n\n响应速率限制允许你控制响应的传输速率，模拟慢速网络等情况。\n\n# 参数\n\n# 固定速率限制\n\nhttp_filters: # 配置 http 过滤器\n- name: envoy.filters.http.fault\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    response_rate_limit: # 配置响应速率限制\n      fixed_limit:\n        bytes_per_second: 1024 # 限制的传输速率，单位是字节/秒\n      percentage:\n        numerator: 100 # 应用速率限制的请求百分比 (0-100)，即速率限制应用于多少比例的请求\n        denominator: hundred # 分母，表示百分比的分母，此处使用 hundred 表示百分比\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n参数说明：\n\n * fixed_limit: 指定固定的传输速率，以字节/秒为单位。\n   * bytes_per_second: 每秒传输的字节数。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n# 头部速率限制\n\nhttp_filters: # 配置 http 过滤器\n- name: envoy.filters.http.fault # 过滤器名称\n  typed_config:\n    "@type": type.googleapis.com/envoy.extensions.filters.http.fault.v3.httpfault\n    response_rate_limit: # 配置响应速率限制\n      header_limit:\n        header_name: "x-envoy-fault-rate-limit" # 用于指定触发响应速率限制的 http 头名称\n      percentage:\n        numerator: 100 # 应用速率限制的请求百分比 (0-100)，即速率限制应用于多少比例的请求\n        denominator: hundred # 分母，表示百分比的分母，此处使用 hundred 表示百分比\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n参数说明：\n\n * header_limit: 根据请求头中的速率限制值来设置传输速率。\n   * header_name: 请求头的名称，值为速率限制，以字节/秒为单位。\n * percentage: 指定应应用速率限制的请求百分比。\n   * numerator: 速率限制应用比例的分子。\n   * denominator: 速率限制应用比例的分母。可以是hundred（100），ten_thousand（10000），或million（1000000）。\n\n\n# 重试\n\n常见的瞬态处理策略如下:\n\n * 重试: 对于暂时性或不常见类型的故障，反复请求通常可以获取正确结果。\n * 延迟后重试: 若故障时由常见的链接故障或者繁忙故障，通常需要一些时间纠正连接问题或清除积压工作，应用程序则应该等待适当的时间，然后重试请求。\n * 取消: 对于并非暂时性故障，或即便反复请求也不太能成功的故障，则应用程序应取消操作并报告异常。 对于常见的瞬态故障，应合理设定重试之间的时间间隔，以简可能均匀的传播来自应用程序多个实例的请求，从而减少繁忙服务持续超载的机率。\n * 显然，如果应用程序的许多实例因不断重试请求而服务不堪重负，则恢复该服务将花费更长的时间。 可以在重试尝试之间增加延迟的方式重复此过程，直到尝试了最大数量的请求位置。\n * 延迟可以增量或指数方式增加，具体取决于故障的类型，以及在此期间得到纠正的可能性。 这张图片展示了一些有关重试的注意事项，下面是详细的解释：\n\n\n# 注意事项:\n\n 1. 重试策略需要匹配应用程序的业务需求和故障的性质，对于某些非关键操作，最好是快速失败而不是重试，以防止影响应用程序的吞吐量：\n    * 对于交互式web应用程序，在较短的延迟后进行少量重试，而后向用户显示适当的信息，例如“请稍后重试”。\n    * 对于批处理应用，增加重试次数可能会更合适，但重试次数之间的延迟应成倍或指数级增加。\n 2. 若大量重试后请求仍然失败，最好防止进一步的请求进入同一服务，并立即报告失败：\n    * 在一定的过期时长后，设置服务暂时允许一个或多个请求通过，以查看它们是否成功，这是断路器的功能。\n 3. 还需要考虑操作幂等性与否：\n    * 对于幂等性操作，重试本质上是安全的。\n    * 否则，重试可能导致该操作执行多次，并产生意外的副作用。\n 4. 请求可能会由于多种原因而失败，它们可能分别会引发不同的异常，重试策略应根据异常的类型调整两次重试之间的时间间隔：\n    * 有些异常可能是迅速可解决的故障。\n    * 有些异常则可能会持续更长时间。\n 5. 确保所有重试代码已针对各种故障情况进行了全面测试，以检查它们是否不会严重影响应用程序的性能或可靠性，是否对服务和资源造成过多负担，是否产生竞争状况或瓶颈。 这张图片详细介绍了http请求重试（route.retrypolicy）的配置和注意事项，以下是具体内容的解释：\n\n\n# http请求重试（route.retrypolicy）\n\n# envoy支持在虚拟主机及路由级别配置中以及通过特定请求的标头配置重试\n\n * 路由级别重试的优先级高于虚拟主机级别。\n\n# 重试策略的相关属性包括重试次数和重试条件等\n\n 1. 最大重试次数：可重试的最大次数\n    * 在每次重试之间使用指数退避算法：\n      * 单次重试操作有其超时时长。\n      * 所有重试都包含在整个请求的超时时长之内，以避免由于大量重试而导致的超长请求时间。\n 2. 重试条件：指进行重试的前提条件，例如网络故障、5xx类的响应码等。\n\n# 重试策略配置示例（代码片段）\n\nretry_policy: {\n  "retry_on": "...",          # 重试发生的条件，其功能同rx-envoy-retry-grpc-on标头相同;\n  "num_retries": "...",       # 最大重试次数，默认值为1，其功能同rx-envoy-max-retries标头相同，但采用二者中配置的最大值;\n  "per_try_timeout": "...",   # 每次重试的间隔时间上游请求超时时长;\n  "retry_priority": "...",    # 配置重试优先策略，用于在负载均衡时配置优先级;\n  "retry_host_predicate": []  # 设置用于拒绝主机的选择列表，各指用于拒绝主机，将参考该列表中任一主机断言;\n  "host_selection_retry_max_attempts": "# 允许选择重试的最大次数，默认认为最大间隔默认为基本间隔（250ms）的10倍;\n  "retriable_status_codes": "#"  # 设置重试发生前的http状态代码列表;\n  "retry_back_off": {         # 配置用于重试的退避基准时间，例如初始退避时间为25ms，给定退避基准时间和基准后退退避时间（0，2^n-1）b，最大间隔默认为基本间隔（250ms）的10倍;\n    "base_interval": "...",\n    "max_interval": "..."\n  },\n  "retriable_headers": []     # 触发重试的http响应标头列表，定义响应标头和请求标头中的任何标头匹配时触发重试;\n  "retriable_request_headers": [] # 必须用于重试的请求标头列表;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# http请求重试条件（route.retrypolicy）\n\n# 重试条件1（同x-envoy-retry-on标头）\n\n 1. 5xx：上游主机返回5xx响应码，或者根本未响应（断开/重置/读取超时）。\n    * 包括但不限于502, 503, 504等应用进行重试。\n 2. gateway-error：网络错误，类似于5xx策略，但仅为502、503或504的应用进行重试。\n 3. connection-failure：在tcp级别与上游服务器建立连接失败时进行重试。\n 4. retriable-4xx：上游服务器返回可重复的4xx响应码时进行重试。\n 5. refused-stream：上游服务器使用refused stream错误码重置时进行重试。\n 6. retriable-status-codes：上游服务器的响应码与重试策略x-envoy-retriable-status-codes标头值中定义的响应码匹配时进行重试。\n 7. reset：上游主机完全不响应时（disconnect/reset/read timeout），envoy将进行重试。\n 8. retriable-headers：如果上游服务器响应文匹配重试策略标头或x-envoy-retriable-header-names标头中包含的任何标头，则envoy将尝试重试。\n 9. envoy-ratelimited：标头中存在x-envoy-ratelimited时进行重试。\n\n# 重试条件2（同x-envoy-retry-grpc-on标头）\n\n 1. cancelled：grpc应答标头中的状态码是“cancelled”时进行重试。\n 2. deadline-exceeded：grpc应答标头中的状态码是“deadline-exceeded”时进行重试。\n 3. internal：grpc应答标头中的状态码是“internal”时进行重试。\n 4. resource-exhausted：grpc应答标头中的状态码是“resource-exhausted”时进行重试。\n 5. unavailable：grpc应答标头中的状态码是“unavailable”时进行重试。\n\n提示\n\n默认情况下，envoy不会进行任何类型的重试操作，除非明确定义。',charsets:{cjk:!0},lastUpdated:"2024/08/06, 16:32:56",lastUpdatedTimestamp:1722933176e3},{title:"xxxx",frontmatter:{title:"xxxx",author:"Yan Shicheng",date:"2024-08-01T17:11:17.000Z",permalink:"/cloud-native/envoy/20240801",categories:["envoy"],tags:null,readingShow:"top"},regularPath:"/11.cloud-native/01.envoy/100.xxxx.html",relativePath:"11.cloud-native/01.envoy/100.xxxx.md",key:"v-64745842",path:"/cloud-native/envoy/20240801/",headers:[{level:2,title:"123",slug:"_123",normalizedTitle:"123",charIndex:2},{level:3,title:"333",slug:"_333",normalizedTitle:"333",charIndex:10}],headersStr:"123 333",content:"# 123\n\n\n# 333",normalizedContent:"# 123\n\n\n# 333",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"istio",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"11.cloud-native/02.istio",imgUrl:"/img/catalogue/default.png",description:"istio相关知识。"}},title:"istio",date:"2021-11-25T18:58:31.000Z",permalink:"/cloud-native/istio/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/11.cloud-native/02.istio/00.README.html",relativePath:"11.cloud-native/02.istio/00.README.md",key:"v-4f291376",path:"/cloud-native/istio/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"云原生技术",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"11.cloud-native",imgUrl:"/img/catalogue/default.png",description:"云原生相关技术知识"}},title:"云原生技术",date:"2021-10-21T16:45:01.000Z",permalink:"/cloud-native/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/11.cloud-native/",relativePath:"11.cloud-native/README.md",key:"v-51abfd60",path:"/cloud-native/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"归档",frontmatter:{archivesPage:!0,title:"归档",permalink:"/archives/",article:!1,readingShow:"top"},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-1bb7fc82",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/04, 01:53:21",lastUpdatedTimestamp:1722707601e3},{title:"分类",frontmatter:{categoriesPage:!0,title:"分类",permalink:"/categories/",article:!1,readingShow:"top"},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-75835fc2",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/06, 16:32:56",lastUpdatedTimestamp:1722933176e3},{title:"index",frontmatter:{home:!0,heroText:"YanShicheng SRE运维知识库",tagline:"本知识库是一个专注于云原生技术和 SRE（站点可靠性工程）。我的目标是为运维工程师、SRE 专家和 IT 从业人员提供一个集工作经验积累、学习资源共享和知识记录于一体的在线资源库。。",bannerBg:"/img/index/bg.jpg",pageClass:"vdoing-index-class",postList:"detailed",title:"index",date:"2024-07-27T22:11:05.000Z",permalink:"/",categories:[],tags:null,readingShow:"top"},regularPath:"/",relativePath:"index.md",key:"v-65319358",path:"/",headersStr:null,content:"> 下面是个人网站，可以选择查看。\n\n * 运维相关知识库 ：https://docs.yanshicheng.com/\n * 运维开发相关知识库：https://coder.yanshicheng.com/\n * 开源平台：https://www.yanshicheng.com/\n * 开源 2：https://www.pgoops.com/",normalizedContent:"> 下面是个人网站，可以选择查看。\n\n * 运维相关知识库 ：https://docs.yanshicheng.com/\n * 运维开发相关知识库：https://coder.yanshicheng.com/\n * 开源平台：https://www.yanshicheng.com/\n * 开源 2：https://www.pgoops.com/",charsets:{cjk:!0},lastUpdated:"2024/08/04, 19:27:35",lastUpdatedTimestamp:1722770855e3},{title:"标签",frontmatter:{tagsPage:!0,title:"标签",permalink:"/tags/",article:!1,readingShow:"top"},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-6a58413f",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/08/06, 16:32:56",lastUpdatedTimestamp:1722933176e3}],themeConfig:{nav:[{text:"首页",link:"/"},{text:"linux",link:"/linux/",items:[{text:"基础",items:[{text:"基础",link:"/linux/basic/"},{text:"防火墙",link:"/linux/iptables/"}]},{text:"web",items:[{text:"nginx",link:"/linux/nginx/"},{text:"tomcat",link:"/linux/tomcat/"}]}]},{text:"devops",link:"/devops/",items:[{items:[{text:"Gitlab",link:"/devops/gitlab/"},{text:"Sonar",link:"/devops/sonar/"},{text:"Nexus",link:"/devops/nexus/"},{text:"Jenkins",link:"/devops/jenkins/"}]}]},{text:"数据库",link:"/database/",items:[{text:"SQL 数据库",items:[{text:"MySQL",link:"/database/mysql/"}]},{text:"NoSQL 数据库",items:[{text:"Redis",link:"/database/redis/"},{text:"MongoDB",link:"/database/mongodb/"}]}]},{text:"监控日志",link:"/monitoring-logging/",items:[{text:"监控",items:[{text:"Prometheus",link:"/monitoring-logging/prometheus/"},{text:"Grafana",link:"/monitoring-logging/grafana/"},{text:"AlertManager",link:"/monitoring-logging/alertmanager/"}]},{text:"日志",items:[{text:"ELK",link:"/monitoring-logging/elk/"}]}]},{text:"kubernetes",link:"/kubernetes/",items:[{items:[{text:"docker",link:"/docker/"},{text:"kubernetes",link:"/kubernetes/basic/"},{text:"案例",link:"/kubernetes/case/"}]}]},{text:"云原生",link:"/cloud-native/",items:[{text:"微服务治理",items:[{text:"Envoy",link:"/cloud-native/envoy/"},{text:"Istio",link:"/cloud-native/istio/"}]}]},{text:"索引",link:"/archives/",items:[{text:"本站",items:[{text:"分类",link:"/categories/"},{text:"标签",link:"/tags/"},{text:"归档",link:"/archives/"}]},{text:"我的",items:[{text:"运维平台[Py]",link:"http://www.pgoops.com/"},{text:"运维平台[Go]",link:"https://www.yanshicheng.com/"},{text:"运维知识库[Go]",link:"https://docks.yanshicheng.com/"},{text:"开发知识库[Go]",link:"https://coder.yanshicheng.com/"}]}]},{text:"留言区",link:"/message-area/"}],sidebarDepth:4,logo:"/img/index/logo.png",repo:"yanshicheng/yanshicheng.github.io",searchMaxSuggestions:10,lastUpdated:"更新时间",docsDir:"wiki-sre",editLinks:!1,editLinkText:"编辑此页",categoryText:"随笔",sidebar:{"/01.linux/":[{title:"basic",collapsable:!0,children:[]},{title:"iptables",collapsable:!0,children:[]},{title:"nginx",collapsable:!0,children:[]},{title:"tomcat",collapsable:!0,children:[]}],catalogue:{README:"/cloud-native/istio/"},"/02.database/":[{title:"mysql",collapsable:!0,children:[]},{title:"redis",collapsable:!0,children:[]},{title:"mongodb",collapsable:!0,children:[]}],"/03.devops/":[{title:"gitlab",collapsable:!0,children:[]},{title:"sonar",collapsable:!0,children:[]},{title:"nexus",collapsable:!0,children:[]},{title:"jenkins",collapsable:!0,children:[]}],"/04.monitoring-logging/":[{title:"prometheus",collapsable:!0,children:[]},{title:"alertmanager",collapsable:!0,children:[]},{title:"grafana",collapsable:!0,children:[]},{title:"elk",collapsable:!0,children:[]}],"/10.kubernetes/":[["00.README.md","kubernetes","/kubernetes/"],{title:"docker",collapsable:!0,children:[["01.docker/00.README.md","容器相关知识","/kubernetes/docker/"]]},{title:"basic",collapsable:!0,children:[["02.basic/00.README.md","kubernetes - 知识体系","/kubernetes/basic/"]]},{title:"case",collapsable:!0,children:[["10.case/00.README.md","kubernetes 实战","/kubernetes/case/"]]}],"/11.cloud-native/":[{title:"envoy",collapsable:!0,children:[["01.envoy/00.README.md","envoy","/cloud-native/envoy/"],["01.envoy/01.test.md","test","/cloud-native/envoy/20240804001635"],["01.envoy/02.test.md","test","/cloud-native/envoy/20240804001641"],["01.envoy/03.test.md","test","/cloud-native/envoy/20240804001649"],["01.envoy/04.test.md","test","/cloud-native/envoy/20240804001656"],["01.envoy/05.test.md","test","/cloud-native/envoy/20240804001703"],["01.envoy/06.test.md","test","/cloud-native/envoy/20240804001722"],["01.envoy/07.test.md","test","/cloud-native/envoy/20240804001732"],["01.envoy/08.HTTP 路由配置基础.md","HTTP 路由配置基础","/cloud-native/envoy/20240801150921"],["01.envoy/09.流量高级治理.md","流量高级治理","/cloud-native/envoy/20240803202950"],["01.envoy/10.服务韧性-混沌工程.md","服务韧性-混沌工程","/cloud-native/envoy/20240804001357"],["01.envoy/100.xxxx.md","xxxx","/cloud-native/envoy/20240801"]]},{title:"istio",collapsable:!0,children:[["02.istio/00.README.md","istio","/cloud-native/istio/"]]}]},blogInfo:{blogCreate:"2024-07-28",indexView:!0,pageView:!0,readingTime:!0,eachFileWords:[{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/01.linux/01.basic/README.md",wordsCount:44,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.linux/01.basic",imgUrl:"/img/catalogue/default.png",description:"linux 基础知识。"}},title:"Linux - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/basic/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/01.linux/02.iptables/README.md",wordsCount:45,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.linux/02.iptables",imgUrl:"/img/catalogue/default.png",description:"linux - Iptables 相关知识。"}},title:"Iptables - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/iptables/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/01.linux/40.nginx/README.md",wordsCount:44,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.linux/40.nginx",imgUrl:"/img/catalogue/default.png",description:"nginx 相关知识。"}},title:"nginx - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/nginx/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/01.linux/41.tomcat/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.linux/41.tomcat",imgUrl:"/img/catalogue/default.png",description:"tomcat。"}},title:"Tomcat - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/linux/tomcat/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/01.linux/README.md",wordsCount:44,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.linux",imgUrl:"/img/catalogue/default.png",description:"linux相关知识，及传统架构软件。"}},title:"linux",date:"2024-07-28T15:55:01.000Z",permalink:"/linux/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/02.database/01.mysql/README.md",wordsCount:118,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.database/01.mysql",imgUrl:"/img/catalogue/default.png",description:"MySQL 是一个关系型数据库管理系统，由瑞典 MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL 是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。"}},title:"MySQL - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/database/mysql/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/02.database/02.redis/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.database/02.redis",imgUrl:"/img/catalogue/default.png",description:"redis。"}},title:"Redis - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/database/redis/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/02.database/03.mongodb/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.database/03.mongodb",imgUrl:"/img/catalogue/default.png",description:"mongodb"}},title:"MongoDB - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/database/mongodb/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/02.database/README.md",wordsCount:41,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.database",imgUrl:"/img/catalogue/default.png",description:"数据库相关知识。"}},title:"数据库",date:"2024-07-28T15:55:01.000Z",permalink:"/database/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/03.devops/01.gitlab/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"03.devops/01.gitlab",imgUrl:"/img/catalogue/default.png",description:"gitlab。"}},title:"GitLab - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/gitlab/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/03.devops/02.sonar/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"03.devops/02.sonar",imgUrl:"/img/catalogue/default.png",description:"sonar。"}},title:"Sonar - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/sonar/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/03.devops/03.nexus/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"03.devops/03.nexus",imgUrl:"/img/catalogue/default.png",description:"nexus。"}},title:"Nexus - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/nexus/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/03.devops/04.jenkins/README.md",wordsCount:40,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"03.devops/03.nexus",imgUrl:"/img/catalogue/default.png",description:"nexus。"}},title:"Nexus - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/devops/nexus",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/03.devops/README.md",wordsCount:38,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"03.devops",imgUrl:"/img/catalogue/default.png",description:"CI/CD相关文档。"}},title:"Devops",date:"2024-07-28T15:55:01.000Z",permalink:"/devops/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/04.monitoring-logging/01.prometheus/README.md",wordsCount:46,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/01.prometheus",imgUrl:"/img/catalogue/default.png",description:"prometheus 相关知识。"}},title:"MySQL - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-logging/prometheus/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/04.monitoring-logging/02.alertmanager/README.md",wordsCount:46,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/03.alertmanager",imgUrl:"/img/catalogue/default.png",description:"alertmanager 相关知识。"}},title:"alertmanager 相关知识",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-logging/alertmanager/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/04.monitoring-logging/03.grafana/README.md",wordsCount:46,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/03.grafana",imgUrl:"/img/catalogue/default.png",description:"grafana 相关知识。"}},title:"grafana 相关知识",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-logging/grafana/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/04.monitoring-logging/11.elk/README.md",wordsCount:46,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging/11.elk",imgUrl:"/img/catalogue/default.png",description:"es 相关知识。"}},title:"es - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/monitoring-loggings/elk/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/04.monitoring-logging/README.md",wordsCount:52,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.monitoring-logging",imgUrl:"/img/catalogue/default.png",description:"监控和日志管理的相关知识和资源。"}},title:"监控-日志",date:"2024-07-28T15:55:01.000Z",permalink:"/monitoring-logging/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/10.kubernetes/00.README.md",wordsCount:37,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"10.kubernetes",imgUrl:"/img/catalogue/default.png",description:"kubernetes 相关知识。"}},title:"kubernetes",date:"2024-07-28T15:55:01.000Z",permalink:"/kubernetes/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/10.kubernetes/01.docker/00.README.md",wordsCount:47,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"10.kubernetes/01.docker",imgUrl:"/img/catalogue/default.png",description:"docker 容器相关知识。"}},title:"容器相关知识",date:"2024-07-28T16:14:30.000Z",permalink:"/kubernetes/docker/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/10.kubernetes/02.basic/00.README.md",wordsCount:44,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"10.kubernetes/02.basic",imgUrl:"/img/catalogue/default.png",description:"kubernetes 基础知识。"}},title:"kubernetes - 知识体系",date:"2024-07-28T16:14:30.000Z",permalink:"/kubernetes/basic/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/10.kubernetes/10.case/00.README.md",wordsCount:42,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"10.kubernetes/10.case",imgUrl:"/img/catalogue/default.png",description:"kubernetes 相关案例。"}},title:"kubernetes 实战",date:"2024-07-28T16:14:30.000Z",permalink:"/kubernetes/case/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"周报模板",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/100.template/周报模板.md",wordsCount:827,readingTime:"4.3m",UID:{"object Object":null},aliases:null,tags:"Diary",Type:"Week Diary",Year:{"object Object":null},Week:{"object Object":null},Date:{"object Object":null},title:"周报模板",date:"2024-01-27T01:42:21.000Z",permalink:"/pages/e27280/",categories:["template"]},{name:"日记模板",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/100.template/日记模板.md",wordsCount:215,readingTime:"1.1m",UID:{"[object Object]":null},aliases:null,tags:["Diary"],Type:"Diary",Year:{"[object Object]":null},Month:{"[object Object]":null},Date:{"[object Object]":null},Time:{"[object Object]":null},title:"日记模板",date:"2024-01-27T01:06:23.000Z",permalink:"/pages/7899e9/",categories:["template"]},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/00.README.md",wordsCount:42,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"11.cloud-native/01.envoy",imgUrl:"/img/catalogue/default.png",description:"envoy相关知识。"}},title:"envoy",date:"2021-11-25T18:58:31.000Z",permalink:"/cloud-native/envoy/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/01.test.md",wordsCount:"4.7k",readingTime:"17.3m",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:28.000Z",permalink:"/cloud-native/envoy/20240804001635",categories:["envoy"],tags:["envoy"]},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/02.test.md",wordsCount:21,readingTime:"1",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:38.000Z",permalink:"/cloud-native/envoy/20240804001641",categories:["envoy"],tags:["envoy"]},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/03.test.md",wordsCount:21,readingTime:"1",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:46.000Z",permalink:"/cloud-native/envoy/20240804001649",categories:["envoy"],tags:["envoy"]},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/04.test.md",wordsCount:21,readingTime:"1",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:52.000Z",permalink:"/cloud-native/envoy/20240804001656",categories:["envoy"],tags:["envoy"]},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/05.test.md",wordsCount:21,readingTime:"1",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:16:59.000Z",permalink:"/cloud-native/envoy/20240804001703",categories:["envoy"],tags:["envoy"]},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/06.test.md",wordsCount:21,readingTime:"1",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:17:14.000Z",permalink:"/cloud-native/envoy/20240804001722",categories:["envoy"],tags:["envoy"]},{name:"test",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/07.test.md",wordsCount:21,readingTime:"1",title:"test",author:"Yan Shicheng",date:"2024-08-04T00:17:27.000Z",permalink:"/cloud-native/envoy/20240804001732",categories:["envoy"],tags:["envoy"]},{name:"HTTP 路由配置基础",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/08.HTTP 路由配置基础.md",wordsCount:"5.3k",readingTime:"21m",title:"HTTP 路由配置基础",author:"Yan Shicheng",date:"2024-08-01T15:09:21.000Z",permalink:"/cloud-native/envoy/20240801150921",categories:["envoy"],tags:["envoy"]},{name:"流量高级治理",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/09.流量高级治理.md",wordsCount:"4k",readingTime:"16.6m",title:"流量高级治理",author:"Yan Shicheng",date:"2024-08-03T00:13:31.000Z",permalink:"/cloud-native/envoy/20240803202950",categories:["envoy"],tags:["envoy"]},{name:"服务韧性-混沌工程",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/10.服务韧性-混沌工程.md",wordsCount:"6.8k",readingTime:"25.2m",title:"服务韧性-混沌工程",author:"Yan Shicheng",date:"2024-08-04T00:13:34.000Z",permalink:"/cloud-native/envoy/20240804001357",categories:["envoy"],tags:["envoy"]},{name:"xxxx",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/01.envoy/100.xxxx.md",wordsCount:44,readingTime:"1",title:"xxxx",author:"Yan Shicheng",date:"2024-08-01T17:11:17.000Z",permalink:"/cloud-native/envoy/20240801",categories:["envoy"],tags:null},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/02.istio/00.README.md",wordsCount:42,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"11.cloud-native/02.istio",imgUrl:"/img/catalogue/default.png",description:"istio相关知识。"}},title:"istio",date:"2021-11-25T18:58:31.000Z",permalink:"/cloud-native/istio/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"README",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/11.cloud-native/README.md",wordsCount:47,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"11.cloud-native",imgUrl:"/img/catalogue/default.png",description:"云原生相关技术知识"}},title:"云原生技术",date:"2021-10-21T16:45:01.000Z",permalink:"/cloud-native/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"index",filePath:"/Users/devops/data/docs/yanshicheng.github.io/wiki-sre/index.md",wordsCount:422,readingTime:"2m",home:!0,heroText:"YanShicheng SRE运维知识库",tagline:"本知识库是一个专注于云原生技术和 SRE（站点可靠性工程）。我的目标是为运维工程师、SRE 专家和 IT 从业人员提供一个集工作经验积累、学习资源共享和知识记录于一体的在线资源库。。",bannerBg:"/img/index/bg.jpg",pageClass:"vdoing-index-class",postList:"detailed",title:"index",date:"2024-07-27T22:11:05.000Z",permalink:"/",categories:[],tags:null}],mdFileCountType:"archives",totalWords:"archives",moutedEvent:".tags-wrapper",indexIteration:2500,pageIteration:2500},privatePage:{openPrivate:!0,username:"yanshicheng",password:"yanshicheng@admin",expire:"1d",loginPath:"/vdoing/login/",loginKey:"vdoing_manager",loginSession:!1,firstLogin:0,firstLoginKey:"vdoing_first_login",loginInfo:{"/private/test1/":[{username:"vdoing",password:"123456"}],vdoing_first_login:[{username:"vdoing",password:"123456"}]}},indexImg:{navColor:2,switchNavColor:!0,bgTimeColor:!1,bgTimeColorArray:["transparent","transparent","transparent","transparent"],descFade:!0,desc:["本知识库是一个专注于云原生技术和 SRE（站点可靠性工程）。我的目标是为运维工程师、SRE 工程师 和 IT 从业人员提供一个集工作经验积累、学习资源共享和知识记录于一体的在线知识库。"],descFontSize:"1.4rem",descFadeInTime:200,descFadeOutTime:100,descNextTime:800,bubble:!1,bubblePosition:0,bubbleNum:200},author:{name:"闫世成 ",link:"https://docs.yanshicheng.com"},blogger:{avatar:"https://wiki-images.yanshicheng.com/static/202407281359303.jpg",name:"YanShicheng",slogan:"SRE运维知识库！"},social:{icons:[{iconClass:"icon-github",title:"GitHub",link:"https://github.com/yanshicheng"},{iconClass:"icon-gitee",title:"Gitee",link:"https://gitee.com/yanshicheng"},{iconClass:"icon-rss",title:"网站首页",link:"https://www.yanshicheng.com"},{iconClass:"icon-youjian",title:"联系我",link:"https://www.yanshicheng.cn/?contact=true"}]},footer:{createYear:2024,copyrightInfo:'闫世成  | blog<br> <a href="http://beian.miit.gov.cn/" target="_blank">京ICP备16013810号</a>'}},locales:{"/":{lang:"zh-CN",title:"闫世成 SRE运维之路",description:"YanShicheng Sre 运维知识库。",path:"/"}}};var uc=t(96),dc=t(97),pc=t(11);var hc={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(pc.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(pc.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(pc.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let r=0,o=n.length;r<o;r++){const{frontmatter:{categories:o,tags:a}}=n[r];"array"===Object(pc.n)(o)&&o.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(pc.n)(a)&&a.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Zt.component(uc.default),Zt.component(dc.default);function fc(n){return n.toString().padStart(2,"0")}t(245);Zt.component("Aplayer",()=>t.e(16).then(t.bind(null,361))),Zt.component("BlockToggle",()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,362))),Zt.component("Bubble",()=>Promise.all([t.e(0),t.e(8)]).then(t.bind(null,363))),Zt.component("Card",()=>Promise.all([t.e(0),t.e(9)]).then(t.bind(null,364))),Zt.component("Fantasy",()=>Promise.all([t.e(0),t.e(10)]).then(t.bind(null,365))),Zt.component("GlobalTip",()=>Promise.all([t.e(0),t.e(11)]).then(t.bind(null,366))),Zt.component("IndexBigImg",()=>Promise.all([t.e(0),t.e(12)]).then(t.bind(null,367))),Zt.component("Login",()=>Promise.all([t.e(0),t.e(13)]).then(t.bind(null,368))),Zt.component("PageInfo",()=>t.e(15).then(t.bind(null,369))),Zt.component("SidebarReverse",()=>t.e(17).then(t.bind(null,370))),Zt.component("Twikoo",()=>Promise.all([t.e(0),t.e(14)]).then(t.bind(null,371))),Zt.component("WebInfo",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,359))),Zt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,96))),Zt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,97))),Zt.component("Badge",()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,411)));t(246);var mc={name:"ReadingProgress",data:()=>({readingTop:0,readingHeight:1,progressStyle:null,transform:void 0,running:!1}),watch:{$readingShow(){this.progressStyle=this.getProgressStyle(),this.$readingShow&&window.addEventListener("scroll",this.base)}},mounted(){this.transform=this.getTransform(),this.progressStyle=this.getProgressStyle(),this.$readingShow&&window.addEventListener("scroll",this.base)},beforeDestroy(){this.$readingShow&&window.removeEventListener("scroll",this.base)},methods:{base(){this.running||(this.running=!0,requestAnimationFrame(this.getReadingBase))},getReadingBase(){this.readingHeight=this.getReadingHeight()-this.getScreenHeight(),this.readingTop=this.getReadingTop(),this.progressStyle=this.getProgressStyle(),this.running=!1},getReadingHeight:()=>Math.max(document.body.scrollHeight,document.body.offsetHeight,0),getScreenHeight:()=>Math.max(window.innerHeight,document.documentElement.clientHeight,0),getReadingTop:()=>Math.max(window.pageYOffset,document.documentElement.scrollTop,0),getTransform(){const n=document.createElement("div");return["transform","-webkit-transform","-moz-transform","-o-transform","-ms-transform"].find(e=>e in n.style)||void 0},getProgressStyle(){const n=this.readingTop/this.readingHeight;switch(this.$readingShow){case"top":case"bottom":return this.transform?`${this.transform}: scaleX(${n})`:`width: ${100*n}%`;case"left":case"right":return this.transform?`${this.transform}: scaleY(${n})`:`height: ${100*n}%`;default:return null}}}},vc=(t(247),Object(ic.a)(mc,(function(){var n=this._self._c;return n("ClientOnly",[this.$readingShow?n("div",{staticClass:"reading-progress",class:this.$readingShow},[n("div",{staticClass:"progress",style:this.progressStyle})]):this._e()])}),[],!1,null,"3640397f",null).exports),gc=t(95),yc=t.n(gc),_c=[({Vue:n,options:e,router:t,siteData:r,isServer:o})=>{function a(n,e){try{n.forEach(n=>{if(e.username==n.username&&e.password==n.password)throw new Error})}catch(n){return!1}return!0}function i(n,e,r){throw t.push({path:n,query:{toPath:e,verifyMode:r}}),new Error("请先登录！")}o||r.themeConfig.privatePage&&r.themeConfig.privatePage.openPrivate&&t.beforeEach((n,e,t)=>{try{let{username:e,password:t,loginPath:o,loginKey:s,loginSession:c,loginInfo:l,firstLogin:u,firstLoginKey:d}=r.themeConfig.privatePage;if(!s&&(s="vdoing_manager"),!d&&(d="vdoing_first_login"),c&&window.addEventListener("unload",(function(){localStorage.removeItem(s),localStorage.removeItem(d)})),o==n.path||!o)throw new Error("无需验证");let p=JSON.parse(localStorage.getItem(s));if(p&&p.username==e&&p.password==t){if(!(new Date-p.time>p.expire))throw new Error("管理员验证成功！");localStorage.removeItem(s)}let h=!0;if(1==parseInt(u)||2==parseInt(u)){2==parseInt(u)&&(h=!1);let e=JSON.parse(localStorage.getItem(d));!e&&i(o,n.path,"first"),e&&(l&&l.hasOwnProperty(d)?a(l[d],e)&&i(o,n.path,"first"):i(o,n.path,"first"))}if("/"==n.path)throw new Error("首页不需要验证！");h&&r.pages.forEach(e=>{if(e.path==n.path&&e.frontmatter.private&&1==e.frontmatter.private){c&&window.addEventListener("unload",(function(){localStorage.removeItem(e.frontmatter.permalink)}));let t=JSON.parse(localStorage.getItem(e.frontmatter.permalink));if(!t&&i(o,n.path,e.frontmatter.loginInfo||e.frontmatter.username||e.frontmatter.password||e.frontmatter.expire?"single":"all"),e.frontmatter.username&&e.frontmatter.password||e.frontmatter.loginInfo){!t&&i(o,n.path,"single"),new Date-t.time>t.expire&&(localStorage.removeItem(e.frontmatter.permalink),i(o,n.path,"single"));let r=!0;Array.isArray(e.frontmatter.loginInfo)&&(r=a(e.frontmatter.loginInfo,t)),r&&t.username!==e.frontmatter.username&&t.password!==e.frontmatter.password&&i(o,n.path,"single")}else{let e=!0;l&&l.hasOwnProperty(n.path)&&(e=a(l[n.path],t)),e&&i(o,n.path,"all")}}})}catch(n){}t()})},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${fc(n.getUTCMonth()+1)}-${fc(n.getUTCDate())} ${fc(n.getUTCHours())}:${fc(n.getUTCMinutes())}:${fc(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(hc)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},({router:n})=>{"undefined"!=typeof window&&function(){var n=document.createElement("script"),e=window.location.protocol.split(":")[0];n.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}()},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?f06618722a8bed59d75788172aef88ca";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))},({Vue:n})=>{n.component(vc.name,vc),n.mixin({computed:{$readingShow(){return this.$page.frontmatter.readingShow}}})},({Vue:n})=>n.use(yc.a)],bc=["PageInfo","BlockToggle","ReadingProgress"];class xc extends class{constructor(){this.store=new Zt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Zt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(xc.prototype,{getPageAsyncComponent:ss,getLayoutAsyncComponent:cs,getAsyncComponent:ls,getVueComponent:us});var kc={install(n){const e=new xc;n.$vuepress=e,n.prototype.$vuepress=e}};function wc(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Tc={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return ps("pageKey",e),Zt.component(e)||Zt.component(e,ss(e)),Zt.component(e)?n(e):n("")}},Ec={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Cc={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Sc=(t(248),t(249),Object(ic.a)(Cc,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Pc={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Zt.config.productionTip=!1,Zt.use(Vi),Zt.use(kc),Zt.mixin(function(n,e,t=Zt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),a={};return Object.keys(o).reduce((n,e)=>(e.startsWith("$")&&(n[e]=o[e].get),n),a),{computed:a}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},lc)),Zt.component("Content",Tc),Zt.component("ContentSlotsDistributor",Ec),Zt.component("OutboundLink",Sc),Zt.component("ClientOnly",Pc),Zt.component("Layout",cs("Layout")),Zt.component("NotFound",cs("NotFound")),Zt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.9",hash:"141d817"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:lc.routerBase||lc.base,t=new Vi({base:e,mode:"history",fallback:!1,routes:cc,scrollBehavior:(n,e,t)=>t||(n.hash?!Zt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(wc(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";wc(n,t)?r(t):r()}else r();else{const t=e.path+"/",o=e.path+".html";wc(n,o)?r(o):wc(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(_c.filter(n=>"function"==typeof n).map(e=>e({Vue:Zt,options:r,router:t,siteData:lc,isServer:n})))}catch(n){console.error(n)}return{app:new Zt(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},bc.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);